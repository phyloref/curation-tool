(function(e){function t(t){for(var n,o,s=t[0],l=t[1],c=t[2],u=0,p=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==i[l]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},i={app:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/klados/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=l;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("64a9"),i=r.n(n);i.a},"0417":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("6762"),r("2fdb"),r("7f7f"),r("ac6a"),r("5df3"),r("4f7f"),r("c5f6");var n=r("2ef0"),i=r("9068"),a={name:"Phylotree",props:{phylogeny:Object,phyloref:Object,spacingX:{type:Number,default:20},phylogenyIndex:{type:String,default:(0,n.uniqueId)()},selectedNodeLabel:{type:String,required:!1}},data:function(){return{pinningNodes:[],pinningNodeChildrenIRIs:new Set}},computed:{reasoningResults:function(){return this.$store.state.resolution.reasoningResults},newickAsString:function(){return this.phylogeny.newick||"()"},parsedNewick:function(){return new i.PhylogenyWrapper(this.phylogeny).getParsedNewickWithIRIs(this.$store.getters.getPhylogenyId(this.phylogeny),d3.layout.newick_parser)},newickErrors:function(){if(!(0,n.has)(this.parsedNewick,"json")||null===this.parsedNewick.json)return(0,n.has)(this.parsedNewick,"error")?this.parsedNewick.error:"unknown error"},tree:function(){var e=this,t=d3.layout.phylotree().svg(d3.select("#phylogeny".concat(this.phylogenyIndex))).options({"internal-names":!1,transitions:!1,"left-right-spacing":"fit-to-size","top-bottom-spacing":"fixed-step"}).style_nodes((function(t,r){var a=new i.PhylogenyWrapper(e.phylogeny||{}),o=(new i.PhylorefWrapper(e.phyloref||{}),t.selectAll("text"));if((0,n.has)(r,"name")&&""!==r.name&&r.children&&(e.selectedNodeLabel&&e.selectedNodeLabel.toLowerCase()!==r.name.toLowerCase()?o.empty()||o.remove():(o.empty()&&(o=t.append("text")),o.classed("internal-label",!0).text(r.name).attr("dx","0.3em").attr("dy","0.35em"),e.selectedNodeLabel&&e.selectedNodeLabel.toLowerCase()===r.name.toLowerCase()&&(o.attr("id","current_expected_label_phylogeny_".concat(e.phylogenyIndex)),o.classed("selected-internal-label",!0)))),void 0!==e.phyloref&&(0,n.has)(r,"@id")&&e.$store.getters.getResolvedNodesForPhylogeny(e.phylogeny,e.phyloref).includes(r["@id"])&&(e.pinningNodes.push(r),e.recurseNodes(r,(function(t){return e.pinningNodeChildrenIRIs.add(t["@id"])})),t.classed("pinning-node",!0),t.select("circle").attr("r",6),t.attr("id","current_pinning_node_phylogeny_".concat(e.phylogenyIndex))),(0,n.has)(r,"@id")&&e.pinningNodeChildrenIRIs.has(r["@id"])&&t.classed("descendant-of-pinning-node-node",!0),void 0!==r.name&&void 0===r.children){var s=a.getTaxonomicUnitsForNodeLabel(r.name);0===s.length?t.classed("terminal-node-without-tunits",!0):void 0!==e.phyloref&&((0,n.has)(e.phyloref,"label")&&e.selectedNodeLabel&&e.selectedNodeLabel.toLowerCase()===r.name.toLowerCase()&&o.attr("id","current_expected_label_phylogeny_".concat(e.phylogenyIndex)),(0,n.has)(e.phyloref,"internalSpecifiers")&&e.phyloref.internalSpecifiers.some((function(e){return a.getNodeLabelsMatchedBySpecifier(e).includes(r.name)}))&&t.classed("internal-specifier-node",!0),(0,n.has)(e.phyloref,"externalSpecifiers")&&e.phyloref.externalSpecifiers.some((function(e){return a.getNodeLabelsMatchedBySpecifier(e).includes(r.name)}))&&t.classed("external-specifier-node",!0))}})).style_edges((function(t,r){(0,n.has)(r,"source")&&(0,n.has)(r.source,"@id")&&e.pinningNodeChildrenIRIs.has(r.source["@id"])?t.classed("descendant-of-pinning-node-branch",!0):t.classed("descendant-of-pinning-node-branch",!1)}));return t(this.parsedNewick),t}},watch:{phyloref:function(){this.redrawTree()},reasoningResults:function(){this.redrawTree()},phylogeny:function(){this.redrawTree()},selectedNodeLabel:function(){this.redrawTree()}},mounted:function(){this.redrawTree()},methods:{recurseNodes:function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;t(e,i,a);var o=i+1;return(0,n.has)(e,"children")&&e.children.forEach((function(e){o=r.recurseNodes(e,t,o,i)})),o},redrawTree:function(){this.pinningNodes=[],this.pinningNodeChildrenIRIs=new Set,this.tree.font_size(16).size([0,$("#phylogeny".concat(this.phylogenyIndex)).innerWidth()]).spacing_x(this.spacingX).update()}}};t.default=a},"0fed":function(e,t,r){},"0ff4":function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("6762"),r("2fdb"),r("ac6a");var i=n(r("2b0e")),a=r("9068"),o=r("2ef0"),s={getters:{getPhylorefType:function(){return function(e){var t=(e.internalSpecifiers||[]).length,r=(e.externalSpecifiers||[]).length;if(r>0){if(t>0)return"Maximum clade definition"}else if(t>0)return t>1?"Minimum clade definition":"Invalid definition (single internal specifier cannot be resolved)";return"Invalid definition (must have at least one internal specifier)"}}},mutations:{setPhylorefProps:function(e,t){if(!(0,o.has)(t,"phyloref"))throw new Error('setPhylorefProps needs a phyloref to modify using the "phyloref" argument');if((0,o.has)(t,"label")&&i.default.set(t.phyloref,"label",t.label),(0,o.has)(t,"cladeDefinition")&&i.default.set(t.phyloref,"cladeDefinition",t.cladeDefinition),(0,o.has)(t,"curatorComments")&&i.default.set(t.phyloref,"curatorComments",t.curatorComments),(0,o.has)(t,"expectedResolution")){if(!(0,o.has)(t,"phylogenyId"))throw new Error('setPhylorefProps used to set expectedResolution needs a phylogeny ID to set using the "phylogenyId" argument');(0,o.has)(t.phyloref,"expectedResolution")||i.default.set(t.phyloref,"expectedResolution",{}),i.default.set(t.phyloref.expectedResolution,t.phylogenyId,t.expectedResolution)}},addExternalSpecifier:function(e,t){if(!(0,o.has)(t,"phyloref"))throw new Error('addSpecifier needs a phyloref to modify using the "phyloref" argument');(0,o.has)(t.phyloref,"externalSpecifiers")||i.default.set(t.phyloref,"externalSpecifiers",[]),t.phyloref.externalSpecifiers.push({})},addInternalSpecifier:function(e,t){if(!(0,o.has)(t,"phyloref"))throw new Error('addSpecifier needs a phyloref to modify using the "phyloref" argument');(0,o.has)(t.phyloref,"internalSpecifiers")||i.default.set(t.phyloref,"internalSpecifiers",[]),t.phyloref.internalSpecifiers.push({})},deleteSpecifier:function(e,t){if(!(0,o.has)(t,"phyloref"))throw new Error('deleteSpecifier needs a phyloref to modify using the "phyloref" argument');if(!(0,o.has)(t,"specifier"))throw new Error('deleteSpecifier needs a specifier to delete using the "specifier" argument');new a.PhylorefWrapper(t.phyloref).deleteSpecifier(t.specifier)},setSpecifierProps:function(e,t){if(!(0,o.has)(t,"specifier"))throw new Error('setSpecifierProps needs a specifier to modify using the "specifier" argument');if(!(0,o.has)(t,"props"))throw new Error('setSpecifierProps needs properties to set this specifier to using the "props" argument');var r=t.specifier,n=t.props;(0,o.keys)(r).forEach((function(e){return i.default.delete(r,e)})),(0,o.keys)(n).forEach((function(e){return i.default.set(r,e,(0,o.cloneDeep)(n[e]))}))},setSpecifierType:function(e,t){if(!(0,o.has)(t,"phyloref"))throw new Error('setSpecifierType needs a phyloref to modify using the "phyloref" argument');if(!(0,o.has)(t,"specifier"))throw new Error('setSpecifierType needs a specifier to modify using the "specifier" argument');if(!(0,o.has)(t,"specifierType"))throw new Error('setSpecifierType needs a specifierType to set to using the "specifierType" argument');if((0,o.has)(t.phyloref,"internalSpecifiers")&&t.phyloref.internalSpecifiers.includes(t.specifier)&&t.phyloref.internalSpecifiers.splice(t.phyloref.internalSpecifiers.indexOf(t.specifier),1),(0,o.has)(t.phyloref,"externalSpecifiers")&&t.phyloref.externalSpecifiers.includes(t.specifier)&&t.phyloref.externalSpecifiers.splice(t.phyloref.externalSpecifiers.indexOf(t.specifier),1),"Internal"===t.specifierType)(0,o.has)(t.phyloref,"internalSpecifiers")?t.phyloref.internalSpecifiers.push(t.specifier):i.default.set(t.phyloref,"internalSpecifiers",[t.specifier]);else{if("External"!==t.specifierType)throw new Error("Unknown specifier type: ".concat(t.specifierType));(0,o.has)(t.phyloref,"externalSpecifiers")?t.phyloref.externalSpecifiers.push(t.specifier):i.default.set(t.phyloref,"externalSpecifiers",[t.specifier])}},setSpecifierPart:function(e,t){if(!(0,o.has)(t,"specifierPart"))throw new Error('setSpecifierPart needs a specifier part to modify using the "specifierPart" argument');(0,o.has)(t,"scientificName")&&i.default.set(t.specifierPart,"scientificName",t.scientificName),(0,o.has)(t,"occurrenceID")&&i.default.set(t.specifierPart,"occurrenceID",t.occurrenceID)},updateSpecifierExternalReference:function(e,t){if(!(0,o.has)(t,"specifier"))throw new Error('updateSpecifierExternalReference needs a specifier to modify using the "specifier" argument');(0,o.has)(t.specifier,"externalReferences")||i.default.set(t.specifier,"externalReferences",[]),(0,o.has)(t,"fromExternalReference")&&t.specifier.externalReferences.includes(t.fromExternalReference)&&t.specifier.externalReferences.splice(t.specifier.externalReferences.indexOf(t.fromExternalReference),1),(0,o.has)(t,"toExternalReference")&&t.specifier.externalReferences.push(t.toExternalReference)},addToSpecifier:function(e,t){if(!(0,o.has)(t,"specifier"))throw new Error('addToSpecifier needs a specifier to modify using the "specifier" argument');(0,o.has)(t,"externalReference")&&((0,o.has)(t.specifier,"externalReferences")||i.default.set(t.specifier,"externalReferences",[]),t.specifier.externalReferences.push(t.externalReference)),(0,o.has)(t,"specimen")&&((0,o.has)(t.specifier,"includesSpecimens")||i.default.set(t.specifier,"includesSpecimens",[]),t.specifier.includesSpecimens.push(t.specimen)),(0,o.has)(t,"scientificName")&&((0,o.has)(t.specifier,"scientificNames")||i.default.set(t.specifier,"scientificNames",[]),t.specifier.scientificNames.push(t.scientificName))},deleteFromSpecifier:function(e,t){if(!(0,o.has)(t,"specifier"))throw new Error('deleteFromSpecifier needs a specifier to modify using the "specifier" argument');(0,o.has)(t,"scientificName")&&((0,o.has)(t.specifier,"scientificNames")||i.default.set(t.specifier,"scientificNames",[]),t.specifier.scientificNames.includes(t.scientificName)&&t.specifier.scientificNames.splice(t.specifier.scientificNames.indexOf(t.scientificName),1)),(0,o.has)(t,"specimen")&&((0,o.has)(t.specifier,"includesSpecimens")||i.default.set(t.specifier,"includesSpecimens",[]),t.specifier.includesSpecimens.includes(t.specimen)&&t.specifier.includesSpecimens.splice(t.specifier.includesSpecimens.indexOf(t.specimen),1)),(0,o.has)(t,"externalReference")&&((0,o.has)(t.specifier,"externalReferences")||i.default.set(t.specifier,"externalReferences",[]),t.specifier.externalReferences.includes(t.externalReference)&&t.specifier.externalReferences.splice(t.specifier.externalReferences.indexOf(t.externalReference),1))}}};t.default=s},1:function(e,t){},"11ec":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.newickErrors?[r("p",[r("strong",[e._v("Error parsing phylogeny.")]),e._v("\n      Please\n      "),r("a",{attrs:{href:"javascript: void"},on:{click:function(t){return e.$store.commit("changeDisplay",{phylogeny:e.phylogeny})}}},[e._v("\n        edit the phylogeny\n      ")]),e._v("\n      to fix this error.\n    ")])]:r("div",{staticClass:"phylotreeContainer"},[r("svg",{staticClass:"col-md-12 phylogeny",attrs:{id:"phylogeny"+e.phylogenyIndex}}),r("ResizeObserver",{on:{notify:e.redrawTree}})],1)],2)},i=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},"199c":function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r("2ef0"),a=r("2f62"),o=n(r("f7af")),s=n(r("e896")),l=n(r("ea03")),c=n(r("613e")),d=n(r("6cb3")),u=n(r("22ec")),p=n(r("2cf4")),f={name:"App",components:{TopNavigationBar:o.default,Sidebar:s.default,PhyxView:d.default,PhylogenyView:l.default,PhylorefView:c.default,AboutCurationToolModal:u.default,AdvancedOptionsModal:p.default},data:function(){return{version:"refs/tags/v0.3.0-rc2"}},computed:(0,a.mapState)({display:function(e){return e.ui.display},currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx}}),watch:{currentPhyx:function(){console.log("currentPhyx changed; resetting resolution results."),this.$store.commit("setReasoningResults",void 0)}},created:function(){var e=this;$(window).on("beforeunload",(function(){var t="Your modifications have not been saved and will be lost if you close Klados. Confirm to discard your changes, or cancel to return to Klados.";return!(0,i.isEqual)(e.loadedPhyx,e.currentPhyx)&&t}))}};t.default=f},"1b48":function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("b54a"),r("7f7f");var i=n(r("d225")),a=n(r("b0b4")),o=n(r("2b0e")),s=r("2ef0");function l(e){return!!(0,s.isString)(e)&&0!==e.trim().length}var c=function(){function e(t){(0,i.default)(this,e),this.citation=t}return(0,a.default)(e,[{key:"toString",value:function(){if(this.citation&&!(0,s.isEmpty)(this.citation)){var e=this.authorsAsStrings;0===e.length&&(e=["Anonymous"]),e.length>2&&(e=["".concat(e[0]," et al")]);var t="".concat(e.join(" and ")," (").concat(this.citation.year||"n.d.",") ").concat(this.citation.title||"Untitled"),r=[],n=this.editorsAsStrings;n.length>0&&r.push("eds: ".concat(n.join(" and ")));var i=this.seriesEditorsAsStrings;i.length>0&&r.push("series eds: ".concat(i.join(" and "))),r.length>0&&(t+=" [".concat(r.join(", "),"]")),(0,s.has)(this.citation,"section_title")&&(t+=" (section: ".concat(this.citation.section_title,")"));var a=" ";if((0,s.has)(this.citation,"figure")&&(a+=" fig ".concat(this.citation.figure)),a+=this.doisAsStrings.map((function(e){return" doi: ".concat(e)})).join(""),a+=this.urlsAsStrings.map((function(e){return" URL: ".concat(e)})).join(""),a+=this.isbns.map((function(e){return" ISBN: ".concat(e)})).join(""),(0,s.has)(this.citation,"journal")&&"article"===this.citation.type){var o=this.citation.journal,l=(0,s.has)(o,"number")?"(".concat(o.number,")"):"",c=(0,s.has)(this.citation,"pages")?":".concat(this.citation.pages):"";return a+=this.issns.map((function(e){return"ISSN: ".concat(e," ")})).join(""),"".concat(t," ").concat(o.name||"Unknown journal"," ").concat(o.volume||"Unknown volume").concat(l).concat(c).concat(a)}return(0,s.has)(this.citation,"pages")&&(a+=" pages: ".concat(this.citation.pages)),(0,s.has)(this.citation,"publisher")&&(0,s.has)(this.citation,"city")?"".concat(t," ").concat(this.citation.publisher,", ").concat(this.citation.city).concat(a):(0,s.has)(this.citation,"publisher")?"".concat(t," ").concat(this.citation.publisher).concat(a):"".concat(t).concat(a)}}},{key:"authors",get:function(){var e=this.citation;return(0,s.has)(e,"authors")?Array.isArray(e.authors)?e.authors:[e.authors]:[]},set:function(e){o.default.set(this.citation,"authors",e)}},{key:"authorsAsStrings",get:function(){return this.authors.map((function(e){return e.name}))},set:function(e){o.default.set(this.citation,"authors",e.filter(l).map((function(e){return{name:e}})))}},{key:"editorsAsStrings",get:function(){return(0,s.has)(this.citation,"editors")?this.citation.editors.map((function(e){return e.name})):[]},set:function(e){o.default.set(this.citation,"editors",e.filter(l).map((function(e){return{name:e}})))}},{key:"seriesEditorsAsStrings",get:function(){return(0,s.has)(this.citation,"series_editors")?this.citation.series_editors.map((function(e){return e.name})):[]},set:function(e){o.default.set(this.citation,"series_editors",e.filter(l).map((function(e){return{name:e}})))}},{key:"identifiers",get:function(){var e=this.citation;return(0,s.has)(e,"identifier")?Array.isArray(e.identifier)?e.identifier:[e.identifier]:[]},set:function(e){o.default.set(this.citation,"identifier",e)}},{key:"doisAsStrings",get:function(){return this.identifiers.filter((function(e){return(0,s.has)(e,"type")&&"doi"===e.type&&(0,s.has)(e,"id")&&!(0,s.isEmpty)(e.id)})).map((function(e){return e.id}))},set:function(e){this.identifiers=this.identifiers.filter((function(e){return(0,s.has)(e,"type")&&"doi"!==e.type})).concat(e.filter(l).map((function(e){return{type:"doi",id:e}})))}},{key:"isbns",get:function(){return this.identifiers.map((function(e){return(0,s.has)(e,"type")&&"isbn"===e.type&&(0,s.has)(e,"id")&&!(0,s.isEmpty)(e.id)?[e.id]:[]})).reduce((function(e,t){return e.concat(t)}),[])},set:function(e){this.identifiers=this.identifiers.filter((function(e){return(0,s.has)(e,"type")&&"isbn"!==e.type})).concat(e.filter(l).map((function(e){return{type:"isbn",id:e}})))}},{key:"issns",get:function(){return this.identifiers.map((function(e){return(0,s.has)(e,"type")&&"issn"===e.type&&(0,s.has)(e,"id")&&!(0,s.isEmpty)(e.id)?[e.id]:[]})).reduce((function(e,t){return e.concat(t)}),[])},set:function(e){this.identifiers=this.identifiers.filter((function(e){return(0,s.has)(e,"type")&&"issn"!==e.type})).concat(e.filter(l).map((function(e){return{type:"issn",id:e}})))}},{key:"firstDOI",get:function(){var e=this.doisAsStrings||[];if(e.length>0)return e[0]}},{key:"urlsAsStrings",get:function(){return(0,s.has)(this.citation,"link")?this.citation.link.map((function(e){return e.url})):[]},set:function(e){o.default.set(this.citation,"link",e.filter(l).map((function(e){return{url:e}})))}},{key:"firstURL",get:function(){if(this.urlsAsStrings.length>0)return this.urlsAsStrings[0]}},{key:"url",get:function(){return this.firstURL?this.firstURL:this.firstDOI?"http://doi.org/".concat(encodeURI(this.firstDOI)):this.isbns.length>0?"https://www.worldcat.org/search?q=bn%3A".concat(encodeURI(this.isbns[0])):this.issns.length>0?"https://www.worldcat.org/search?q=n2%3A".concat(encodeURI(this.issns[0])):(0,s.has)(this.citation,"type")&&(0,s.has)(this.citation,"title")?"article"===this.citation.type?"https://search.crossref.org/?q=".concat(encodeURI(this.citation.title)):"https://www.worldcat.org/search?q=".concat(encodeURI(this.citation.title)):void 0}},{key:"journal",get:function(){return(0,s.has)(this.citation,"journal")?this.citation.journal:(o.default.set(this.citation,"journal",{}),this.citation.journal)}}]),e}(),d={getters:{getWrappedCitation:function(){return function(e){return new c(e)}}},mutations:{setCitations:function(e,t){o.default.set(t.object,t.citationKey,t.citations)}}};t.default=d},"1f55":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.dataChanged?r("div",{staticClass:"float-right",attrs:{title:e.message}},[r("FontAwesomeIcon",{style:{color:"#FF8200"},attrs:{size:"lg",icon:"exclamation-circle"}})],1):e._e()},i=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},2:function(e,t){},2086:function(e,t,r){"use strict";r.r(t);var n=r("e6b3"),i=r("b515");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"22ec":function(e,t,r){"use strict";r.r(t);var n=r("4abe"),i=r("2e10");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"23be":function(e,t,r){"use strict";r.r(t);var n=r("199c"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},2641:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("ModifiedCard",{attrs:{message:"This phylogeny has been modified since being loaded. Use 'Save' to save your changes.",compare:e.selectedPhylogeny,"compare-to":e.loadedPhyx.phylogenies[e.currentPhyx.phylogenies.indexOf(e.selectedPhylogeny)]}}),r("div",{staticClass:"card"},[r("h5",{staticClass:"card-header"},[e._v("\n      Phylogeny information\n    ")]),r("div",{staticClass:"card-body"},[r("form",[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-2 col-form-label",attrs:{for:"phylogenyId"}},[e._v("\n            Identifier\n          ")]),r("div",{staticClass:"col-md-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.phylogenyId,expression:"phylogenyId"}],staticClass:"form-control",class:{"border-danger":e.phylogenyIdError},attrs:{id:"phylogenyId",type:"text",placeholder:"A global or local identifier for this phylogeny, e.g. 'http://doi.org/10.13/49#12' or '#phylogeny1'"},domProps:{value:e.phylogenyId},on:{input:function(t){t.target.composing||(e.phylogenyId=t.target.value)}}}),e.phylogenyIdError?r("p",{staticClass:"form-text text-danger"},[e._v(e._s(e.phylogenyIdError))]):e._e()])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-2 col-form-label",attrs:{for:"phylogenyLabel"}},[e._v("\n            Label\n          ")]),r("div",{staticClass:"col-md-10"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.phylogenyLabel,expression:"phylogenyLabel",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"phylogenyLabel",type:"text",placeholder:"Enter phylogeny name"},domProps:{value:e.phylogenyLabel},on:{input:function(t){t.target.composing||(e.phylogenyLabel=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-2 col-form-label",attrs:{for:"phylogenyDescription"}},[e._v("\n            Description\n          ")]),r("div",{staticClass:"col-md-10"},[r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.phylogenyDescription,expression:"phylogenyDescription",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{id:"phylogenyDescription",type:"text",placeholder:"Enter phylogeny description"},domProps:{value:e.phylogenyDescription},on:{input:function(t){t.target.composing||(e.phylogenyDescription=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),r("Citation",{attrs:{label:"Primary reference phylogeny",object:e.selectedPhylogeny,"citation-key":"primaryPhylogenyCitation"}}),r("Citation",{attrs:{label:"Reference phylogeny",object:e.selectedPhylogeny,"citation-key":"phylogenyCitation"}}),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-md-2 control-label",attrs:{for:"newick"}},[e._v("\n            Newick\n          ")]),r("div",{staticClass:"col-md-10 input-group"},[r("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.phylogenyNewick,expression:"phylogenyNewick",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{rows:"5",placeholder:"Enter Newick string for phylogeny here"},domProps:{value:e.phylogenyNewick},on:{change:function(t){e.phylogenyNewick=t.target.value}}})])])],1)])]),0!==e.phylogenyNewickErrors.length?r("div",{staticClass:"card border-dark mt-2"},[r("h5",{staticClass:"card-header bg-danger"},[e._v("\n      Errors occurred while parsing Newick string\n    ")]),r("div",{staticClass:"card-body"},[e._l(e.phylogenyNewickErrors,(function(t,n){return[r("p",[r("strong",[e._v(e._s(t.title)+".")]),e._v(" "+e._s(t.message))])]}))],2)]):e._e(),0===e.phylogenyNewickErrors.length?r("div",{staticClass:"card mt-2"},[r("h5",{staticClass:"card-header"},[e._v("\n      Phylogeny visualization\n    ")]),r("div",{staticClass:"card-body"},[r("Phylotree",{attrs:{phylogeny:e.selectedPhylogeny}})],1)]):e._e()],1)},i=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},2670:function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("a481"),r("6762"),r("2fdb");var i=n(r("2b0e")),a=r("2ef0"),o=r("9068"),s={state:{reasoningResults:void 0},getters:{getBaseURIForPhylogeny:function(e,t,r){return function(e){return o.PhyxWrapper.getBaseURIForPhylogeny(r.phyx.currentPhyx.phylogenies.indexOf(e))}},getBaseURIForPhyloref:function(e,t,r){return function(e){return o.PhyxWrapper.getBaseURIForPhyloref(r.phyx.currentPhyx.phylorefs.indexOf(e))}},getPhylogenyId:function(e,t){return function(e){return(0,a.has)(e,"@id")?e["@id"]:t.getBaseURIForPhylogeny(e)}},getPhylorefId:function(e,t){return function(e){return(0,a.has)(e,"@id")?e["@id"]:t.getBaseURIForPhyloref(e)}},getResolvedNodesForPhylogeny:function(e,t){return function(r,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.getPhylorefId(n);if(!(0,a.has)(e.reasoningResults,"phylorefs")||!(0,a.has)(e.reasoningResults.phylorefs,o))return[];var s=e.reasoningResults.phylorefs[o],l=t.getPhylogenyId(r),c=s.filter((function(e){return e.includes("".concat(l,"_"))}));if(!i)return c;var d=c.map((function(e){return e.replace("".concat(l,"_"),"")}));return d}},getExpectedResolution:function(e,t){return function(e,r){if(!(0,a.has)(e,"expectedResolution"))return{};var n=t.getPhylogenyId(r);return(0,a.has)(e.expectedResolution,n)?e.expectedResolution[n]:{}}},getExpectedNodeLabel:function(e,t){return function(e,r){var n=t.getExpectedResolution(e,r);if((0,a.has)(n,"nodeLabel"))return n.nodeLabel;var i=new o.PhylogenyWrapper(r).getNodeLabels();return e.label&&i.includes(e.label)?e.label:void 0}}},mutations:{setReasoningResults:function(e,t){i.default.set(e,"reasoningResults",t)}},actions:{setExpectedResolution:function(e,t){var r=t.phylogeny,n=t.phyloref,i=t.expectedResolutionData,o=r["@id"];o||(o=e.getters.getPhylogenyId(r),e.commit("setPhylogenyProps",{phylogeny:r,"@id":o}));var s=(0,a.cloneDeep)(n.expectedResolution||{}),l=s[o]||{};(0,a.has)(i,"description")&&(l.description=i.description),(0,a.has)(i,"nodeLabel")&&(l.nodeLabel=i.nodeLabel),i.phylogenyId=o,e.commit("setPhylorefProps",{phyloref:n,expectedResolution:l,phylogenyId:o})}}};t.default=s},2820:function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("8e6e"),r("ac6a"),r("456d"),r("55dd");var i=n(r("bd86")),a=(n(r("2b0e")),r("2f62")),o=(r("2ef0"),r("9068")),s=n(r("2086")),l=n(r("c0e6")),c=n(r("8e95")),d=n(r("c4a9"));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={name:"PhylorefView",components:{ModifiedCard:s.default,Phylotree:l.default,Citation:c.default,Specifier:d.default},computed:p({selectedPhylorefLabel:{get:function(){return this.selectedPhyloref.label},set:function(e){this.$store.commit("setPhylorefProps",{phyloref:this.selectedPhyloref,label:e})}},selectedCladeDefinition:{get:function(){return this.selectedPhyloref.cladeDefinition},set:function(e){this.$store.commit("setPhylorefProps",{phyloref:this.selectedPhyloref,cladeDefinition:e})}},selectedCuratorComments:{get:function(){return this.selectedPhyloref.curatorComments},set:function(e){this.$store.commit("setPhylorefProps",{phyloref:this.selectedPhyloref,curatorComments:e})}},computedPhylorefType:function(){return this.$store.getters.getPhylorefType(this.selectedPhyloref)},phylorefURI:function(){return this.$store.getters.getPhylorefId(this.selectedPhyloref)},noSpecifiers:function(){return 0===(this.selectedPhyloref.internalSpecifiers||[]).length&&0===(this.selectedPhyloref.externalSpecifiers||[]).length}},(0,a.mapState)({currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx},phylogenies:function(e){return e.phyx.currentPhyx.phylogenies},display:function(e){return e.ui.display},selectedPhylogeny:function(e){return e.ui.display.phylogeny},selectedPhyloref:function(e){return e.ui.display.phyloref}})),methods:{getExpectedResolution:function(e){return this.$store.getters.getExpectedResolution(this.selectedPhyloref,e)},setExpectedResolution:function(e,t){this.$store.dispatch("setExpectedResolution",{phyloref:this.selectedPhyloref,phylogeny:e,expectedResolutionData:t})},getNodeLabels:function(e,t){return new o.PhylogenyWrapper(e).getNodeLabels(t).sort()},getExpectedNodeLabel:function(e){return this.$store.getters.getExpectedNodeLabel(this.selectedPhyloref,e)},getSpecifierLabel:function(e){return o.PhylorefWrapper.getSpecifierLabel(e)},getResolvedNodes:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.$store.getters.getResolvedNodesForPhylogeny(e,this.selectedPhyloref,t)}}};t.default=f},"2cf4":function(e,t,r){"use strict";r.r(t);var n=r("7acd"),i=r("3a2e");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"2e10":function(e,t,r){"use strict";r.r(t);var n=r("9d1d"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},3:function(e,t){},"32ae":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"TopNavigationBar",props:{version:{type:String,default:"(unversioned)"}}};t.default=n},"3a2e":function(e,t,r){"use strict";r.r(t);var n=r("e375"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},"3dfd":function(e,t,r){"use strict";r.r(t);var n=r("49cb"),i=r("23be");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);r("034f");var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},4:function(e,t){},4360:function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("2b0e")),a=n(r("2f62")),o=n(r("9ce4")),s=n(r("0ff4")),l=n(r("f902")),c=n(r("2670")),d=n(r("f01d")),u=n(r("1b48"));i.default.use(a.default);var p=!1,f=new a.default.Store({state:{CURATION_TOOL_VERSION:"0.1"},modules:{phylogeny:o.default,phyloref:s.default,phyx:l.default,ui:d.default,citations:u.default,resolution:c.default},strict:p});t.default=f},4678:function(e,t,r){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id="4678"},"47ed":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"sidebar-wrapper"}},[r("div",{staticClass:"card bg-dark"},[r("div",{staticClass:"list-group list-group-flush"},[r("a",{staticClass:"list-group-item list-group-item-action bg-dark text-light disabled",attrs:{href:"javascript: void(0)"}},[e._v("\n        Actions\n      ")]),r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)",onclick:"$('#file-input').trigger('click')"}},[e._v("\n        Read from local JSON file\n      ")]),r("input",{staticClass:"d-none",attrs:{id:"file-input",type:"file"},on:{change:function(t){return e.loadPhyxFromFileInputById("#file-input")}}}),r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)",onclick:"$('.phyx-examples').toggleClass('d-none')"}},[e._v("\n        Read an example file\n      ")]),e._l(e.examplePHYXURLs,(function(t){return r("a",{staticClass:"list-group-item list-group-item-action phyx-examples d-none small",attrs:{href:"javascript: void(0)"},on:{click:function(r){return e.loadPhyxFromURL(t.url)}}},[e._v("\n        ● "+e._s(t.title)+"\n      ")])})),e._m(0),r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.downloadAsJSON()}}},[e._v("\n        Save\n        "),r("ModifiedIcon",{attrs:{message:"This Phyx file has been modified after it was loaded! Use 'Save' to save your changes.",compare:e.currentPhyx,"compare-to":e.loadedPhyx}})],1),r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.downloadAsJSONLD()}}},[e._v("\n        Export as ontology\n      ")]),r("a",{staticClass:"list-group-item list-group-item-action start-reasoning",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.reasonOverPhyloreferences()}}},[e.reasoningInProgress?r("span",[e._v("\n          (Reasoning in progress)\n        ")]):r("span",[e._v("\n          Resolve against phylogenies\n        ")])]),r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)",onclick:"$('#advanced-options').modal()"}},[e._v("\n        Advanced\n      ")])],2)]),r("div",{staticClass:"card mt-2 bg-dark"},[r("div",{staticClass:"list-group list-group-flush"},[r("a",{staticClass:"list-group-item list-group-item-action bg-dark text-light disabled",attrs:{href:"javascript: void(0)"}},[e._v("\n        Phyloreferences\n      ")]),r("a",{staticClass:"list-group-item list-group-item-action",class:{active:!e.selectedPhyloref&&!e.selectedPhylogeny},attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("changeDisplay",{})}}},[r("em",[e._v("Summary")])]),e._l(e.phylorefs,(function(t,n){return[r("a",{staticClass:"h6 list-group-item list-group-item-action border-dark",class:{active:e.selectedPhyloref===t},attrs:{href:"javascript: void(0)"},on:{click:function(r){return e.$store.commit("changeDisplay",{phyloref:t})}}},[t.label?r("span",[e._v("\n            "+e._s(t.label)+"\n          ")]):r("span",[e._v("\n            "+e._s("Phyloreference "+(n+1))+"\n          ")]),r("ModifiedIcon",{attrs:{message:"This phyloreference has been modified after it was loaded! Use 'Save' to save your changes.",compare:t,"compare-to":e.loadedPhyx.phylorefs[n]}})],1),e.selectedPhyloref===t?[e._l(t.internalSpecifiers,(function(n,i){return r("a",{staticClass:"list-group-item list-group-item-action",class:{"active border-dark":e.selectedSpecifier===n},attrs:{href:"javascript: void(0)"},on:{click:function(r){return e.$store.commit("changeDisplay",{phyloref:t,specifier:n})}}},[e._v("\n            ● "),r("strong",[e._v("Internal:")]),e._v(" "+e._s(e.getSpecifierLabel(n))+"\n          ")])})),e._l(t.externalSpecifiers,(function(n,i){return r("a",{staticClass:"list-group-item list-group-item-action",class:{"active border-dark":e.selectedSpecifier===n},attrs:{href:"javascript: void(0)"},on:{click:function(r){return e.$store.commit("changeDisplay",{phyloref:t,specifier:n})}}},[e._v("\n            ● "),r("strong",[e._v("External:")]),e._v(" "+e._s(e.getSpecifierLabel(n))+"\n          ")])})),r("a",{staticClass:"list-group-item list-group-item-action",attrs:{href:"javascript: void(0)"},on:{click:function(r){return e.$store.commit("addSpecifier",{phyloref:t})}}},[e._v("\n            ● "),r("em",[e._v("Add specifier")])])]:e._e()]})),r("a",{staticClass:"list-group-item list-group-item-action border-dark",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("createEmptyPhyloref")}}},[r("em",[e._v("Add phyloreference")])])],2)]),r("div",{staticClass:"card mt-2 bg-dark"},[r("div",{staticClass:"list-group list-group-flush"},[r("a",{staticClass:"list-group-item list-group-item-action bg-dark text-light disabled",attrs:{href:"javascript: void(0)"}},[e._v("\n        Phylogenies\n      ")]),e._l(e.phylogenies,(function(t,n){return r("a",{staticClass:"h6 list-group-item list-group-item-action border-dark",class:{active:e.selectedPhylogeny===t},attrs:{href:"javascript: void(0)"},on:{click:function(r){return e.$store.commit("changeDisplay",{phylogeny:t})}}},[e._v("\n        "+e._s(t.label||"Phylogeny "+(n+1))+"\n\n        "),r("ModifiedIcon",{attrs:{message:"This phylogeny has been modified after it was loaded! Use 'Save' to save your changes.",compare:t,"compare-to":e.loadedPhyx.phylogenies[n]}})],1)})),r("a",{staticClass:"list-group-item list-group-item-action border-dark",attrs:{href:"javascript: void(0)"},on:{click:function(t){return e.$store.commit("createEmptyPhylogeny")}}},[r("em",[e._v("Add phylogeny")])])],2)])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"list-group-item list-group-item-action phyx-examples d-none small",attrs:{href:"javascript: void(0)",onclick:"$('.phyx-examples').toggleClass('d-none')"}},[r("em",[e._v("Close list of examples")])])}];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},4902:function(e,t,r){"use strict";r.r(t);var n=r("1f55"),i=r("c8c6");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"49cb":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("TopNavigationBar",{attrs:{version:e.version}}),r("div",{attrs:{id:"wrapper"}},[r("Sidebar"),r("div",{attrs:{id:"page-content-wrapper"}},[e.display.phyloref?[r("PhylorefView",{attrs:{phyloref:e.display.phyloref,specifier:e.display.specifier}})]:e.display.phylogeny?[r("PhylogenyView",{attrs:{phylogeny:e.display.phylogeny}})]:[r("PhyxView")]],2)],1),r("AboutCurationToolModal"),r("AdvancedOptionsModal")],1)},i=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},"4a39":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("2ef0"),i=r("ecee"),a=r("c074"),o=r("ad3d");i.library.add(a.faExclamationCircle);var s={name:"ModifiedIcon",components:{FontAwesomeIcon:o.FontAwesomeIcon},props:{message:{type:String,default:"This element has changed! Please remember to save it."},compare:Object,compareTo:Object},computed:{dataChanged:function(){return!(0,n.isEqual)(this.compare,this.compareTo)}}};t.default=s},"4abe":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal",attrs:{id:"about-curation-tool",tabindex:"-1",role:"dialog"}},[r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title"},[e._v("\n          About this tool\n        ")]),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("\n            ×\n          ")])])]),r("div",{staticClass:"modal-body col-md-12"},[r("p",[e._v("\n          Klados was built as part of the\n          "),r("a",{attrs:{href:"https://www.phyloref.org"}},[e._v("\n            Phyloreferencing project\n          ")]),e._v(",\n          funded by the US National Science Foundation through collaborative\n          grants "),r("a",{attrs:{href:"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458484"}},[e._v("\n            DBI-1458484\n          ")]),e._v("\n          and "),r("a",{attrs:{href:"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458604"}},[e._v("\n            DBI-1458604\n          ")]),e._v(".\n          See "),r("a",{attrs:{href:"http://www.phyloref.org/about/#funding"}},[e._v("\n            Funding\n          ")]),e._v(" for details.\n        ")]),r("p",[e._v("Klados uses a number of open-source libraries, including:")]),r("ul",[r("li",[r("a",{attrs:{href:"https://cli.vuejs.org/"}},[e._v("\n              Vue CLI 3\n            ")])]),r("li",[r("a",{attrs:{href:"https://getbootstrap.com/"}},[e._v("\n              Bootstrap\n            ")])]),r("li",[r("a",{attrs:{href:"https://jquery.com/"}},[e._v("\n              jQuery\n            ")])]),r("li",[r("a",{attrs:{href:"https://github.com/veg/phylotree.js"}},[e._v("\n              phylotree.js\n            ")]),e._v(",\n            published as "),r("a",{attrs:{href:"https://doi.org/10.1186/s12859-018-2283-2"}},[e._v("\n              Shank "),r("em",[e._v("et al")]),e._v(", 2018\n            ")])]),r("li",[r("a",{attrs:{href:"https://d3js.org/"}},[e._v("\n              D3.js\n            ")])]),r("li",[r("a",{attrs:{href:"https://momentjs.com/"}},[e._v("\n              Moment.js\n            ")])]),r("li",[r("a",{attrs:{href:"https://github.com/eligrey/FileSaver.js"}},[e._v("\n              FileSaver.js\n            ")])]),r("li",[r("a",{attrs:{href:"https://fontawesome.com/"}},[e._v("\n              Font Awesome\n            ")])])])]),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n          Close\n        ")])])])])])}];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},"56d7":function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("cadf"),r("551c"),r("f751"),r("097d");var i=n(r("2b0e"));r("4989");var a=n(r("5f5b"));r("ab8b"),r("177c");var o=n(r("252c"));r("6eb0");var s=n(r("3dfd")),l=n(r("4360"));window.$=r("1157"),i.default.prototype.$config=r("db49"),i.default.use(a.default),i.default.use(o.default),i.default.config.productionTip=!1;var c=new i.default({el:"#app",store:l.default,render:function(e){return e(s.default)}});t.default=c},"5c92":function(e,t,r){"use strict";r.r(t);var n=r("32ae"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},"613e":function(e,t,r){"use strict";r.r(t);var n=r("6c2e"),i=r("c0c4");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"64a9":function(e,t,r){},"67b4":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("nav",{staticClass:"navbar navbar-expand navbar-dark bg-dark mb-2 fixed-top"},[r("a",{staticClass:"navbar-brand",attrs:{href:"index.html"}},[e._v("\n      Klados\n    ")]),r("small",{staticClass:"text-white"},[e._v(e._s(e.version))]),e._m(0)])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"collapse navbar-collapse"},[r("ul",{staticClass:"navbar-nav"},[r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",attrs:{href:"#",onclick:"$('#about-curation-tool').modal()"}},[e._v("\n            About this tool\n          ")])]),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",attrs:{target:"_blank",href:"https://www.phyloref.org/"}},[e._v("\n            Phyloreferencing website\n          ")])]),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",attrs:{target:"_blank",href:"https://github.com/phyloref/curation-tool"}},[e._v("\n            Github repository\n          ")])]),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",attrs:{target:"_blank",href:"https://github.com/phyloref/curation-tool/issues"}},[e._v("\n            Report bug\n          ")])])])])}];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},"6c2e":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("ModifiedCard",{attrs:{message:"This phyloreference has been modified since being loaded! Use 'Save' to save your changes.",compare:e.selectedPhyloref,"compare-to":e.loadedPhyx.phylorefs[e.currentPhyx.phylorefs.indexOf(e.selectedPhyloref)]}}),e.display.phylogeny?e._e():r("div",{staticClass:"card"},[r("h5",{staticClass:"card-header"},[e._v("\n      Phyloreference information\n    ")]),r("div",{staticClass:"card-body"},[r("form",[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"label"}},[e._v("\n            Label\n          ")]),r("div",{staticClass:"col-md-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedPhylorefLabel,expression:"selectedPhylorefLabel"}],staticClass:"form-control",attrs:{id:"label",type:"text",placeholder:"Phyloreference label"},domProps:{value:e.selectedPhylorefLabel},on:{input:function(t){t.target.composing||(e.selectedPhylorefLabel=t.target.value)}}})])]),r("Citation",{attrs:{label:"Name published in",object:e.selectedPhyloref,"citation-key":"dwc:namePublishedIn"}}),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"definition"}},[e._v("\n            Definition in free-form text\n          ")]),r("div",{staticClass:"col-md-10"},[r("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.selectedCladeDefinition,expression:"selectedCladeDefinition",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{id:"definition",rows:"6",placeholder:"Phylogenetic clade definition"},domProps:{value:e.selectedCladeDefinition},on:{change:function(t){e.selectedCladeDefinition=t.target.value}}})])]),r("Citation",{attrs:{label:"Definition published in",object:e.selectedPhyloref,"citation-key":"obo:IAO_0000119"}}),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"curator-comments"}},[e._v("\n            Curator comments\n          ")]),r("div",{staticClass:"col-md-10"},[r("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.selectedCuratorComments,expression:"selectedCuratorComments",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{id:"curator-comments",rows:"2",placeholder:"e.g. 'Specifier X not included in reference phylogeny'"},domProps:{value:e.selectedCuratorComments},on:{change:function(t){e.selectedCuratorComments=t.target.value}}})])])],1)]),r("div",{staticClass:"card-footer"},[r("div",{staticClass:"btn-group",attrs:{role:"group","area-label":"Phyloreference management"}},[r("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.$store.commit("duplicatePhyloref",{phyloref:e.selectedPhyloref})}}},[e._v("Duplicate phyloreference")])])])]),r("div",{staticClass:"card mt-2"},[r("h5",{staticClass:"card-header"},[e._v("\n      Specifiers\n    ")]),r("div",{staticClass:"card-body"},[r("form",[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"phyloref-type"}},[e._v("\n            Phyloreference type\n          ")]),r("div",{staticClass:"col-md-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.computedPhylorefType,expression:"computedPhylorefType"}],staticClass:"form-control",attrs:{id:"phyloref-type",type:"text",readonly:""},domProps:{value:e.computedPhylorefType},on:{input:function(t){t.target.composing||(e.computedPhylorefType=t.target.value)}}})])])]),r("h5",[e._v("Internal specifiers")]),e.selectedPhyloref.internalSpecifiers&&0!==e.selectedPhyloref.internalSpecifiers.length?e._e():[e._m(0)],e._l(e.selectedPhyloref.internalSpecifiers,(function(t,n){return r("div",{staticClass:"form-row input-group"},[r("Specifier",{key:"internal"+n,attrs:{phyloref:e.selectedPhyloref,"remote-specifier":t,"remote-specifier-id":"internal"+n}})],1)})),r("h5",{staticClass:"mt-2"},[e._v("External specifiers")]),e.selectedPhyloref.externalSpecifiers&&0!==e.selectedPhyloref.externalSpecifiers.length?e._e():[e._m(1)],e._l(e.selectedPhyloref.externalSpecifiers,(function(t,n){return r("div",{staticClass:"form-row input-group"},[r("Specifier",{key:"external"+n,attrs:{phyloref:e.selectedPhyloref,"remote-specifier":t,"remote-specifier-id":"external"+n}})],1)}))],2),r("div",{staticClass:"card-footer"},[r("div",{staticClass:"btn-group",attrs:{role:"group","area-label":"Internal specifier management"}},[r("button",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:function(t){return e.$store.commit("addInternalSpecifier",{phyloref:e.selectedPhyloref})}}},[e._v("\n          Add internal specifier\n        ")])]),r("div",{staticClass:"btn-group ml-2",attrs:{role:"group","area-label":"External specifier management"}},[r("button",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:function(t){return e.$store.commit("addExternalSpecifier",{phyloref:e.selectedPhyloref})}}},[e._v("\n          Add external specifier\n        ")])])])]),e._l(e.currentPhyx.phylogenies,(function(t,n){return[void 0===e.selectedPhylogeny||e.selectedPhylogeny===t?[r("div",{staticClass:"card mt-2"},[r("h5",{staticClass:"card-header"},[e._v("\n          Expected and actual resolution "),e.display.phylogeny?r("span",[e._v("\n            of "+e._s(e.phyloref.label||"unlabeled phyloreference")+"\n          ")]):e._e(),e._v(" on "+e._s(t.label||"Phylogeny "+(n+1))+"\n        ")]),r("div",{staticClass:"card-body"},[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"expected-resolution-"+n}},[e._v("\n              Expected resolution in free-form text\n            ")]),r("div",{staticClass:"col-md-10"},[r("textarea",{staticClass:"form-control",attrs:{id:"expected-resolution-"+n,rows:"3",placeholder:"e.g. 'Should resolve to clade X in fig 3 of Smith 2003'"},domProps:{value:e.getExpectedResolution(t).description},on:{change:function(r){return e.setExpectedResolution(t,{description:r.target.value})}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"expected-nodes"}},[e._v("\n              Expected nodes\n            ")]),r("div",{staticClass:"input-group col-md-10 pb-2"},[r("div",{staticClass:"input-group-prepend"},[r("a",{staticClass:"btn btn-outline-secondary",attrs:{href:"#current_expected_label_phylogeny_"+n,title:"Click here to jump to the expected label",role:"button"}},[e._v("Go to node")])]),e.getExpectedNodeLabel(t)?e._e():[r("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:"No node labeled '"+e.selectedPhylorefLabel+"' found in phylogeny"}})],e.getExpectedNodeLabel(t)?[r("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getExpectedNodeLabel(t)}})]:e._e(),r("div",{staticClass:"input-group-append"},[e._m(2,!0),r("div",{staticClass:"dropdown-menu dropright",staticStyle:{height:"30em",overflow:"visible scroll"},attrs:{"aria-labelledby":"expected-nodes-dropdown"}},[r("a",{staticClass:"dropdown-header"},[e._v("\n                    Labeled internal nodes in this phylogeny\n                  ")]),e._l(e.getNodeLabels(t,"internal"),(function(n){return r("a",{staticClass:"dropdown-item",class:{active:e.getExpectedNodeLabel(t)===n},attrs:{href:"#selected-phyloref"},on:{click:function(r){return e.setExpectedResolution(t,{nodeLabel:n})}}},[e._v("\n                    "+e._s(n)+"\n                  ")])})),r("div",{staticClass:"dropdown-divider"}),r("a",{staticClass:"dropdown-header"},[e._v("\n                    Labeled terminal nodes in this phylogeny\n                  ")]),e._l(e.getNodeLabels(t,"terminal"),(function(n){return r("a",{staticClass:"dropdown-item",class:{active:e.getExpectedNodeLabel(t)===n},attrs:{href:"#selected-phyloref"},on:{click:function(r){return e.setExpectedResolution(t,{nodeLabel:n})}}},[e._v("\n                    "+e._s(n)+"\n                  ")])}))],2)])],2),r("label",{staticClass:"col-form-label col-md-2 pb-2",attrs:{for:"actual-nodes"}},[e._v("\n              Actual resolved nodes\n            ")]),r("div",{staticClass:"input-group col-md-10 pb-2"},[r("div",{staticClass:"input-group-prepend"},[r("a",{staticClass:"btn btn-outline-secondary",attrs:{href:"#current_pinning_node_phylogeny_"+n,title:"Click here to jump to this node",role:"button"}},[e._v("Go to node")])]),e.$store.state.resolution.reasoningResults?[0===e.getResolvedNodes(t).length?[r("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:"No nodes could be resolved"}})]:e._e(),1===e.getResolvedNodes(t).length?[r("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getResolvedNodes(t)[0]}})]:e._e(),e.getResolvedNodes(t).length>1?[r("input",{staticClass:"form-control",attrs:{readonly:"",type:"text"},domProps:{value:e.getResolvedNodes(t).length+" nodes matched: "+e.getResolvedNodes(t).join(", ")}})]:e._e()]:[r("input",{staticClass:"form-control",attrs:{readonly:"",type:"text",value:"Click 'Reason' to reason over all phyloreferences."}})]],2)]),r("div",{staticClass:"card mt-4 p-2"},[r("Phylotree",{attrs:{"phylogeny-index":String(n),phylogeny:t,phyloref:e.selectedPhyloref,newick:t.newick,selectedNodeLabel:e.getExpectedNodeLabel(t)}})],1)])])]:e._e()]}))],2)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("em",[e._v("No internal specifiers in this phyloreference.")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[r("em",[e._v("No external specifiers in this phyloreference.")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{id:"expected-nodes-dropdown",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n                  Change "),r("span",{staticClass:"caret"})])}];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},"6cb3":function(e,t,r){"use strict";r.r(t);var n=r("c542"),i=r("8a3e");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},"7a1e":function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("6762"),r("2fdb");n(r("2b0e"));var i=r("2ef0"),a={name:"Citation",props:{label:{type:String,default:"Citation"},object:{type:Object,required:!0},citationKey:{type:String,required:!0}},data:function(){var e=this.getCitationsFromProps();return{citationsExpanded:[],citations:e,newDOI:""}},watch:{citations:function(){this.updateCitations()},object:function(){this.citations=this.getCitationsFromProps()},citationKey:function(){this.citations=this.getCitationsFromProps()}},methods:{getCitationsFromProps:function(){return Array.isArray(this.object[this.citationKey])?(0,i.cloneDeep)(this.object[this.citationKey]):(0,i.isEmpty)(this.object[this.citationKey])?[]:[(0,i.cloneDeep)(this.object[this.citationKey])]},updateCitations:function(){if(!(0,i.isEmpty)(this.citations)){var e=(0,i.cloneDeep)(this.citations).map((function(e){return(0,i.has)(e,"journal")&&(0,i.isEqual)((0,i.pickBy)(e.journal),{})&&delete e.journal,e}));if(!(0,i.isEqual)(e,this.object[this.citationKey]))if(1===e.length){if((0,i.isEqual)(e[0],this.object[this.citationKey]))return;console.log("Updating citations as ",e[0]," differs from ",this.object[this.citationKey]),this.$store.commit("setCitations",{object:this.object,citationKey:this.citationKey,citations:e[0]})}else console.log("Updating citations as ",e," differs from ",this.object[this.citationKey]),this.$store.commit("setCitations",{object:this.object,citationKey:this.citationKey,citations:e})}},toggleCitationExpanded:function(e){this.citationsExpanded.includes(e)?this.citationsExpanded=this.citationsExpanded.filter((function(t){return t!==e})):this.citationsExpanded.push(e)},wrappedCitation:function(e){return this.$store.getters.getWrappedCitation(e)}}};t.default=a},"7acd":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal",attrs:{id:"advanced-options",tabindex:"-1",role:"dialog"}},[r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[e._m(0),r("div",{staticClass:"modal-body"},[r("p",[e._v("\n          The following is a representation of this PHYX in JSON. You\n          can edit the JSON directly if you like.\n        ")]),e.JSONParsingError?r("div",{staticClass:"card text-white bg-danger mb-2"},[r("div",{staticClass:"card-body"},[r("p",{staticClass:"card-text"},[e._v("\n              This JSON could not be parsed: "+e._s(e.JSONParsingError)+"\n            ")])])]):e._e(),r("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.phyxAsJSON,expression:"phyxAsJSON",modifiers:{lazy:!0}}],staticStyle:{width:"100%",margin:"auto"},attrs:{id:"test-content",rows:"10"},domProps:{value:e.phyxAsJSON},on:{change:function(t){e.phyxAsJSON=t.target.value}}})]),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(t){return e.downloadAsJSONLD()}}},[e._v("\n          Download as JSON-LD\n        ")]),r("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("\n          Close\n        ")])])])])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title"},[e._v("\n          Advanced options\n        ")]),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[e._v("\n            ×\n          ")])])])}];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},"7c53":function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("8e6e"),r("456d"),r("7f7f"),r("ac6a");var i=n(r("bd86")),a=r("2f62"),o=r("2ef0"),s=r("9068");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={name:"PhyxView",computed:c({nomenCodes:function(){return s.TaxonNameWrapper.getNomenclaturalCodes()},phyxCurator:{get:function(){return this.phyx.curator},set:function(e){this.$store.commit("setCurator",{name:e})}},phyxCuratorEmail:{get:function(){return this.phyx.curatorEmail},set:function(e){this.$store.commit("setCurator",{email:e})}},phyxCuratorORCID:{get:function(){return this.phyx.curatorORCID},set:function(e){this.$store.commit("setCurator",{orcid:e})}}},(0,a.mapState)({phyx:function(e){return e.phyx.currentPhyx},phylorefs:function(e){return e.phyx.currentPhyx.phylorefs},phylogenies:function(e){return e.phyx.currentPhyx.phylogenies}})),methods:{getPhylogenyLabel:function(e){return new s.PhylogenyWrapper(e).label||"Phylogeny ".concat(this.phylogenies.indexOf(e)+1)},getPhylorefLabel:function(e){return new s.PhylorefWrapper(e).label||"Phyloref ".concat(this.phylorefs.indexOf(e)+1)},hasReasoningResults:function(e){if(!(0,o.has)(this.$store.state.resolution.reasoningResults,"phylorefs"))return!1;var t=this.$store.getters.getPhylorefId(e);return(0,o.has)(this.$store.state.resolution.reasoningResults.phylorefs,t)},getPhylorefExpectedNodeLabel:function(e,t){return this.$store.getters.getExpectedNodeLabel(e,t)},getNodesById:function(e,t){var r=new s.PhylogenyWrapper(e).getParsedNewickWithIRIs(this.$store.getters.getPhylogenyId(e),d3.layout.newick_parser);function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,o.has)(e,"@id")&&e["@id"]===t&&r.push(e),(0,o.has)(e,"children")&&e.children.forEach((function(e){return n(e,r)})),r}return(0,o.has)(r,"json")?n(r.json):[]},getNodeLabelsResolvedByPhyloref:function(e,t){var r=this,n=this.$store.getters.getResolvedNodesForPhylogeny(t,e,!1);return n.map((function(e){return r.getNodesById(t,e)})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return e.name||"(unlabelled)"}))},deletePhyloref:function(e){var t="Are you sure you wish to delete phyloreference '".concat(this.getPhylorefLabel(e),"'?");confirm(t)&&this.$store.commit("deletePhyloref",{phyloref:e})},deletePhylogeny:function(e){var t="Are you sure you wish to delete phylogeny '".concat(this.getPhylogenyLabel(e),"'?");confirm(t)&&this.$store.commit("deletePhylogeny",{phylogeny:e})}}};t.default=d},"810f":function(e,t,r){"use strict";r.r(t);var n=r("0417"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},"8a2a":function(e,t,r){"use strict";var n=r("0fed"),i=r.n(n);i.a},"8a3e":function(e,t,r){"use strict";r.r(t);var n=r("7c53"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},"8e95":function(e,t,r){"use strict";r.r(t);var n=r("9c18"),i=r("f9b1");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);r("f63d");var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},9033:function(e,t,r){"use strict";(function(e){var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("8e6e"),r("ac6a"),r("456d"),r("6b54"),r("a481");var i=n(r("768b")),a=n(r("bd86")),o=n(r("2b0e")),s=r("2ef0"),l=r("2f62"),c=r("b2c6"),d=r("0041"),u=n(r("470b")),p=r("9068"),f=n(r("4902"));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y={name:"Sidebar",components:{ModifiedIcon:f.default},data:function(){return{reasoningInProgress:!1}},computed:m({examplePHYXURLs:function(){return[{url:"examples/fisher_et_al_2007.json",title:"Fisher et al, 2007"},{url:"examples/hillis_and_wilcox_2005.json",title:"Hillis and Wilcox, 2005"},{url:"examples/brochu_2003.json",title:"Brochu 2003"}]}},(0,l.mapGetters)(["phyxTitle"]),{},(0,l.mapState)({phyx:function(e){return e.phyx},currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx},phylorefs:function(e){return e.phyx.currentPhyx.phylorefs},phylogenies:function(e){return e.phyx.currentPhyx.phylogenies},selectedPhyloref:function(e){return e.ui.display.phyloref},selectedPhylogeny:function(e){return e.ui.display.phylogeny},selectedSpecifier:function(e){return e.ui.display.specifier}})),methods:{getSpecifierLabel:function(e){return e.verbatimSpecifier||new p.TaxonomicUnitWrapper(e).label||"Undefined specifier"},promptAndSetDict:function(e,t,r){var n=window.prompt(e,t[r]);void 0!==n&&null!==n&&o.default.set(t,r,n)},loadPhyxFromURL:function(e){var t=this;this.$store.getters.loadedPhyxChanged&&!confirm("The current Phyx file has been modified! Are you sure you want to discard these changes by loading another file?")||$.getJSON(e).done((function(e){t.$store.commit("setCurrentPhyx",e),t.$store.commit("setLoadedPhyx",e),t.$store.commit("changeDisplay",{})})).fail((function(t){200===t.status?alert("Could not load PHYX file '".concat(e,"': file malformed, see console for details.")):alert("Could not load PHYX file '".concat(e,"': server error ").concat(t.status," ").concat(t.statusText))}))},loadPhyxFromFileInputById:function(e){var t=this;if("function"===typeof window.FileReader){var r=$(e);if(r)if(r.prop("files"))if(r.prop("files")[0]){if(!this.$store.getters.loadedPhyxChanged||confirm("The current Phyx file has been modified! Are you sure you want to discard these changes by loading another file?")){var n=r.prop("files"),a=(0,i.default)(n,1),o=a[0],s=new FileReader;s.onload=function(e){var r=e.target.result,n=JSON.parse(r);t.$store.commit("setCurrentPhyx",n),t.$store.commit("setLoadedPhyx",n),t.$store.commit("changeDisplay",{})},s.readAsText(o)}}else alert("Please select a file before attempting to load it.");else alert("File input element found, but files property missing: try another browser?");else alert("Programmer error: No file input element specified.")}else alert("The FileReader API is not supported on this browser.")},downloadAsJSON:function(){var e=[JSON.stringify(this.$store.state.phyx.currentPhyx,void 0,4)],t=new File(e,"download.json",{type:"application/json;charset=utf-8"});(0,c.saveAs)(t),this.$store.commit("setLoadedPhyx")},downloadAsJSONLD:function(){var e=new p.PhyxWrapper(this.$store.state.phyx.currentPhyx),t=[JSON.stringify([e.asJSONLD()],void 0,4)],r=new File(t,"download.jsonld",{type:"application/json;charset=utf-8"});(0,c.saveAs)(r)},reasonOverPhyloreferences:function(){if(!this.reasoningInProgress){this.$store.commit("setReasoningResults",void 0),this.reasoningInProgress=!0;var t=this;o.default.nextTick((function(){var r=JSON.stringify([new p.PhyxWrapper(t.$store.state.phyx.currentPhyx,d3.layout.newick_parser).asJSONLD()]),n=u.default.gzipSync(r),i=$.param({jsonldGzipped:e.from(n).toString("base64")}).replace(/%20/g,"+"),a=(0,d.signer)({algorithm:"sha1",secret:t.$config.JPHYLOREF_X_HUB_SIGNATURE_SECRET}),o=a(new e(i));console.log("Query: ",i),console.log("Signature: ",o),$.post({url:t.$config.JPHYLOREF_SUBMISSION_URL,data:i,headers:{"X-Hub-Signature":o}}).done((function(e){t.$store.commit("setReasoningResults",e)})).fail((function(e,t,r){var n=r;(0,s.has)(e,"responseJSON")&&(0,s.has)(e.responseJSON,"error")&&(n=e.responseJSON.error),void 0!==n&&""!==n||(n="unknown error"),alert("Error occurred on server while reasoning: ".concat(n))})).always((function(){t.reasoningInProgress=!1}))}))}}}};t.default=y}).call(this,r("b639").Buffer)},"910f":function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("8e6e"),r("ac6a"),r("456d");var i=n(r("bd86")),a=r("2ef0"),o=r("2f62"),s=r("35a7"),l=n(r("2086")),c=n(r("c0e6")),d=n(r("8e95"));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={name:"PhylogenyView",components:{ModifiedCard:l.default,Phylotree:c.default,Citation:d.default},data:function(){return{phylogenyIdError:void 0}},computed:p({phylogenyId:{get:function(){return this.$store.getters.getPhylogenyId(this.selectedPhylogeny)},set:function(e){try{this.$store.dispatch("changePhylogenyId",{phylogeny:this.selectedPhylogeny,phylogenyId:e})}catch(t){return this.phylogenyIdError=t,!1}return this.phylogenyIdError=void 0,!0}},phylogenyLabel:{get:function(){return this.selectedPhylogeny.label},set:function(e){this.$store.commit("setPhylogenyProps",{phylogeny:this.selectedPhylogeny,label:e})}},phylogenyDescription:{get:function(){return this.selectedPhylogeny.description},set:function(e){this.$store.commit("setPhylogenyProps",{phylogeny:this.selectedPhylogeny,description:e})}},phylogenyNewick:{get:function(){return this.selectedPhylogeny.newick||"()"},set:function(e){this.$store.commit("setPhylogenyProps",{phylogeny:this.selectedPhylogeny,newick:e})}},phylogenyNewickErrors:function(){if(!(0,a.has)(this.selectedPhylogeny,"newick"))return[];var e=this.selectedPhylogeny.newick.trim(),t=[];if(""===e||"()"===e||"();"===e)return[{title:"No phylogeny entered",message:'Click on "Edit as Newick" to enter a phylogeny below.'}];for(var r=0,n=0;n<e.length;n+=1)"("===e[n]&&(r+=1),")"===e[n]&&(r-=1);0!==r&&t.push({title:"Unbalanced parentheses in Newick string",message:r>0?"You have ".concat(r," too many open parentheses"):"You have ".concat(-r," too few open parentheses")});try{(0,s.parse)(e)}catch(i){t.push({title:"Error parsing phylogeny",message:"An error occured while parsing this phylogeny: ".concat(i.message)})}return t}},(0,o.mapState)({currentPhyx:function(e){return e.phyx.currentPhyx},loadedPhyx:function(e){return e.phyx.loadedPhyx},selectedPhylogeny:function(e){return e.ui.display.phylogeny}}))};t.default=f},"97ac":function(e,t,r){"use strict";r.r(t);var n=r("fb1f"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},"9c18":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2"},[e._v("\n    "+e._s(e.label)+"\n  ")]),r("div",{staticClass:"col-md-10"},[0===e.citations.length?[r("a",{staticClass:"form-control-plaintext",attrs:{href:"javascript:;"},on:{click:function(t){return e.citations.push({})}}},[e._v("\n        Add citation\n      ")])]:e._e(),e._l(e.citations,(function(t,n){return[r("div",{staticClass:"input-group"},[r("input",{staticClass:"form-control hand-cursor",attrs:{type:"text",readonly:"",placeholder:"Citation"},domProps:{value:e.wrappedCitation(t).toString()||"Empty citation, click to enter"},on:{click:function(t){return e.toggleCitationExpanded(n)}}}),r("div",{staticClass:"input-group-append"},[e.wrappedCitation(t).url?r("a",{staticClass:"btn btn-primary",attrs:{target:"_blank",href:e.wrappedCitation(t).url}},[e._v("\n            Open in new window\n          ")]):e._e(),r("a",{staticClass:"btn btn-secondary",attrs:{href:"javascript:;"},on:{click:function(t){return e.toggleCitationExpanded(n)}}},[e._v("\n            Expand\n          ")])])]),e.citationsExpanded.includes(n)?r("div",{staticClass:"card mt-1"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[e._v("\n            Citation details\n          ")]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"citation-type"}},[e._v("\n              Citation type\n            ")]),r("div",{staticClass:"col-md-10"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"citation.type"}],staticClass:"form-control",attrs:{id:"citation-type"},on:{change:[function(r){var n=Array.prototype.filter.call(r.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"type",r.target.multiple?n:n[0])},function(t){return e.updateCitations()}]}},[r("option",{attrs:{value:"article"}},[e._v("\n                  Article\n                ")]),r("option",{attrs:{value:"book"}},[e._v("\n                  Book\n                ")]),r("option",{attrs:{value:"book_section"}},[e._v("\n                  Book section\n                ")])])])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"authors"}},[e._v("\n              Authors (one per line)\n            ")]),r("div",{staticClass:"col-md-10"},[r("textarea",{staticClass:"form-control",attrs:{id:"authors",rows:"3",placeholder:"Enter authors here"},domProps:{value:e.wrappedCitation(t).authorsAsStrings.join("\n")},on:{change:function(r){e.wrappedCitation(t).authorsAsStrings=r.target.value.split(/\s*\n\s*/),e.updateCitations()}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"editors"}},[e._v("\n              Editors (one per line)\n            ")]),r("div",{staticClass:"col-md-10"},[r("textarea",{staticClass:"form-control",attrs:{id:"editors",rows:"2",placeholder:"Enter editors here"},domProps:{value:e.wrappedCitation(t).editorsAsStrings.join("\n")},on:{change:function(r){e.wrappedCitation(t).editorsAsStrings=r.target.value.split(/\s*\n\s*/),e.updateCitations()}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"series-editors"}},[e._v("\n              Series editors (one per line)\n            ")]),r("div",{staticClass:"col-md-10"},[r("textarea",{staticClass:"form-control",attrs:{id:"series-editors",rows:"2",placeholder:"Enter series editors here"},domProps:{value:e.wrappedCitation(t).seriesEditorsAsStrings.join("\n")},on:{change:function(r){e.wrappedCitation(t).seriesEditorsAsStrings=r.target.value.split(/\s*\n\s*/),e.updateCitations()}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"title"}},[e._v("\n              Title\n            ")]),r("div",{staticClass:"col-md-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"citation.title"}],staticClass:"form-control",attrs:{id:"title",type:"text",placeholder:"Enter title here"},domProps:{value:t.title},on:{change:function(t){return e.updateCitations()},input:function(r){r.target.composing||e.$set(t,"title",r.target.value)}}})])]),"book_section"===t.type?r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"section-title"}},[e._v("\n              Section title\n            ")]),r("div",{staticClass:"col-md-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.section_title,expression:"citation.section_title"}],staticClass:"form-control",attrs:{id:"section-title",type:"text",placeholder:"Enter section title here"},domProps:{value:t.section_title},on:{change:function(t){return e.updateCitations()},input:function(r){r.target.composing||e.$set(t,"section_title",r.target.value)}}})])]):e._e(),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"year"}},[e._v("\n              Year\n            ")]),r("div",{staticClass:"col-md-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"citation.year"}],staticClass:"form-control",attrs:{id:"year",type:"text",placeholder:"Enter year here"},domProps:{value:t.year},on:{change:function(t){return e.updateCitations()},input:function(r){r.target.composing||e.$set(t,"year",r.target.value)}}})]),"article"!==t.type?[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"edition"}},[e._v("\n                Edition\n              ")]),r("div",{staticClass:"col-md-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.edition,expression:"citation.edition"}],staticClass:"form-control",attrs:{id:"edition",type:"text",placeholder:"Enter edition here"},domProps:{value:t.edition},on:{change:function(t){return e.updateCitations()},input:function(r){r.target.composing||e.$set(t,"edition",r.target.value)}}})])]:e._e()],2),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"pages"}},[e._v("\n              Pages\n            ")]),r("div",{staticClass:"col-md-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.pages,expression:"citation.pages"}],staticClass:"form-control",attrs:{id:"pages",type:"text",placeholder:"Enter pages here"},domProps:{value:t.pages},on:{change:function(t){return e.updateCitations()},input:function(r){r.target.composing||e.$set(t,"pages",r.target.value)}}})]),r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"figure"}},[e._v("\n              Figure\n            ")]),r("div",{staticClass:"col-md-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.figure,expression:"citation.figure"}],staticClass:"form-control",attrs:{id:"figure",type:"text",placeholder:"Enter figure number here"},domProps:{value:t.figure},on:{change:function(t){return e.updateCitations()},input:function(r){r.target.composing||e.$set(t,"figure",r.target.value)}}})])]),"article"===t.type?[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"journal-title"}},[e._v("\n                Journal title\n              ")]),r("div",{staticClass:"col-md-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.wrappedCitation(t).journal.name,expression:"wrappedCitation(citation).journal.name"}],staticClass:"form-control",attrs:{id:"journal-title",type:"text",placeholder:"Enter journal title here"},domProps:{value:e.wrappedCitation(t).journal.name},on:{change:function(t){return e.updateCitations()},input:function(r){r.target.composing||e.$set(e.wrappedCitation(t).journal,"name",r.target.value)}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"journal-volume"}},[e._v("\n                Volume\n              ")]),r("div",{staticClass:"col-md-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.wrappedCitation(t).journal.volume,expression:"wrappedCitation(citation).journal.volume"}],staticClass:"form-control",attrs:{id:"journal-volume",type:"text",placeholder:"Enter journal volume number here"},domProps:{value:e.wrappedCitation(t).journal.volume},on:{change:function(t){return e.updateCitations()},input:function(r){r.target.composing||e.$set(e.wrappedCitation(t).journal,"volume",r.target.value)}}})]),r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"journal-issue"}},[e._v("\n                Issue number\n              ")]),r("div",{staticClass:"col-md-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.wrappedCitation(t).journal.number,expression:"wrappedCitation(citation).journal.number"}],staticClass:"form-control",attrs:{id:"journal-issue",type:"text",placeholder:"Enter journal issue number here"},domProps:{value:e.wrappedCitation(t).journal.number},on:{change:function(t){return e.updateCitations()},input:function(r){r.target.composing||e.$set(e.wrappedCitation(t).journal,"number",r.target.value)}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"issns"}},[e._v("\n                ISSNs (one per line)\n              ")]),r("div",{staticClass:"col-md-10"},[r("div",{staticClass:"input-group"},[r("textarea",{staticClass:"form-control",attrs:{id:"issns",rows:"1",placeholder:"Enter ISSNs here"},domProps:{value:e.wrappedCitation(e.wrappedCitation(t).journal).issns.join("\n")},on:{change:function(r){e.wrappedCitation(e.wrappedCitation(t).journal).issns=r.target.value.split(/\s*\n\s*/),e.updateCitations()}}}),r("div",{staticClass:"input-group-append"},[r("a",{staticClass:"btn btn-outline-secondary align-middle",class:{disabled:0===(e.wrappedCitation(e.wrappedCitation(t).journal).issns||[]).length},staticStyle:{"vertical-align":"middle"},attrs:{target:"_blank",href:"https://www.worldcat.org/search?q=n2%3A"+e.wrappedCitation(e.wrappedCitation(t).journal).issns[0]}},[e._v("\n                      Open in new window\n                    ")])])])])])]:e._e(),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"isbns"}},[e._v("\n              ISBNs (one per line)\n            ")]),r("div",{staticClass:"col-md-10"},[r("div",{staticClass:"input-group"},[r("textarea",{staticClass:"form-control",attrs:{id:"isbns",rows:"1",placeholder:"Enter ISBNs here"},domProps:{value:e.wrappedCitation(e.wrappedCitation(t).journal).isbns.join("\n")},on:{change:function(r){e.wrappedCitation(e.wrappedCitation(t).journal).isbns=r.target.value.split(/\s*\n\s*/),e.updateCitations()}}}),r("div",{staticClass:"input-group-append"},[r("a",{staticClass:"btn btn-outline-secondary align-middle",class:{disabled:0===(e.wrappedCitation(e.wrappedCitation(t).journal).isbns||[]).length},staticStyle:{"vertical-align":"middle"},attrs:{target:"_blank",href:"https://www.worldcat.org/search?q=bn%3A"+e.wrappedCitation(e.wrappedCitation(t).journal).isbns[0]}},[e._v("\n                    Open in new window\n                  ")])])])])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"publisher"}},[e._v("\n              Publisher\n            ")]),r("div",{staticClass:"col-md-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.publisher,expression:"citation.publisher"}],staticClass:"form-control",attrs:{id:"publisher",type:"text",placeholder:"Enter publisher here"},domProps:{value:t.publisher},on:{change:function(t){return e.updateCitations()},input:function(r){r.target.composing||e.$set(t,"publisher",r.target.value)}}})]),r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"city"}},[e._v("\n              City\n            ")]),r("div",{staticClass:"col-md-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"citation.city"}],staticClass:"form-control",attrs:{id:"city",type:"text",placeholder:"Enter publication city here"},domProps:{value:t.city},on:{change:function(t){return e.updateCitations()},input:function(r){r.target.composing||e.$set(t,"city",r.target.value)}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"doi"}},[e._v("\n              DOIs (one per line)\n            ")]),r("div",{staticClass:"col-md-10"},[r("div",{staticClass:"input-group"},[r("textarea",{staticClass:"form-control",attrs:{id:"doi",rows:"1",placeholder:"Enter DOIs here"},domProps:{value:e.wrappedCitation(t).doisAsStrings.join("\n")},on:{change:function(r){e.wrappedCitation(t).doisAsStrings=r.target.value.split(/\s*\n\s*/),e.updateCitations()}}}),r("div",{staticClass:"input-group-append"},[r("a",{staticClass:"btn btn-outline-secondary align-middle",class:{disabled:!e.wrappedCitation(t).firstDOI},staticStyle:{"vertical-align":"middle"},attrs:{target:"_blank",href:e.wrappedCitation(t).firstDOI?"http://doi.org/"+e.wrappedCitation(t).firstDOI:void 0}},[e._v("\n                    Open in new window\n                  ")])])])])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"urls"}},[e._v("\n              URLs (one per line)\n            ")]),r("div",{staticClass:"col-md-10"},[r("div",{staticClass:"input-group"},[r("textarea",{staticClass:"form-control",attrs:{id:"urls",rows:"1",placeholder:"Enter URLs here"},domProps:{value:e.wrappedCitation(t).urlsAsStrings.join("\n")},on:{change:function(r){e.wrappedCitation(t).urlsAsStrings=r.target.value.split(/\s*\n\s*/),e.updateCitations()}}}),r("div",{staticClass:"input-group-append"},[r("a",{staticClass:"btn btn-outline-secondary align-middle",class:{disabled:!e.wrappedCitation(t).firstURL},staticStyle:{"vertical-align":"middle"},attrs:{target:"_blank",href:e.wrappedCitation(t).firstURL}},[e._v("\n                    Open in new window\n                  ")])])])])])],2)]):e._e()]}))],2)])},i=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},"9ce4":function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("ac6a"),r("7514");var i=n(r("2b0e")),a=r("2ef0"),o={mutations:{setPhylogenyProps:function(e,t){if(!(0,a.has)(t,"phylogeny"))throw new Error('setPhylogenyProps needs a phylogeny to modify using the "phylogeny" argument');(0,a.has)(t,"label")&&i.default.set(t.phylogeny,"label",t.label),(0,a.has)(t,"description")&&i.default.set(t.phylogeny,"description",t.description),(0,a.has)(t,"newick")&&i.default.set(t.phylogeny,"newick",t.newick),(0,a.has)(t,"@id")&&i.default.set(t.phylogeny,"@id",t["@id"])}},actions:{changePhylogenyId:function(e,t){if(!(0,a.has)(t,"phylogeny"))throw new Error('changePhylogenyId needs a phylogeny to modify using the "phylogeny" argument');if(!(0,a.has)(t,"phylogenyId"))throw new Error('changePhylogenyId needs a new phylogeny ID using the "phylogenyId" argument');var r=e.rootGetters.getPhylogenyId(t.phylogeny);if(r!==t.phylogenyId){var n=e.rootState.phyx.currentPhyx.phylogenies.find((function(e){return(0,a.has)(e,"@id")&&e["@id"]===t.phylogenyId}));if(n)throw new Error("Attempt to change ".concat(r," to ").concat(t.phylogenyId," failed: duplicate phylogeny ID detected."));e.rootState.phyx.currentPhyx.phylorefs.forEach((function(n){(0,a.has)(n.expectedResolution||{},r)&&(e.commit("setPhylorefProps",{phyloref:n,phylogenyId:t.phylogenyId,expectedResolution:n.expectedResolution[r]}),e.commit("setPhylorefProps",{phyloref:n,phylogenyId:r,expectedResolution:void 0}))})),e.commit("setPhylogenyProps",{phylogeny:t.phylogeny,"@id":t.phylogenyId})}}}};t.default=o},"9d1d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"AboutCurationToolModal"};t.default=n},a36a:function(e,t,r){},aa4d:function(e,t,r){},b515:function(e,t,r){"use strict";r.r(t);var n=r("caa2"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},bc68:function(e,t,r){"use strict";var n=r("aa4d"),i=r.n(n);i.a},c048:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"input-group mb-1"},[r("div",{staticClass:"input-group-prepend"},[r("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n        "+e._s(e.specifierClass)+"\n      ")]),r("div",{staticClass:"dropdown-menu"},[r("a",{staticClass:"dropdown-item",class:{active:"Taxon"===e.specifierClass},attrs:{href:"javascript:;"},on:{click:function(t){e.specifierClass="Taxon"}}},[e._v("Taxon")]),r("a",{staticClass:"dropdown-item",class:{active:"Specimen"===e.specifierClass},attrs:{href:"javascript:;"},on:{click:function(t){e.specifierClass="Specimen"}}},[e._v("Specimen")]),r("a",{staticClass:"dropdown-item",class:{active:"External reference"===e.specifierClass},attrs:{href:"javascript:;"},on:{click:function(t){e.specifierClass="External reference"}}},[e._v("External reference")]),r("a",{staticClass:"dropdown-item",class:{active:"Apomorphy"===e.specifierClass},attrs:{href:"javascript:;"},on:{click:function(t){e.specifierClass="Apomorphy"}}},[e._v("Apomorphy")])])]),"Taxon"===e.specifierClass?r("div",{staticClass:"input-group-prepend"},[r("button",{staticClass:"btn btn-outline-secondary dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n        "+e._s(e.nomenclaturalCodeObj.shortName)+"\n      ")]),r("div",{staticClass:"dropdown-menu"},e._l(e.nomenCodes,(function(t,n){return r("a",{staticClass:"dropdown-item",class:{active:e.enteredNomenclaturalCode===t.uri},attrs:{href:"javascript:;"},on:{click:function(r){e.enteredNomenclaturalCode=t.uri}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),0)]):e._e(),r("input",{directives:[{name:"model",rawName:"v-model",value:e.specifierLabel,expression:"specifierLabel"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.specifierLabel},on:{input:function(t){t.target.composing||(e.specifierLabel=t.target.value)}}}),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn btn-outline-secondary",class:{active:e.expand},on:{click:function(t){e.expand=!e.expand}}},[e._v("\n        "+e._s(e.expand?"Collapse":"Expand")+"\n      ")])]),r("div",{staticClass:"input-group-append"},[r("button",{staticClass:"btn btn-danger",on:{click:function(t){return e.deleteSpecifier()}}},[e._v("\n        ×\n      ")])])]),e.expand?r("div",{staticClass:"card mt-1 mb-3"},[r("div",{staticClass:"card-body"},[r("h5",{staticClass:"card-title"},[e._v("\n        Specifier details\n      ")]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"specifier-type"}},[e._v("\n          Specifier type\n        ")]),r("div",{staticClass:"col-md-10"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.specifierType,expression:"specifierType"}],staticClass:"form-control",attrs:{id:"specifier-type"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.specifierType=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"Internal"}},[e._v("\n              Internal specifier\n            ")]),r("option",{attrs:{value:"External"}},[e._v("\n              External specifier\n            ")])])])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"verbatim-specifier"}},[e._v("\n          Verbatim specifier\n        ")]),r("div",{staticClass:"col-md-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.enteredVerbatimLabel,expression:"enteredVerbatimLabel"}],staticClass:"form-control",attrs:{id:"verbatim-specifier"},domProps:{value:e.enteredVerbatimLabel},on:{change:function(t){return e.updateSpecifier()},input:function(t){t.target.composing||(e.enteredVerbatimLabel=t.target.value)}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"specifier-class"}},[e._v("\n          Specifier class\n        ")]),r("div",{staticClass:"col-md-10"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.specifierClass,expression:"specifierClass"}],staticClass:"form-control",attrs:{id:"specifier-class"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.specifierClass=t.target.multiple?r:r[0]},function(t){return e.updateSpecifier()}]}},[r("option",{attrs:{value:"Taxon"}},[e._v("\n              Taxon\n            ")]),r("option",{attrs:{value:"Specimen"}},[e._v("\n              Specimen\n            ")]),r("option",{attrs:{value:"External reference"}},[e._v("\n              External reference\n            ")]),r("option",{attrs:{value:"Apomorphy"}},[e._v("\n              Apomorphy\n            ")])])])]),"Taxon"===e.specifierClass?[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"nomen-code"}},[e._v("\n            Nomenclatural code\n          ")]),r("div",{staticClass:"col-md-10"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.enteredNomenclaturalCode,expression:"enteredNomenclaturalCode"}],staticClass:"form-control",attrs:{id:"nomen-code"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.enteredNomenclaturalCode=t.target.multiple?r:r[0]}}},e._l(e.nomenCodes,(function(t,n){return r("option",{domProps:{value:t.uri}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),0)])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"name-complete"}},[e._v("\n            Binomial/trinomial name\n          ")]),r("div",{staticClass:"col-md-10 input-group"},[r("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.taxonNameWrapped.nameComplete,expression:"taxonNameWrapped.nameComplete",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{id:"name-complete"},domProps:{value:e.taxonNameWrapped.nameComplete},on:{change:function(t){return e.$set(e.taxonNameWrapped,"nameComplete",t.target.value)}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"genus"}},[e._v("\n            Genus\n          ")]),r("div",{staticClass:"col-md-10 input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.taxonNameWrapped.genusPart,expression:"taxonNameWrapped.genusPart"}],staticClass:"form-control",attrs:{id:"genus"},domProps:{value:e.taxonNameWrapped.genusPart},on:{input:function(t){t.target.composing||e.$set(e.taxonNameWrapped,"genusPart",t.target.value)}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"specific-epithet"}},[e._v("\n            Specific epithet\n          ")]),r("div",{staticClass:"col-md-10 input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.taxonNameWrapped.specificEpithet,expression:"taxonNameWrapped.specificEpithet"}],staticClass:"form-control",attrs:{id:"specific-epithet"},domProps:{value:e.taxonNameWrapped.specificEpithet},on:{input:function(t){t.target.composing||e.$set(e.taxonNameWrapped,"specificEpithet",t.target.value)}}})])]),e.taxonNameWrapped.infraspecificEpithet?r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"infraspecific-epithet"}},[e._v("\n            Infraspecific epithet\n          ")]),r("div",{staticClass:"col-md-10 input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.taxonNameWrapped.infraspecificEpithet,expression:"taxonNameWrapped.infraspecificEpithet"}],staticClass:"form-control",attrs:{id:"infraspecific-epithet"},domProps:{value:e.taxonNameWrapped.infraspecificEpithet},on:{input:function(t){t.target.composing||e.$set(e.taxonNameWrapped,"infraspecificEpithet",t.target.value)}}})])]):e._e()]:e._e(),"Specimen"===e.specifierClass?[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"occurrence-id"}},[e._v("\n            Occurrence ID\n          ")]),r("div",{staticClass:"col-md-10 input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.enteredOccurrenceID,expression:"enteredOccurrenceID"}],staticClass:"form-control",attrs:{id:"occurrence-id",placeholder:"Enter the occurrence ID of the specimen here"},domProps:{value:e.enteredOccurrenceID},on:{input:function(t){t.target.composing||(e.enteredOccurrenceID=t.target.value)}}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"collection-code"}},[e._v("\n            Institution code\n          ")]),r("div",{staticClass:"col-md-10 input-group"},[r("input",{staticClass:"form-control",attrs:{id:"collection-code",readonly:""},domProps:{value:e.specimenWrapped.institutionCode}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"collection-code"}},[e._v("\n            Collection code\n          ")]),r("div",{staticClass:"col-md-10 input-group"},[r("input",{staticClass:"form-control",attrs:{id:"collection-code",readonly:""},domProps:{value:e.specimenWrapped.collectionCode}})])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"catalog-number"}},[e._v("\n            Catalog number\n          ")]),r("div",{staticClass:"col-md-10 input-group"},[r("input",{staticClass:"form-control",attrs:{id:"catalog-number",readonly:""},domProps:{value:e.specimenWrapped.catalogNumber}})])])]:e._e(),"External reference"===e.specifierClass?[r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"external-reference"}},[e._v("\n            External reference\n          ")]),r("div",{staticClass:"col-md-10 input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.externalReference,expression:"externalReference"}],staticClass:"form-control",attrs:{id:"external-reference",placeholder:"Enter URI of external reference here"},domProps:{value:e.externalReference},on:{input:function(t){t.target.composing||(e.externalReference=t.target.value)}}}),r("div",{staticClass:"input-group-append"},[r("a",{staticClass:"btn btn-outline-secondary",attrs:{target:"_blank",href:e.externalReference}},[e._v("\n                Open in new window\n              ")])])])])]:e._e(),"Apomorphy"===e.specifierClass?[r("p",[e._v("\n          Apomorphy-based specifiers are not currently supported. Please enter\n          them into the verbatim label field for now.\n        ")])]:e._e()],2)]):e._e()])},i=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},c0c4:function(e,t,r){"use strict";r.r(t);var n=r("2820"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},c0e6:function(e,t,r){"use strict";r.r(t);var n=r("11ec"),i=r("810f");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);r("8a2a");var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},c4a9:function(e,t,r){"use strict";r.r(t);var n=r("c048"),i=r("97ac");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);r("bc68");var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},c542:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"card border-dark"},[r("h5",{staticClass:"card-header border-dark"},[e._v("\n      Phyloreference collection\n    ")]),r("div",{staticClass:"card-body"},[r("form",[e.phylorefs.length>1||e.phyx.title?r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"phyx-label"}},[e._v("\n            Collection name\n          ")]),r("div",{staticClass:"col-md-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.phyx.title,expression:"phyx.title"}],staticClass:"form-control",attrs:{id:"phyx-label",type:"text",placeholder:"Enter title here"},domProps:{value:e.phyx.title},on:{input:function(t){t.target.composing||e.$set(e.phyx,"title",t.target.value)}}})])]):e._e(),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"curator-name"}},[e._v("\n            Curated by\n          ")]),r("div",{staticClass:"col-md-4"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.phyxCurator,expression:"phyxCurator"}],staticClass:"form-control",attrs:{id:"curator-name",type:"text",placeholder:"Curator name"},domProps:{value:e.phyxCurator},on:{input:function(t){t.target.composing||(e.phyxCurator=t.target.value)}}})]),r("div",{staticClass:"col-md-3"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.phyxCuratorEmail,expression:"phyxCuratorEmail"}],staticClass:"form-control",attrs:{id:"curator-email",type:"email",placeholder:"Curator e-mail address"},domProps:{value:e.phyxCuratorEmail},on:{input:function(t){t.target.composing||(e.phyxCuratorEmail=t.target.value)}}})]),r("div",{staticClass:"col-md-3 input-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.phyxCuratorORCID,expression:"phyxCuratorORCID"}],staticClass:"form-control",attrs:{id:"external-reference",placeholder:"Curator ORCID"},domProps:{value:e.phyxCuratorORCID},on:{input:function(t){t.target.composing||(e.phyxCuratorORCID=t.target.value)}}}),r("div",{staticClass:"input-group-append"},[r("a",{staticClass:"btn btn-outline-secondary",attrs:{target:"_blank",href:"https://orcid.org/"+e.phyxCuratorORCID}},[e._v("\n                Open in new window\n              ")])])])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-form-label col-md-2",attrs:{for:"default-nomen-code"}},[e._v("\n            Default nomenclatural code\n          ")]),r("div",{staticClass:"col-md-10"},[r("select",{staticClass:"form-control",attrs:{id:"nomen-code"},domProps:{value:e.$store.getters.getDefaultNomenCodeURI},on:{change:function(t){return e.$store.commit("setDefaultNomenCodeURI",{defaultNomenclaturalCodeURI:t.target.value})}}},e._l(e.nomenCodes,(function(t,n){return r("option",{domProps:{value:t.uri}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),0)])])])])]),r("div",{staticClass:"card border-dark mt-2"},[r("h5",{staticClass:"card-header border-dark"},[e._v("\n      Phyloreferences in this file\n    ")]),r("div",{staticClass:"card-body p-0"},[r("table",{staticClass:"table table-hover table-flush"},[r("thead",[r("th",[e._v(" ")]),r("th",[e._v("Phyloreference")]),r("th",[e._v("Type")]),r("th",[e._v("Internal specifiers")]),r("th",[e._v("External specifiers")]),e._l(e.phylogenies,(function(t,n){return r("th",[e._v("\n            "+e._s(e.getPhylogenyLabel(t))+"\n          ")])}))],2),r("tbody",[0===e.phylorefs.length?r("tr",{staticClass:"bg-white"},[r("td",{attrs:{colspan:4+e.phylogenies.length}},[r("Center",[r("em",[e._v("No phyloreferences in this file")])])],1)]):e._e(),e._l(e.phylorefs,(function(t,n){return r("tr",[r("td",[r("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(r){return e.deletePhyloref(t)}}},[e._v("✕")])]),r("td",[r("a",{attrs:{href:"javascript: void(0)"},on:{click:function(r){return e.$store.commit("changeDisplay",{phyloref:t})}}},[e._v("\n                "+e._s(e.getPhylorefLabel(t))+"\n              ")])]),r("td",[e._v(e._s(e.$store.getters.getPhylorefType(t)))]),r("td",[e._v(e._s((t.internalSpecifiers||[]).length))]),r("td",[e._v(e._s((t.externalSpecifiers||[]).length))]),e._l(e.phylogenies,(function(n,i){return r("td",[e.getPhylorefExpectedNodeLabel(t,n)?[e._v("\n                Expected to resolve to node "+e._s(e.getPhylorefExpectedNodeLabel(t,n))+"\n                "),e.hasReasoningResults(t)?[0===e.getNodeLabelsResolvedByPhyloref(t,n).length?[e._v("\n                    but "),r("strong",[e._v("did not resolve to any node")])]:e.getNodeLabelsResolvedByPhyloref(t,n).length>1?[e._v("\n                    but "),r("strong",[e._v("resolved to multiple nodes: "+e._s(e.getNodeLabelsResolvedByPhyloref(t,n)))])]:[e._v("\n                    and resolved\n                    "),e.getNodeLabelsResolvedByPhyloref(t,n)[0]===e.getPhylorefExpectedNodeLabel(t,n)?[e._v("\n                      correctly\n                    ")]:[r("strong",[e._v("incorrectly")])],e._v("\n                    to "+e._s(e.getNodeLabelsResolvedByPhyloref(t,n)[0]||"an unlabeled node")+"\n                  ")]]:e._e()]:[r("strong",[e._v("No expected node")]),e.hasReasoningResults(t)?[0===e.getNodeLabelsResolvedByPhyloref(t,n).length?[e._v("\n                    but "),r("strong",[e._v("did not resolve to any node")])]:e.getNodeLabelsResolvedByPhyloref(t,n).length>1?[e._v("\n                    but "),r("strong",[e._v("resolved to multiple nodes: "+e._s(e.getNodeLabelsResolvedByPhyloref(t,n)))])]:[e._v("\n                    and resolved to "+e._s(e.getNodeLabelsResolvedByPhyloref(t,n)[0]||"an unlabeled node")+"\n                  ")]]:e._e()]],2)}))],2)}))],2)])]),r("div",{staticClass:"card-footer"},[r("div",{staticClass:"btn-group",attrs:{role:"group","area-label":"Phyx file management"}},[r("button",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:function(t){return e.$store.commit("createEmptyPhyloref")}}},[e._v("\n          Add phyloreference\n        ")])])])]),r("div",{staticClass:"card border-dark mt-2"},[r("h5",{staticClass:"card-header border-dark"},[e._v("\n      Phylogenies in this file\n    ")]),r("div",{staticClass:"card-body p-0"},[r("table",{staticClass:"table table-hover table-flush"},[e._m(0),r("tbody",[0===e.phylogenies.length?r("tr",{staticClass:"bg-white"},[r("td",{attrs:{colspan:3}},[r("Center",[r("em",[e._v("No phylogenies in this file")])])],1)]):e._e(),e._l(e.phylogenies,(function(t,n){return r("tr",[r("td",[r("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(r){return e.deletePhylogeny(t)}}},[e._v("✕")])]),r("td",[r("a",{attrs:{href:"javascript: void(0)"},on:{click:function(r){return e.$store.commit("changeDisplay",{phylogeny:t})}}},[e._v("\n                "+e._s(e.getPhylogenyLabel(t))+"\n              ")])]),r("td",[e._v("\n              "+e._s(t.description)+"\n            ")])])}))],2)])]),r("div",{staticClass:"card-footer"},[r("div",{staticClass:"btn-group",attrs:{role:"group","area-label":"Phylogeny management"}},[r("button",{staticClass:"btn btn-primary",attrs:{href:"javascript:;"},on:{click:function(t){return e.$store.commit("createEmptyPhylogeny")}}},[e._v("\n          Add phylogeny\n        ")])])])])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("th",[e._v(" ")]),r("th",[e._v("Phylogeny")]),r("th",[e._v("Description")])])}];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},c8c6:function(e,t,r){"use strict";r.r(t);var n=r("4a39"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},caa2:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("2ef0"),i={name:"ModifiedCard",props:{message:{type:String,default:"This element has changed! Please remember to save it."},compare:Object,compareTo:Object},computed:{dataChanged:function(){return!(0,n.isEqual)(this.compare,this.compareTo)}}};t.default=i},db33:function(e,t,r){"use strict";r.r(t);var n=r("910f"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},db49:function(e,t,r){"use strict";e.exports={JPHYLOREF_SUBMISSION_URL:"https://reasoner.phyloref.org/reason",JPHYLOREF_X_HUB_SIGNATURE_SECRET:"undefined"}},e375:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r("9068"),i=r("b2c6"),a={name:"AdvancedOptionsPanel",data:function(){return{JSONParsingError:void 0}},computed:{phyxAsJSON:{get:function(){return JSON.stringify(this.$store.state.phyx.currentPhyx,void 0,4)},set:function(e){try{var t=JSON.parse(e);this.$store.commit("setCurrentPhyx",t),this.JSONParsingError=void 0}catch(r){this.JSONParsingError=r.message}}}},methods:{downloadAsJSONLD:function(){var e=new n.PhyxWrapper(this.$store.state.phyx.currentPhyx),t=[JSON.stringify([e.asJSONLD()],void 0,4)],r=new File(t,"download.jsonld",{type:"application/json;charset=utf-8"});(0,i.saveAs)(r)}}};t.default=a},e6b3:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.dataChanged?r("div",{staticClass:"card mb-2 border-dark"},[r("div",{staticClass:"card-body bg-warning"},[e._v("\n    "+e._s(e.message)+"\n  ")])]):e._e()},i=[];r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}))},e896:function(e,t,r){"use strict";r.r(t);var n=r("47ed"),i=r("f4ef");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},ea03:function(e,t,r){"use strict";r.r(t);var n=r("2641"),i=r("db33");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},f01d:function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r("2b0e")),a={state:{display:{phyloref:void 0,phylogeny:void 0,specifier:void 0}},mutations:{changeDisplay:function(e,t){i.default.set(e,"display",t)}}};t.default=a},f4ef:function(e,t,r){"use strict";r.r(t);var n=r("9033"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},f63d:function(e,t,r){"use strict";var n=r("a36a"),i=r.n(n);i.a},f7af:function(e,t,r){"use strict";r.r(t);var n=r("67b4"),i=r("5c92");for(var a in i)"default"!==a&&function(e){r.d(t,e,(function(){return i[e]}))}(a);var o=r("2877"),s=Object(o["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},f902:function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("7f7f");var i=n(r("2b0e")),a=r("9068"),o=r("2ef0"),s={state:{currentPhyx:{phylorefs:[],phylogenies:[]},loadedPhyx:{phylorefs:[],phylogenies:[]}},getters:{loadedPhyxChanged:function(e){return!(0,o.isEqual)(e.currentPhyx,e.loadedPhyx)},getDefaultNomenCodeURI:function(e){return e.currentPhyx.defaultNomenclaturalCodeURI||a.TaxonNameWrapper.NAME_IN_UNKNOWN_CODE}},mutations:{setCurrentPhyx:function(e,t){i.default.set(e,"currentPhyx",t)},setLoadedPhyx:function(e,t){void 0===t||t===e.currentPhyx?i.default.set(e,"loadedPhyx",JSON.parse(JSON.stringify(e.currentPhyx))):i.default.set(e,"loadedPhyx",t)},createEmptyPhyloref:function(e){e.currentPhyx.phylorefs.push({})},createEmptyPhylogeny:function(e){e.currentPhyx.phylogenies.push({})},deletePhyloref:function(e,t){if(!(0,o.has)(t,"phyloref"))throw new Error('deletePhyloref needs a phyloref to modify using the "phyloref" argument');var r=(e.currentPhyx.phylorefs||[]).indexOf(t.phyloref);if(r<0)throw new Error("Could not delete unknown phyloref: ".concat(JSON.stringify(t.phyloref)));e.currentPhyx.phylorefs.splice(r,1)},deletePhylogeny:function(e,t){if(!(0,o.has)(t,"phylogeny"))throw new Error('deletePhylogeny needs a phylogeny to modify using the "phylogeny" argument');var r=(e.currentPhyx.phylogenies||[]).indexOf(t.phylogeny);if(r<0)throw new Error("Could not delete unknown phylogeny: ".concat(JSON.stringify(t.phylogeny)));e.currentPhyx.phylogenies.splice(r,1)},setDefaultNomenCodeURI:function(e,t){if(!(0,o.has)(t,"defaultNomenclaturalCodeURI"))throw new Error("No default nomenclatural code URI provided to setDefaultNomenCodeURI");i.default.set(e.currentPhyx,"defaultNomenclaturalCodeURI",t.defaultNomenclaturalCodeURI)},duplicatePhyloref:function(e,t){if(!(0,o.has)(t,"phyloref"))throw new Error('duplicatePhyloref needs a phyloref to duplicate using the "phyloref" argument');var r=(e.currentPhyx.phylorefs||[]).indexOf(t.phyloref);r<0&&(r=e.currentPhyx.phylorefs.length),e.currentPhyx.phylorefs.splice(r,0,(0,o.cloneDeep)(t.phyloref))},setCurator:function(e,t){(0,o.has)(t,"name")&&i.default.set(e.currentPhyx,"curator",t.name),(0,o.has)(t,"email")&&i.default.set(e.currentPhyx,"curatorEmail",t.email),(0,o.has)(t,"orcid")&&i.default.set(e.currentPhyx,"curatorORCID",t.orcid)}}};t.default=s},f9b1:function(e,t,r){"use strict";r.r(t);var n=r("7a1e"),i=r.n(n);for(var a in n)"default"!==a&&function(e){r.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a},fb1f:function(e,t,r){"use strict";var n=r("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(r("2b0e"));var i=r("9068"),a=r("2ef0");i.TaxonomicUnitWrapper.TYPE_APOMORPHY="http://purl.obolibrary.org/obo/CDAO_0000071";var o={name:"Specifier",props:{specifierIndex:{default:function(){return(0,a.uniqueId)()}},remoteSpecifier:{type:Object,required:!0},remoteSpecifierId:{type:String,required:!1,default:function(){return(0,a.uniqueId)("remoteSpecifierId")}},phyloref:{type:Object,required:!0}},data:function(){return{expand:!1,specifierClass:void 0,specimenWrapped:void 0,taxonNameWrapped:void 0,enteredNomenclaturalCode:this.$store.getters.getDefaultNomenCodeURI,enteredVerbatimLabel:void 0,externalReference:void 0}},computed:{nomenCodes:function(){return i.TaxonNameWrapper.getNomenclaturalCodes()},nomenclaturalCodeObj:function(){return i.TaxonNameWrapper.getNomenCodeAsObject(this.enteredNomenclaturalCode)},specifier:function(){var e;switch(this.specifierClass){case"Taxon":e=i.TaxonConceptWrapper.fromLabel(this.enteredScientificName,this.enteredNomenclaturalCode);break;case"Specimen":e=i.SpecimenWrapper.fromOccurrenceID(this.enteredOccurrenceID);break;case"Apomorphy":e={"@type":i.TaxonomicUnitWrapper.TYPE_APOMORPHY};break;case"External reference":e={"@id":this.externalReference||this.enteredVerbatimLabel||""};break;default:e={}}return this.enteredVerbatimLabel&&(e.label=this.enteredVerbatimLabel),e},specifierType:{get:function(){return new i.PhylorefWrapper(this.phyloref).getSpecifierType(this.remoteSpecifier)},set:function(e){this.$store.commit("setSpecifierType",{phyloref:this.phyloref,specifier:this.remoteSpecifier,specifierType:e})}},specifierLabel:{get:function(){return this.enteredVerbatimLabel?this.enteredVerbatimLabel:this.externalReference?this.externalReference:this.specimenWrapped?this.specimenWrapped.label:this.taxonNameWrapped?this.taxonNameWrapped.label:""},set:function(e){switch(this.enteredVerbatimLabel=e,this.specifierClass){case"Taxon":this.taxonNameWrapped=i.TaxonNameWrapper.fromVerbatimName(e,this.enteredNomenclaturalCode);break;case"Specimen":this.specimenWrapped=i.SpecimenWrapper.fromOccurrenceID(e);break;case"Apomorphy":break;case"External reference":this.externalReference=e;break}this.updateSpecifier()}},enteredScientificName:{get:function(){return this.taxonNameWrapped?this.taxonNameWrapped.nameComplete:""},set:function(e){e&&(this.taxonNameWrapped=new i.TaxonNameWrapper(i.TaxonNameWrapper.fromVerbatimName(e,this.enteredNomenclaturalCode)||{}),this.updateSpecifier(),this.enteredScientificName=e)}},enteredOccurrenceID:{get:function(){return this.specimenWrapped?this.specimenWrapped.occurrenceID:""},set:function(e){this.specimenWrapped=new i.SpecimenWrapper(i.SpecimenWrapper.fromOccurrenceID(e)),this.updateSpecifier()}}},watch:{phyloref:function(){this.recalculateEntered()},remoteSpecifier:function(){this.recalculateEntered()},remoteSpecifierId:function(){this.recalculateEntered()},specifierClass:function(){this.updateSpecifier()}},mounted:function(){this.recalculateEntered()},methods:{getSpecifierClass:function(e){if(e.types.length>0){switch(e.types[0]){case i.TaxonomicUnitWrapper.TYPE_TAXON_CONCEPT:return"Taxon";case i.TaxonomicUnitWrapper.TYPE_SPECIMEN:return"Specimen";case i.TaxonomicUnitWrapper.TYPE_APOMORPHY:return"Apomorphy"}if((0,a.has)(e,"@id"))return"External reference"}},recalculateEntered:function(){console.log("Recalculating entered values from: ",this.remoteSpecifier);var e=new i.TaxonomicUnitWrapper((0,a.cloneDeep)(this.remoteSpecifier||{}));(0,a.has)(this.remoteSpecifier,"@id")?(this.specifierClass="External reference",this.externalReference=this.remoteSpecifier["@id"],this.enteredVerbatimLabel=this.remoteSpecifier["label"]||e.label):(this.enteredVerbatimLabel=e.label,this.specifierClass=this.getSpecifierClass(e)||"Taxon");var t=new i.TaxonConceptWrapper(e.taxonConcept);t&&t.taxonName&&(this.taxonNameWrapped=new i.TaxonNameWrapper(t.taxonName),this.enteredNomenclaturalCode=this.taxonNameWrapped.nomenclaturalCode||this.enteredNomenclaturalCode),e.specimen&&(this.specimenWrapped=new i.SpecimenWrapper(e.specimen))},deleteSpecifier:function(){var e=confirm("Are you sure you want to delete this specifier?");e&&(console.log("Deleting specifier: ",this.phyloref,this.remoteSpecifier),this.$store.commit("deleteSpecifier",{phyloref:this.phyloref,specifier:this.remoteSpecifier}))},updateSpecifier:function(){var e=this.specifier;(0,a.isEqual)(e,this.remoteSpecifier)||(console.log("Updating specifier as ",e," differs from ",this.remoteSpecifier),this.$store.commit("setSpecifierProps",{specifier:this.remoteSpecifier,props:e}))}}};t.default=o}});
//# sourceMappingURL=app.b78a9eeb.js.map