{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///src/components/phylogeny/Phylotree.vue","webpack:///./src/store/modules/phyloref.js","webpack:///src/App.vue","webpack:///./src/store/modules/citations.js","webpack:///./src/components/icons/ModifiedIcon.vue?4855","webpack:///./src/components/icons/ModifiedIcon.vue?2f7c","webpack:///./src/components/cards/ModifiedCard.vue","webpack:///./src/components/modals/AboutCurationToolModal.vue","webpack:///./src/App.vue?1160","webpack:///./src/components/phylogeny/PhylogenyView.vue?a0cc","webpack:///./src/components/phylogeny/PhylogenyView.vue?c46e","webpack:///./src/store/modules/resolution.js","webpack:///src/components/phyloref/PhylorefView.vue","webpack:///./src/components/modals/AdvancedOptionsModal.vue","webpack:///./src/components/modals/AboutCurationToolModal.vue?840f","webpack:///src/components/TopNavigationBar.vue","webpack:///./src/components/modals/AdvancedOptionsModal.vue?9a46","webpack:///./src/App.vue","webpack:///./src/store/index.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/sidebar/Sidebar.vue?6f2c","webpack:///./src/components/sidebar/Sidebar.vue?02d4","webpack:///./src/components/icons/ModifiedIcon.vue","webpack:///./src/App.vue?5720","webpack:///./src/App.vue?6abe","webpack:///src/components/icons/ModifiedIcon.vue","webpack:///./src/components/modals/AboutCurationToolModal.vue?1f08","webpack:///./src/components/modals/AboutCurationToolModal.vue?417b","webpack:///./src/main.js","webpack:///./src/components/TopNavigationBar.vue?d79a","webpack:///./src/components/phyloref/PhylorefView.vue","webpack:///./src/components/TopNavigationBar.vue?c382","webpack:///./src/components/TopNavigationBar.vue?32fd","webpack:///./src/components/phyx/PhyxView.vue","webpack:///src/components/citations/Citation.vue","webpack:///./src/components/modals/AdvancedOptionsModal.vue?cf21","webpack:///./src/components/modals/AdvancedOptionsModal.vue?ca14","webpack:///src/components/phyx/PhyxView.vue","webpack:///./src/components/phylogeny/Phylotree.vue?ec67","webpack:///./src/components/phylogeny/Phylotree.vue?5403","webpack:///./src/components/phyx/PhyxView.vue?46cb","webpack:///./src/components/citations/Citation.vue","webpack:///src/components/sidebar/Sidebar.vue","webpack:///src/components/phylogeny/PhylogenyView.vue","webpack:///./src/components/specifiers/Specifier.vue?85d2","webpack:///./src/components/citations/Citation.vue?423c","webpack:///./src/components/citations/Citation.vue?d9f1","webpack:///./src/store/modules/phylogeny.js","webpack:///src/components/modals/AboutCurationToolModal.vue","webpack:///./src/components/phyloref/PhylorefView.vue?15b8","webpack:///./src/components/phyloref/PhylorefView.vue?f4d7","webpack:///./src/components/cards/ModifiedCard.vue?6f2d","webpack:///./src/components/specifiers/Specifier.vue?6241","webpack:///./src/components/specifiers/Specifier.vue?2394","webpack:///./src/components/specifiers/Specifier.vue?2123","webpack:///./src/components/phyloref/PhylorefView.vue?c50d","webpack:///./src/components/phylogeny/Phylotree.vue","webpack:///./src/components/specifiers/Specifier.vue","webpack:///./src/components/phyx/PhyxView.vue?ea52","webpack:///./src/components/phyx/PhyxView.vue?b99b","webpack:///./src/components/icons/ModifiedIcon.vue?bcb7","webpack:///src/components/cards/ModifiedCard.vue","webpack:///./src/components/phylogeny/PhylogenyView.vue?56a5","webpack:///./src/config.js","webpack:///src/components/modals/AdvancedOptionsModal.vue","webpack:///./src/components/cards/ModifiedCard.vue?18a8","webpack:///./src/components/cards/ModifiedCard.vue?812f","webpack:///./src/components/phylogeny/Phylotree.vue?b2b9","webpack:///./src/components/phylogeny/Phylotree.vue?d69c","webpack:///./src/components/sidebar/Sidebar.vue","webpack:///./src/components/phylogeny/PhylogenyView.vue","webpack:///./src/store/modules/ui.js","webpack:///./src/components/sidebar/Sidebar.vue?8b72","webpack:///./src/components/citations/Citation.vue?1af3","webpack:///./src/components/TopNavigationBar.vue","webpack:///./src/store/modules/phyx.js","webpack:///./src/components/citations/Citation.vue?f34d","webpack:///src/components/specifiers/Specifier.vue"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","props","phylogeny","phyloref","spacingX","type","Number","default","phylogenyIndex","String","selectedNodeLabel","required","pinningNodes","pinningNodeChildrenIRIs","Set","computed","reasoningResults","this","$store","state","resolution","newickAsString","newick","parsedNewick","newickErrors","tree","watch","redrawTree","mounted","methods","recurseNodes","func","node","nodeCount","parentCount","children","forEach","nextID","getters","getPhylorefType","internalSpecifierCount","internalSpecifiers","externalSpecifierCount","externalSpecifiers","mutations","setPhylorefProps","payload","has","Error","Vue","set","label","cladeDefinition","curatorComments","expectedResolution","phylogenyId","addExternalSpecifier","addInternalSpecifier","deleteSpecifier","PhylorefWrapper","specifier","setSpecifierProps","keys","delete","cloneDeep","setSpecifierType","includes","indexOf","specifierType","setSpecifierPart","specifierPart","scientificName","occurrenceID","updateSpecifierExternalReference","externalReferences","fromExternalReference","toExternalReference","addToSpecifier","externalReference","includesSpecimens","specimen","scientificNames","deleteFromSpecifier","components","TopNavigationBar","Sidebar","PhyxView","PhylogenyView","PhylorefView","AboutCurationToolModal","AdvancedOptionsModal","display","currentPhyx","loadedPhyx","console","log","commit","undefined","created","$","on","isNonEmptyString","str","isString","trim","CitationWrapper","citation","isEmpty","authors","authorsAsStrings","authorsAndTitle","join","year","title","editorLists","editors","editorsAsStrings","seriesEditors","seriesEditorsAsStrings","section_title","additionalInfo","figure","doisAsStrings","map","doi","urlsAsStrings","url","isbns","isbn","journal","journalIssue","number","pages","issns","issn","volume","publisher","city","Array","isArray","author","filter","editor","series_editors","identifier","identifiers","id","dois","concat","reduce","acc","val","link","urls","firstURL","firstDOI","encodeURI","getWrappedCitation","setCitations","citationKey","citations","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","message","style","color","_e","staticRenderFns","component","selectedPhylogeny","phylogenies","_v","directives","rawName","expression","class","phylogenyIdError","domProps","$event","target","composing","_s","modifiers","phylogenyLabel","$forceUpdate","phylogenyDescription","phylogenyNewick","phylogenyNewickErrors","_l","error","errorIndex","getBaseURIForPhylogeny","rootState","PhyxWrapper","phyx","getBaseURIForPhyloref","phylorefs","getPhylogenyId","getPhylorefId","getResolvedNodesForPhylogeny","flagReturnShortURIs","phylorefURI","nodesResolved","phylogenyURI","nodeURIs","uri","results","iri","replace","getExpectedResolution","getExpectedNodeLabel","nodeLabel","allNodeLabels","PhylogenyWrapper","getNodeLabels","setReasoningResults","actions","setExpectedResolution","context","expectedResolutionData","currentExpectedResolution","currentExpectedResolutionForPhylogeny","description","ModifiedCard","Phylotree","Citation","Specifier","selectedPhylorefLabel","selectedCladeDefinition","selectedCuratorComments","computedPhylorefType","selectedPhyloref","noSpecifiers","dispatch","getSpecifierLabel","getResolvedNodes","version","use","Vuex","debug","process","Store","CURATION_TOOL_VERSION","ui","strict","webpackContext","req","webpackContextResolve","e","code","resolve","loadPhyxFromFileInputById","example","loadPhyxFromURL","_m","downloadAsJSON","downloadAsJSONLD","reasonOverPhyloreferences","active","phylorefIndex","specifierIndex","selectedSpecifier","library","FontAwesomeIcon","compare","compareTo","dataChanged","require","$config","BootstrapVue","VueResize","config","productionTip","el","store","h","App","citationsExpanded","newDOI","updateCitations","getCitationsFromProps","ourCitations","toggleCitationExpanded","citationIndex","wrappedCitation","JSONParsingError","staticStyle","phyxAsJSON","nomenCodes","phyxCurator","phyxCuratorEmail","phyxCuratorORCID","getPhylogenyLabel","getPhylorefLabel","hasReasoningResults","getPhylorefExpectedNodeLabel","getNodesById","searchNode","parsed","json","getNodeLabelsResolvedByPhyloref","resolvedNodes","deletePhyloref","deletePhylogeny","ModifiedIcon","reasoningInProgress","examplePHYXURLs","verbatimSpecifier","promptAndSetDict","response","getJSON","FileReader","$fileInput","prop","fr","onload","readAsText","file","alert","jsonldGzipped","Buffer","from","toString","query","signature","post","outerThis","JPHYLOREF_SUBMISSION_URL","headers","jqXHR","responseJSON","err","newickTrimmed","x","parenLevels","errors","$$selectedVal","options","selected","_value","$set","multiple","split","disabled","setPhylogenyProps","changePhylogenyId","oldPhylogenyId","rootGetters","phylogenyWithDuplicateID","find","index","specifierClass","nomenclaturalCodeObj","shortName","nomenCode","nomenCodeIndex","enteredNomenclaturalCode","specifierLabel","expand","updateSpecifier","enteredVerbatimLabel","taxonNameWrapped","enteredOccurrenceID","specimenWrapped","institutionCode","collectionCode","catalogNumber","getDefaultNomenCodeURI","defaultNomenclaturalCodeURI","JPHYLOREF_X_HUB_SIGNATURE_SECRET","JSON","stringify","ex","changeDisplay","newDisplay","loadedPhyxChanged","isEqual","TaxonNameWrapper","NAME_IN_UNKNOWN_CODE","setCurrentPhyx","setLoadedPhyx","parse","createEmptyPhyloref","createEmptyPhylogeny","setDefaultNomenCodeURI","duplicatePhyloref","setCurator","email","orcid","TaxonomicUnitWrapper","remoteSpecifier","remoteSpecifierId","enteredScientificName","scname","recalculateEntered","getSpecifierClass","tunit","types","taxonConceptWrapped","taxonName","nomenclaturalCode","confirmed"],"mappings":"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AW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,gBAAiB,OACjB,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,YAAa,OACb,eAAgB,OAChB,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,QAAS,OACT,WAAY,OACZ,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,QAAS,OACT,WAAY,OACZ,OAAQ,OACR,UAAW,OACX,QAAS,OACT,WAAY,OACZ,QAAS,OACT,aAAc,OACd,gBAAiB,OACjB,WAAY,OACZ,UAAW,OACX,aAAc,OACd,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,UAAW,OACX,OAAQ,OACR,YAAa,OACb,eAAgB,OAChB,UAAW,OACX,OAAQ,OACR,UAAW,OACX,aAAc,OACd,gBAAiB,OACjB,OAAQ,OACR,UAAW,OACX,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,OACd,UAAW,OACX,aAAc,QAIf,SAASgI,EAAeC,GACvB,IAAI1G,EAAK2G,EAAsBD,GAC/B,OAAO7R,EAAoBmL,GAE5B,SAAS2G,EAAsBD,GAC9B,IAAI7R,EAAoBW,EAAEiJ,EAAKiI,GAAM,CACpC,IAAIE,EAAI,IAAI9M,MAAM,uBAAyB4M,EAAM,KAEjD,MADAE,EAAEC,KAAO,mBACHD,EAEP,OAAOnI,EAAIiI,GAEZD,EAAe7L,KAAO,WACrB,OAAOjH,OAAOiH,KAAK6D,IAEpBgI,EAAeK,QAAUH,EACzB1R,EAAOD,QAAUyR,EACjBA,EAAezG,GAAK,Q,oCCnRpB,IAAIe,EAAS,WAAa,IAAIC,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,oBAAoB,CAACH,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,IAAI,CAACE,YAAY,qEAAqEC,MAAM,CAAC,KAAO,wBAAwB,CAACN,EAAIe,GAAG,+BAA+BZ,EAAG,IAAI,CAACE,YAAY,yCAAyCC,MAAM,CAAC,KAAO,sBAAsB,QAAU,sCAAsC,CAACN,EAAIe,GAAG,iDAAiDZ,EAAG,QAAQ,CAACE,YAAY,SAASC,MAAM,CAAC,GAAK,aAAa,KAAO,QAAQpE,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI+F,0BAA0B,mBAAmB5F,EAAG,IAAI,CAACE,YAAY,yCAAyCC,MAAM,CAAC,KAAO,sBAAsB,QAAU,8CAA8C,CAACN,EAAIe,GAAG,4CAA4Cf,EAAIgC,GAAIhC,EAAmB,iBAAE,SAASgG,GAAS,OAAO7F,EAAG,IAAI,CAACE,YAAY,oEAAoEC,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIiG,gBAAgBD,EAAQpI,QAAQ,CAACoC,EAAIe,GAAG,eAAef,EAAIyB,GAAGuE,EAAQjJ,OAAO,iBAAgBiD,EAAIkG,GAAG,GAAG/F,EAAG,IAAI,CAACE,YAAY,yCAAyCC,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAImG,oBAAoB,CAACnG,EAAIe,GAAG,4BAA4BZ,EAAG,eAAe,CAACG,MAAM,CAAC,QAAU,yFAAyF,QAAUN,EAAItE,YAAY,aAAasE,EAAIrE,eAAe,GAAGwE,EAAG,IAAI,CAACE,YAAY,yCAAyCC,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIoG,sBAAsB,CAACpG,EAAIe,GAAG,0CAA0CZ,EAAG,IAAI,CAACE,YAAY,yDAAyDC,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIqG,+BAA+B,CAAErG,EAAuB,oBAAEG,EAAG,OAAO,CAACH,EAAIe,GAAG,mDAAmDZ,EAAG,OAAO,CAACH,EAAIe,GAAG,yDAAyDZ,EAAG,IAAI,CAACE,YAAY,yCAAyCC,MAAM,CAAC,KAAO,sBAAsB,QAAU,mCAAmC,CAACN,EAAIe,GAAG,iCAAiC,KAAKZ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,IAAI,CAACE,YAAY,qEAAqEC,MAAM,CAAC,KAAO,wBAAwB,CAACN,EAAIe,GAAG,uCAAuCZ,EAAG,IAAI,CAACE,YAAY,yCAAyCc,MAAM,CAACmF,QAAStG,EAAI2E,mBAAqB3E,EAAIa,mBAAmBP,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,gBAAiB,OAAO,CAACqE,EAAG,KAAK,CAACH,EAAIe,GAAG,eAAef,EAAIgC,GAAIhC,EAAa,WAAE,SAAS/J,EAASsQ,GAAe,MAAO,CAACpG,EAAG,IAAI,CAACE,YAAY,wDAAwDc,MAAM,CAACmF,OAAQtG,EAAI2E,mBAAqB1O,GAAUqK,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,gBAAiB,CAAC7F,SAAUA,OAAc,CAAEA,EAAc,MAAEkK,EAAG,OAAO,CAACH,EAAIe,GAAG,iBAAiBf,EAAIyB,GAAGxL,EAASgD,OAAO,kBAAkBkH,EAAG,OAAO,CAACH,EAAIe,GAAG,iBAAiBf,EAAIyB,GAAG,mBAAqB8E,EAAgB,IAAI,kBAAkBpG,EAAG,eAAe,CAACG,MAAM,CAAC,QAAU,8FAA8F,QAAUrK,EAAS,aAAa+J,EAAIrE,WAAW6G,UAAU+D,OAAmB,GAAIvG,EAAI2E,mBAAqB1O,EAAU,CAAC+J,EAAIgC,GAAI/L,EAA2B,oBAAE,SAASyD,EAAU8M,GAAgB,OAAOrG,EAAG,IAAI,CAACE,YAAY,yCAAyCc,MAAM,CAAC,qBAAsBnB,EAAIyG,oBAAsB/M,GAAW4G,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,gBAAiB,CAAE7F,SAAUA,EAAUyD,UAAWA,OAAgB,CAACsG,EAAIe,GAAG,oBAAoBZ,EAAG,SAAS,CAACH,EAAIe,GAAG,eAAef,EAAIe,GAAG,IAAIf,EAAIyB,GAAGzB,EAAI8E,kBAAkBpL,IAAY,qBAAoBsG,EAAIgC,GAAI/L,EAA2B,oBAAE,SAASyD,EAAU8M,GAAgB,OAAOrG,EAAG,IAAI,CAACE,YAAY,yCAAyCc,MAAM,CAAC,qBAAsBnB,EAAIyG,oBAAsB/M,GAAW4G,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,gBAAiB,CAAE7F,SAAUA,EAAUyD,UAAWA,OAAgB,CAACsG,EAAIe,GAAG,oBAAoBZ,EAAG,SAAS,CAACH,EAAIe,GAAG,eAAef,EAAIe,GAAG,IAAIf,EAAIyB,GAAGzB,EAAI8E,kBAAkBpL,IAAY,qBAAoByG,EAAG,IAAI,CAACE,YAAY,yCAAyCC,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,eAAgB,CAAE7F,SAAUA,OAAe,CAAC+J,EAAIe,GAAG,oBAAoBZ,EAAG,KAAK,CAACH,EAAIe,GAAG,sBAAsBf,EAAIU,SAAQP,EAAG,IAAI,CAACE,YAAY,qDAAqDC,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,0BAA0B,CAACqE,EAAG,KAAK,CAACH,EAAIe,GAAG,2BAA2B,KAAKZ,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,IAAI,CAACE,YAAY,qEAAqEC,MAAM,CAAC,KAAO,wBAAwB,CAACN,EAAIe,GAAG,mCAAmCf,EAAIgC,GAAIhC,EAAe,aAAE,SAAShK,EAAUM,GAAgB,OAAO6J,EAAG,IAAI,CAACE,YAAY,wDAAwDc,MAAM,CAACmF,OAAQtG,EAAIa,oBAAsB7K,GAAWsK,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,gBAAiB,CAAC9F,UAAWA,OAAe,CAACgK,EAAIe,GAAG,aAAaf,EAAIyB,GAAGzL,EAAUiD,OAAU,cAAgB3C,EAAiB,IAAK,gBAAgB6J,EAAG,eAAe,CAACG,MAAM,CAAC,QAAU,yFAAyF,QAAUtK,EAAU,aAAagK,EAAIrE,WAAWmF,YAAYxK,OAAoB,MAAK6J,EAAG,IAAI,CAACE,YAAY,qDAAqDC,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,2BAA2B,CAACqE,EAAG,KAAK,CAACH,EAAIe,GAAG,sBAAsB,QACpuMJ,EAAkB,CAAC,WAAa,IAAIX,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACE,YAAY,oEAAoEC,MAAM,CAAC,KAAO,sBAAsB,QAAU,8CAA8C,CAACH,EAAG,KAAK,CAACH,EAAIe,GAAG,gCCD/S,qE,kCCAA,oIAOIH,EAAY,eACd,aACA,OACA,QACA,EACA,KACA,KACA,MAIa,aAAAA,E,6CClBf,IAAIb,EAAS,WAAa,IAAIC,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,QAAQ,CAACH,EAAG,mBAAmB,CAACG,MAAM,CAAC,QAAUN,EAAIgF,WAAW7E,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,YAAY,CAACH,EAAG,WAAWA,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,yBAAyB,CAAEN,EAAIvE,QAAgB,SAAE,CAAC0E,EAAG,eAAe,CAACG,MAAM,CAAC,SAAWN,EAAIvE,QAAQxF,SAAS,UAAY+J,EAAIvE,QAAQ/B,cAAesG,EAAIvE,QAAiB,UAAE,CAAC0E,EAAG,gBAAgB,CAACG,MAAM,CAAC,UAAYN,EAAIvE,QAAQzF,cAAc,CAACmK,EAAG,cAAc,IAAI,GAAGA,EAAG,0BAA0BA,EAAG,yBAAyB,IACvjBQ,EAAkB,GCDtB,qE,sGCsBA,gBAGA,YACA,YAGA,YAGA,EAAA+F,QAAA,2B,MAEA,CACEpS,KAAM,eACN2G,WAAY,CACV0L,gBAAJ,mBAEE5Q,MAAO,CACLwK,QAAS,CACPpK,KAAMI,OACNF,QAAS,yDAEXuQ,QAASjU,OACTkU,UAAWlU,QAEbkE,SAAU,CACRiQ,YADJ,WACA,qD,iDChDA,IAAI/G,EAAS,WAAa,IAAIC,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAsBF,EAAII,MAAMD,GAAO,OAAOH,EAAIkG,GAAG,IACnGvF,EAAkB,CAAC,WAAa,IAAIX,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQC,MAAM,CAAC,GAAK,sBAAsB,SAAW,KAAK,KAAO,WAAW,CAACH,EAAG,MAAM,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAO,aAAa,CAACH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACL,EAAIe,GAAG,2CAA2CZ,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAACN,EAAIe,GAAG,qCAAqCZ,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,IAAI,CAACH,EAAIe,GAAG,2DAA2DZ,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,6BAA6B,CAACN,EAAIe,GAAG,wDAAwDf,EAAIe,GAAG,sGAAsGZ,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,4DAA4D,CAACN,EAAIe,GAAG,2CAA2Cf,EAAIe,GAAG,oBAAoBZ,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,4DAA4D,CAACN,EAAIe,GAAG,2CAA2Cf,EAAIe,GAAG,qBAAqBZ,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,2CAA2C,CAACN,EAAIe,GAAG,uCAAuCf,EAAIe,GAAG,6BAA6BZ,EAAG,IAAI,CAACH,EAAIe,GAAG,+DAA+DZ,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,2BAA2B,CAACN,EAAIe,GAAG,+CAA+CZ,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,8BAA8B,CAACN,EAAIe,GAAG,+CAA+CZ,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,wBAAwB,CAACN,EAAIe,GAAG,4CAA4CZ,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,wCAAwC,CAACN,EAAIe,GAAG,gDAAgDf,EAAIe,GAAG,gCAAgCZ,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,8CAA8C,CAACN,EAAIe,GAAG,0BAA0BZ,EAAG,KAAK,CAACH,EAAIe,GAAG,WAAWf,EAAIe,GAAG,4BAA4BZ,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,sBAAsB,CAACN,EAAIe,GAAG,2CAA2CZ,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,0BAA0B,CAACN,EAAIe,GAAG,+CAA+CZ,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,4CAA4C,CAACN,EAAIe,GAAG,kDAAkDZ,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,6BAA6B,CAACN,EAAIe,GAAG,sDAAsDZ,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,SAAS,eAAe,UAAU,CAACN,EAAIe,GAAG,2CCDnvF,qE,8JCCA,mBAGA,UACA,mBAEA,UACA,UAGA,mBACA,UAGA,mBAGA,eAGAnL,OAAOqG,EAAI8K,EAAQ,QAGnBhO,UAAInG,UAAUoU,QAAUD,EAAQ,QAGhChO,UAAIkM,IAAIgC,WACRlO,UAAIkM,IAAIiC,WAGRnO,UAAIoO,OAAOC,eAAgB,E,MAGZ,IAAIrO,UAAI,CACrBsO,GAAI,OACJC,gBACAvH,OAAQ,SAAAwH,GAAC,OAAIA,EAAEC,c,iDCrCjB,iHAA0V,eAAG,G,oCCA7V,oIAOI5G,EAAY,eACd,aACA,OACA,QACA,EACA,KACA,KACA,MAIa,aAAAA,E,sEClBf,IAAIb,EAAS,WAAa,IAAIC,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,2DAA2D,CAACF,EAAG,IAAI,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAO,eAAe,CAACN,EAAIe,GAAG,0BAA0BZ,EAAG,QAAQ,CAACE,YAAY,cAAc,CAACL,EAAIe,GAAGf,EAAIyB,GAAGzB,EAAIgF,YAAYhF,EAAIkG,GAAG,QACtWvF,EAAkB,CAAC,WAAa,IAAIX,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACF,EAAG,KAAK,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,IAAI,QAAU,sCAAsC,CAACN,EAAIe,GAAG,iDAAiDZ,EAAG,KAAK,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,WAAWC,MAAM,CAAC,OAAS,SAAS,KAAO,8BAA8B,CAACN,EAAIe,GAAG,0DAA0DZ,EAAG,KAAK,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,WAAWC,MAAM,CAAC,OAAS,SAAS,KAAO,8CAA8C,CAACN,EAAIe,GAAG,mDAAmDZ,EAAG,KAAK,CAACE,YAAY,YAAY,CAACF,EAAG,IAAI,CAACE,YAAY,WAAWC,MAAM,CAAC,OAAS,SAAS,KAAO,qDAAqD,CAACN,EAAIe,GAAG,kDCDt6B,qE,oCCAA,oIAOIH,EAAY,eACd,aACA,OACA,QACA,EACA,KACA,KACA,MAIa,aAAAA,E,mJCwef,iBACA,Y,EAIA,CACEtM,KAAM,WACNyB,MAAO,CACLkD,MAAO,CACL9C,KAAMI,OACNF,QAAS,YAEXb,OAAQ,CACNW,KAAMxD,OACN8D,UAAU,GAEZoJ,YAAa,CACX1J,KAAMI,OACNE,UAAU,IAGdvE,KAhBF,WAqBI,IAAJ,+BAEI,MAAO,CAELuV,kBAAmB,GAGnB3H,UAAN,EAGM4H,OAAQ,KAGZlQ,MAAO,CACLsI,UADJ,WAEM/I,KAAK4Q,mBAEPnS,OAJJ,WAKMuB,KAAK+I,UAAY/I,KAAK6Q,yBAExB/H,YAPJ,WAQM9I,KAAK+I,UAAY/I,KAAK6Q,0BAG1BjQ,QAAS,CACPiQ,sBADJ,WAOM,OAAIpJ,MAAMC,QAAQ1H,KAAKvB,OAAOuB,KAAK8I,eAC1B,EAAf,6CACA,4CACe,GAGF,EAAC,EAAd,8CAEI8H,gBAfJ,WAkBM,KAAI,EAAV,2BAAM,CAIA,IAAN,uCACA,YAIQ,OAHR,yEACA,UAEA,KAMM,KAAI,EAAV,4CACM,GAA4B,IAAxBE,EAAanV,OAAc,CAC7B,IAAI,EAAZ,sDAEQkJ,QAAQC,IAAI,yBAA0BgM,EAAa,GAAI,iBAAkB9Q,KAAKvB,OAAOuB,KAAK8I,cAC1F9I,KAAKC,OAAO8E,OAAO,eAAgB,CACjCtG,OAAQuB,KAAKvB,OACbqK,YAAa9I,KAAK8I,YAClBC,UAAW+H,EAAa,UAG1BjM,QAAQC,IAAI,yBAA0BgM,EAAc,iBAAkB9Q,KAAKvB,OAAOuB,KAAK8I,cACvF9I,KAAKC,OAAO8E,OAAO,eAAgB,CACjCtG,OAAQuB,KAAKvB,OACbqK,YAAa9I,KAAK8I,YAClBC,UAAW+H,MAIjBC,uBApDJ,SAoDA,GAGU/Q,KAAK0Q,kBAAkBzN,SAAS+N,GAAgBhR,KAAK0Q,kBAAoB1Q,KAAK0Q,kBAAkB9I,QAAO,SAAjH,mBACA,gCAEIqJ,gBA1DJ,SA0DA,GAEM,OAAOjR,KAAKC,OAAOoB,QAAQuH,mBAAmBnD,M,iDCxmBpD,IAAIuD,EAAS,WAAa,IAAIC,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQC,MAAM,CAAC,GAAK,mBAAmB,SAAW,KAAK,KAAO,WAAW,CAACH,EAAG,MAAM,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAO,aAAa,CAACH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACL,EAAIkG,GAAG,GAAG/F,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACH,EAAIe,GAAG,0IAA2If,EAAoB,iBAAEG,EAAG,MAAM,CAACE,YAAY,kCAAkC,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,IAAI,CAACE,YAAY,aAAa,CAACL,EAAIe,GAAG,kDAAkDf,EAAIyB,GAAGzB,EAAIiI,kBAAkB,wBAAwBjI,EAAIU,KAAKP,EAAG,WAAW,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,eAAelM,MAAOiL,EAAc,WAAEkB,WAAW,aAAaQ,UAAU,CAAC,MAAO,KAAQwG,YAAY,CAAC,MAAQ,OAAO,OAAS,QAAQ5H,MAAM,CAAC,GAAK,eAAe,KAAO,MAAMe,SAAS,CAAC,MAASrB,EAAc,YAAG9D,GAAG,CAAC,OAAS,SAASoF,GAAQtB,EAAImI,WAAW7G,EAAOC,OAAOxM,YAAYoL,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAO,UAAUpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIoG,sBAAsB,CAACpG,EAAIe,GAAG,+CAA+CZ,EAAG,SAAS,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,SAAS,eAAe,UAAU,CAACN,EAAIe,GAAG,0CACp4CJ,EAAkB,CAAC,WAAa,IAAIX,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACL,EAAIe,GAAG,4CAA4CZ,EAAG,SAAS,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,eAAe,QAAQ,aAAa,UAAU,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,cAAc,SAAS,CAACN,EAAIe,GAAG,uCCDjY,qE,iLC2QA,YACA,YACA,Y,ilBAEA,CACEzM,KAAM,WACNuC,SAAU,EAAZ,CACIuR,WAAY,WAAhB,mDACIC,YAAa,CACX1T,IADN,WACA,0BACMqE,IAFN,SAEA,+CAEIsP,iBAAkB,CAChB3T,IADN,WACA,+BACMqE,IAFN,SAEA,gDAEIuP,iBAAkB,CAChB5T,IADN,WACA,+BACMqE,IAFN,SAEA,kDAEA,eACI,KAAJ,YAAM,OAAN,oBACI,UAAJ,YAAM,OAAN,8BACI,YAAJ,YAAM,OAAN,mCAGErB,QAAS,CACP6Q,kBADJ,SACA,GACM,OAAO,IAAI,EAAjB,+CACA,gCAEIC,iBALJ,SAKA,GACM,OAAO,IAAI,EAAjB,6CACA,8BAEIC,oBATJ,SASA,GACM,KAAK,EAAX,2EAEM,IAAN,uCACM,OAAO,EAAb,mEAEIC,6BAfJ,SAeA,KAEM,OAAO5R,KAAKC,OAAOoB,QAAQkL,qBACjC,EACA,IAGIsF,aAtBJ,SAsBA,KAEM,IAAN,oDACA,sCACA,yBAGM,SAASC,EAAW/Q,GAA1B,gEAOQ,OANI,EAAZ,+BACUoL,EAAQlQ,KAAK8E,IAEX,EAAZ,sBACUA,EAAKG,SAASC,SAAQ,SAAhC,oBAEegL,EAGT,OAAK,EAAX,iBACa2F,EAAWC,EAAOC,MAD/B,IAGIC,gCA1CJ,SA0CA,gBAEA,mDACA,QAGM,OAAOC,EACb,iBAAQ,OAAR,uBACA,sBAAQ,OAAR,kBACA,iBAAQ,OAAR,2BAEIC,eArDJ,SAqDA,GACM,IAAN,4DACA,yBADA,MAGA,YACQnS,KAAKC,OAAO8E,OAAO,iBAAkB,CAA7C,cAGIqN,gBA7DJ,SA6DA,GACM,IAAN,uDACA,0BADA,MAGA,YACQpS,KAAKC,OAAO8E,OAAO,kBAAmB,CAA9C,iB,iDCvWA,iHAAkW,eAAG,G,oCCArW,yBAA+d,EAAG,G,oCCAle,iHAAiW,eAAG,G,oCCApW,8IAQI8E,EAAY,eACd,aACA,OACA,QACA,EACA,KACA,KACA,MAIa,aAAAA,E,8NC2Mf,eACA,YACA,YACA,YACA,YACA,eAEA,YAEA,e,ilBAEA,CACEtM,KAAM,UACN2G,WAAY,CACVmO,aAAJ,WAEElX,KALF,WAMI,MAAO,CACLmX,qBAAqB,IAGzBxS,SAAU,EAAZ,CACIyS,gBADJ,WAGM,MAAO,CACb,CACQ,IAAR,kCACQ,MAAR,sBAEA,CACQ,IAAR,uCACQ,MAAR,2BAEA,CACQ,IAAR,4BACQ,MAAR,mBAIA,iBACA,cAnBA,IAqBA,eACI,KAAJ,YAAM,OAAN,QACI,YAAJ,YAAM,OAAN,oBACI,WAAJ,YAAM,OAAN,mBACI,UAAJ,YAAM,OAAN,8BACI,YAAJ,YAAM,OAAN,gCACI,iBAAJ,YAAM,OAAN,uBACI,kBAAJ,YAAM,OAAN,wBACI,kBAAJ,YAAM,OAAN,2BAGE3R,QAAS,CACPmN,kBADJ,SACA,GAIM,OAAOpL,EAAU6P,mBAAqB,IAAI,EAAhD,sDAGIC,iBARJ,SAQA,OAIM,IAAN,6BACuBzN,IAAb0N,GAAuC,OAAbA,GAAmB,EAAvD,oBAGIxD,gBAhBJ,SAgBA,cAIA,wCACA,6HAKMhK,EAAEyN,QAAQ9L,GAChB,kBACQ,EAAR,kCACQ,EAAR,iCAEQ,EAAR,qCAEA,kBACA,eACU,MAAV,sFAEU,MAAV,yGAMImI,0BA3CJ,SA2CA,cAQM,GAAiC,oBAAtBnQ,OAAO+T,WAAlB,CAKA,IAAN,OACM,GAAKC,EAKL,GAAKA,EAAWC,KAAK,SAKrB,GAAKD,EAAWC,KAAK,SAAS,IAM9B,IAAN,uCACA,4HADM,CA9BN,MAoCA,gBApCA,qBAoCA,EApCA,KAqCA,iBACMC,EAAGC,OAAS,SAAlB,GACQ,IAAR,kBACA,gBAEQ,EAAR,kCACQ,EAAR,iCAGQ,EAAR,mCAEMD,EAAGE,WAAWC,SAvBZC,MAAM,2DALNA,MAAM,mFALNA,MAAM,2DANNA,MAAM,yDA0CV/D,eA9FJ,WAgGM,IAAN,gEAGA,uEACM,EAAN,aAaMpP,KAAKC,OAAO8E,OAAO,kBAGrBsK,iBApHJ,WAuHM,IAAN,wDACA,4CAGA,yEACM,EAAN,cAGIC,0BA/HJ,WAoIM,IAAItP,KAAKsS,oBAAT,CAGAtS,KAAKC,OAAO8E,OAAO,2BAAuBC,GAG1ChF,KAAKsS,qBAAsB,EAI3B,IAAN,OACM,EAAN,6BAEQ,IAAR,oCACA,gCACA,yBACA,aAGA,wBAGA,WAEUc,cAAeC,EAAOC,KAAKF,GAAeG,SAAS,YAC7D,oBAKA,gBACU,UAAV,OACU,OAAV,6CAEA,cAEQ1O,QAAQC,IAAI,UAAW0O,GACvB3O,QAAQC,IAAI,cAAe2O,GAE3BvO,EAAEwO,KAAK,CACL7M,IAAK8M,EAAU1D,QAAQ2D,yBACvBzY,KAAMqY,EACNK,QAAS,CACP,kBAAmBJ,KAE/B,kBACUE,EAAU1T,OAAO8E,OAAO,sBAAuB5J,MAEzD,sBAKU,IAAV,KACc,EAAd,8DACY+P,EAAQ4I,EAAMC,aAAa7I,YAGflG,IAAVkG,GAAiC,KAAVA,IAAcA,EAAQ,iBACjDiI,MAAM,6CAAhB,cACA,mBAEUQ,EAAUrB,qBAAsB,Y,kNCvU1C,YACA,YACA,YAEA,eACA,eACA,e,ilBAEA,CACE/U,KAAM,gBACN2G,WAAY,CAAd,+DACE/I,KAHF,WAII,MAAO,CAELkP,sBAAkBrF,IAGtBlF,SAAU,EAAZ,CAKIwC,YAAa,CAGX1E,IAHN,WAGA,mEACMqE,IAJN,SAIA,GACQ,IACEjC,KAAKC,OAAO6N,SAAS,oBAAqB,CAApD,iDACA,SAGU,OADA9N,KAAKqK,iBAAmB2J,GACjB,EAIT,OADAhU,KAAKqK,sBAAmBrF,GACjB,IAGX4F,eAAgB,CACdhN,IADN,WACA,qCACMqE,IAFN,SAEA,wFAEI6I,qBAAsB,CACpBlN,IADN,WACA,2CACMqE,IAFN,SAEA,8FAEI8I,gBAAiB,CACfnN,IADN,WACA,4CACMqE,IAFN,SAEA,yFAEI+I,sBAlCJ,WA4CM,KAAK,EAAX,iDACM,IAAN,uCACA,KAGM,GAAsB,KAAlBiJ,GAA0C,OAAlBA,GAA4C,QAAlBA,EAEpD,MAAO,CAAC,CACNjO,MAAO,uBACPwD,QAAS,0DAMb,IADA,IAAN,IACA,oBACiC,MAArByK,EAAcC,KAAYC,GAAe,GACpB,MAArBF,EAAcC,KAAYC,GAAe,GAG3B,IAAhBA,GACFC,EAAOnY,KAAK,CACV+J,MAAO,0CACPwD,QAAS,EAAnB,qBACA,EADA,kDAEA,EAFA,+BAQM,KACE,EAAR,YACA,SACQ4K,EAAOnY,KAAK,CACV+J,MAAO,0BACPwD,QAAS,kDAAnB,oBAIM,OAAO4K,KAEb,eACI,YAAJ,YAAM,OAAN,oBACI,WAAJ,YAAM,OAAN,mBACI,kBAAJ,YAAM,OAAN,4B,iDCxPA,iHAAkW,eAAG,G,oCCArW,IAAIpL,EAAS,WAAa,IAAIC,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,2BAA2B,CAACL,EAAIe,GAAG,SAASf,EAAIyB,GAAGzB,EAAI/G,OAAO,UAAUkH,EAAG,MAAM,CAACE,YAAY,aAAa,CAA2B,IAAzBL,EAAIF,UAAUpN,OAAc,CAACyN,EAAG,IAAI,CAACE,YAAY,yBAAyBC,MAAM,CAAC,KAAO,gBAAgBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIF,UAAU9M,KAAK,OAAO,CAACgN,EAAIe,GAAG,qCAAqCf,EAAIU,KAAKV,EAAIgC,GAAIhC,EAAa,WAAE,SAASxD,EAASuL,GAAe,MAAO,CAAC5H,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,QAAQ,CAACE,YAAY,2BAA2BC,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,YAAc,YAAYe,SAAS,CAAC,MAAQrB,EAAIgI,gBAAgBxL,GAAU8N,YAAc,kCAAkCpO,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAI8H,uBAAuBC,OAAmB5H,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAAEL,EAAIgI,gBAAgBxL,GAAa,IAAE2D,EAAG,IAAI,CAACE,YAAY,kBAAkBC,MAAM,CAAC,OAAS,SAAS,KAAON,EAAIgI,gBAAgBxL,GAAUoB,MAAM,CAACoC,EAAIe,GAAG,kDAAkDf,EAAIU,KAAKP,EAAG,IAAI,CAACE,YAAY,oBAAoBC,MAAM,CAAC,KAAO,gBAAgBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAI8H,uBAAuBC,MAAkB,CAAC/H,EAAIe,GAAG,0CAA2Cf,EAAIyH,kBAAkBzN,SAAS+N,GAAgB5H,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACL,EAAIe,GAAG,gDAAgDZ,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,kBAAkB,CAACN,EAAIe,GAAG,iDAAiDZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOyH,EAAa,KAAE0E,WAAW,kBAAkBb,YAAY,eAAeC,MAAM,CAAC,GAAK,iBAAiBpE,GAAG,CAAC,OAAS,CAAC,SAASoF,GAAQ,IAAI8J,EAAgB5M,MAAM5L,UAAU+L,OAAO7L,KAAKwO,EAAOC,OAAO8J,SAAQ,SAAS7W,GAAG,OAAOA,EAAE8W,YAAW7N,KAAI,SAASjJ,GAAG,IAAI6K,EAAM,WAAY7K,EAAIA,EAAE+W,OAAS/W,EAAEO,MAAM,OAAOsK,KAAOW,EAAIwL,KAAKhP,EAAU,OAAQ8E,EAAOC,OAAOkK,SAAWL,EAAgBA,EAAc,KAAK,SAAS9J,GAAQ,OAAOtB,EAAI2H,sBAAsB,CAACxH,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,YAAY,CAACN,EAAIe,GAAG,mDAAmDZ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,SAAS,CAACN,EAAIe,GAAG,gDAAgDZ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,iBAAiB,CAACN,EAAIe,GAAG,8DAA8DZ,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,YAAY,CAACN,EAAIe,GAAG,0DAA0DZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,UAAU,KAAO,IAAI,YAAc,sBAAsBe,SAAS,CAAC,MAAQrB,EAAIgI,gBAAgBxL,GAAUG,iBAAiBE,KAAK,OAAOX,GAAG,CAAC,OAAS,SAASoF,GAAQtB,EAAIgI,gBAAgBxL,GAAUG,iBAAmB2E,EAAOC,OAAOxM,MAAM2W,MAAM,YAAa1L,EAAI2H,0BAA2BxH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,YAAY,CAACN,EAAIe,GAAG,0DAA0DZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,UAAU,KAAO,IAAI,YAAc,sBAAsBe,SAAS,CAAC,MAAQrB,EAAIgI,gBAAgBxL,GAAUU,iBAAiBL,KAAK,OAAOX,GAAG,CAAC,OAAS,SAASoF,GAAQtB,EAAIgI,gBAAgBxL,GAAUU,iBAAmBoE,EAAOC,OAAOxM,MAAM2W,MAAM,YAAa1L,EAAI2H,0BAA2BxH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,mBAAmB,CAACN,EAAIe,GAAG,iEAAiEZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,iBAAiB,KAAO,IAAI,YAAc,6BAA6Be,SAAS,CAAC,MAAQrB,EAAIgI,gBAAgBxL,GAAUY,uBAAuBP,KAAK,OAAOX,GAAG,CAAC,OAAS,SAASoF,GAAQtB,EAAIgI,gBAAgBxL,GAAUY,uBAAyBkE,EAAOC,OAAOxM,MAAM2W,MAAM,YAAa1L,EAAI2H,0BAA2BxH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,UAAU,CAACN,EAAIe,GAAG,yCAAyCZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOyH,EAAc,MAAE0E,WAAW,mBAAmBb,YAAY,eAAeC,MAAM,CAAC,GAAK,QAAQ,KAAO,OAAO,YAAc,oBAAoBe,SAAS,CAAC,MAAS7E,EAAc,OAAGN,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2H,mBAAmB,MAAQ,SAASrG,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKhP,EAAU,QAAS8E,EAAOC,OAAOxM,eAAkC,iBAAlByH,EAASrG,KAAyBgK,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,kBAAkB,CAACN,EAAIe,GAAG,iDAAiDZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOyH,EAAsB,cAAE0E,WAAW,2BAA2Bb,YAAY,eAAeC,MAAM,CAAC,GAAK,gBAAgB,KAAO,OAAO,YAAc,4BAA4Be,SAAS,CAAC,MAAS7E,EAAsB,eAAGN,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2H,mBAAmB,MAAQ,SAASrG,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKhP,EAAU,gBAAiB8E,EAAOC,OAAOxM,eAAeiL,EAAIU,KAAKP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,SAAS,CAACN,EAAIe,GAAG,wCAAwCZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOyH,EAAa,KAAE0E,WAAW,kBAAkBb,YAAY,eAAeC,MAAM,CAAC,GAAK,OAAO,KAAO,OAAO,YAAc,mBAAmBe,SAAS,CAAC,MAAS7E,EAAa,MAAGN,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2H,mBAAmB,MAAQ,SAASrG,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKhP,EAAU,OAAQ8E,EAAOC,OAAOxM,aAAgC,YAAlByH,EAASrG,KAAoB,CAACgK,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,YAAY,CAACN,EAAIe,GAAG,+CAA+CZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOyH,EAAgB,QAAE0E,WAAW,qBAAqBb,YAAY,eAAeC,MAAM,CAAC,GAAK,UAAU,KAAO,OAAO,YAAc,sBAAsBe,SAAS,CAAC,MAAS7E,EAAgB,SAAGN,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2H,mBAAmB,MAAQ,SAASrG,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKhP,EAAU,UAAW8E,EAAOC,OAAOxM,cAAciL,EAAIU,MAAM,GAAGP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,UAAU,CAACN,EAAIe,GAAG,yCAAyCZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOyH,EAAc,MAAE0E,WAAW,mBAAmBb,YAAY,eAAeC,MAAM,CAAC,GAAK,QAAQ,KAAO,OAAO,YAAc,oBAAoBe,SAAS,CAAC,MAAS7E,EAAc,OAAGN,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2H,mBAAmB,MAAQ,SAASrG,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKhP,EAAU,QAAS8E,EAAOC,OAAOxM,aAAaoL,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,WAAW,CAACN,EAAIe,GAAG,0CAA0CZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOyH,EAAe,OAAE0E,WAAW,oBAAoBb,YAAY,eAAeC,MAAM,CAAC,GAAK,SAAS,KAAO,OAAO,YAAc,4BAA4Be,SAAS,CAAC,MAAS7E,EAAe,QAAGN,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2H,mBAAmB,MAAQ,SAASrG,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKhP,EAAU,SAAU8E,EAAOC,OAAOxM,eAAkC,YAAlByH,EAASrG,KAAoB,CAACgK,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,kBAAkB,CAACN,EAAIe,GAAG,qDAAqDZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAIgI,gBAAgBxL,GAAUuB,QAAY,KAAEmD,WAAW,2CAA2Cb,YAAY,eAAeC,MAAM,CAAC,GAAK,gBAAgB,KAAO,OAAO,YAAc,4BAA4Be,SAAS,CAAC,MAASrB,EAAIgI,gBAAgBxL,GAAUuB,QAAY,MAAG7B,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2H,mBAAmB,MAAQ,SAASrG,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKxL,EAAIgI,gBAAgBxL,GAAUuB,QAAS,OAAQuD,EAAOC,OAAOxM,eAAeoL,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,mBAAmB,CAACN,EAAIe,GAAG,8CAA8CZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAIgI,gBAAgBxL,GAAUuB,QAAc,OAAEmD,WAAW,6CAA6Cb,YAAY,eAAeC,MAAM,CAAC,GAAK,iBAAiB,KAAO,OAAO,YAAc,oCAAoCe,SAAS,CAAC,MAASrB,EAAIgI,gBAAgBxL,GAAUuB,QAAc,QAAG7B,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2H,mBAAmB,MAAQ,SAASrG,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKxL,EAAIgI,gBAAgBxL,GAAUuB,QAAS,SAAUuD,EAAOC,OAAOxM,aAAaoL,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,kBAAkB,CAACN,EAAIe,GAAG,oDAAoDZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAIgI,gBAAgBxL,GAAUuB,QAAc,OAAEmD,WAAW,6CAA6Cb,YAAY,eAAeC,MAAM,CAAC,GAAK,gBAAgB,KAAO,OAAO,YAAc,mCAAmCe,SAAS,CAAC,MAASrB,EAAIgI,gBAAgBxL,GAAUuB,QAAc,QAAG7B,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2H,mBAAmB,MAAQ,SAASrG,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKxL,EAAIgI,gBAAgBxL,GAAUuB,QAAS,SAAUuD,EAAOC,OAAOxM,eAAeoL,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,UAAU,CAACN,EAAIe,GAAG,4DAA4DZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,QAAQ,KAAO,IAAI,YAAc,oBAAoBe,SAAS,CAAC,MAAQrB,EAAIgI,gBAAgBhI,EAAIgI,gBAAgBxL,GAAUuB,SAASI,MAAMtB,KAAK,OAAOX,GAAG,CAAC,OAAS,SAASoF,GAAQtB,EAAIgI,gBAAgBhI,EAAIgI,gBAAgBxL,GAAUuB,SAASI,MAAQmD,EAAOC,OAAOxM,MAAM2W,MAAM,YAAa1L,EAAI2H,sBAAsBxH,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,IAAI,CAACE,YAAY,yCAAyCc,MAAM,CAACwK,SAA8F,KAAnF3L,EAAIgI,gBAAgBhI,EAAIgI,gBAAgBxL,GAAUuB,SAASI,OAAS,IAAIzL,QAAcwV,YAAY,CAAC,iBAAiB,UAAU5H,MAAM,CAAC,OAAS,SAAS,KAAO,0CAA4CN,EAAIgI,gBAAgBhI,EAAIgI,gBAAgBxL,GAAUuB,SAASI,MAAM,KAAK,CAAC6B,EAAIe,GAAG,+EAA+Ef,EAAIU,KAAKP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,UAAU,CAACN,EAAIe,GAAG,wDAAwDZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,QAAQ,KAAO,IAAI,YAAc,oBAAoBe,SAAS,CAAC,MAAQrB,EAAIgI,gBAAgBhI,EAAIgI,gBAAgBxL,GAAUuB,SAASF,MAAMhB,KAAK,OAAOX,GAAG,CAAC,OAAS,SAASoF,GAAQtB,EAAIgI,gBAAgBhI,EAAIgI,gBAAgBxL,GAAUuB,SAASF,MAAQyD,EAAOC,OAAOxM,MAAM2W,MAAM,YAAa1L,EAAI2H,sBAAsBxH,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,IAAI,CAACE,YAAY,yCAAyCc,MAAM,CAACwK,SAA8F,KAAnF3L,EAAIgI,gBAAgBhI,EAAIgI,gBAAgBxL,GAAUuB,SAASF,OAAS,IAAInL,QAAcwV,YAAY,CAAC,iBAAiB,UAAU5H,MAAM,CAAC,OAAS,SAAS,KAAO,0CAA4CN,EAAIgI,gBAAgBhI,EAAIgI,gBAAgBxL,GAAUuB,SAASF,MAAM,KAAK,CAACmC,EAAIe,GAAG,0EAA0EZ,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,cAAc,CAACN,EAAIe,GAAG,6CAA6CZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOyH,EAAkB,UAAE0E,WAAW,uBAAuBb,YAAY,eAAeC,MAAM,CAAC,GAAK,YAAY,KAAO,OAAO,YAAc,wBAAwBe,SAAS,CAAC,MAAS7E,EAAkB,WAAGN,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2H,mBAAmB,MAAQ,SAASrG,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKhP,EAAU,YAAa8E,EAAOC,OAAOxM,aAAaoL,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,SAAS,CAACN,EAAIe,GAAG,wCAAwCZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOyH,EAAa,KAAE0E,WAAW,kBAAkBb,YAAY,eAAeC,MAAM,CAAC,GAAK,OAAO,KAAO,OAAO,YAAc,+BAA+Be,SAAS,CAAC,MAAS7E,EAAa,MAAGN,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2H,mBAAmB,MAAQ,SAASrG,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKhP,EAAU,OAAQ8E,EAAOC,OAAOxM,eAAeoL,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,QAAQ,CAACN,EAAIe,GAAG,uDAAuDZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,MAAM,KAAO,IAAI,YAAc,mBAAmBe,SAAS,CAAC,MAAQrB,EAAIgI,gBAAgBxL,GAAUgB,cAAcX,KAAK,OAAOX,GAAG,CAAC,OAAS,SAASoF,GAAQtB,EAAIgI,gBAAgBxL,GAAUgB,cAAgB8D,EAAOC,OAAOxM,MAAM2W,MAAM,YAAa1L,EAAI2H,sBAAsBxH,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,IAAI,CAACE,YAAY,yCAAyCc,MAAM,CAACwK,UAAW3L,EAAIgI,gBAAgBxL,GAAUiD,UAAUyI,YAAY,CAAC,iBAAiB,UAAU5H,MAAM,CAAC,OAAS,SAAS,KAAON,EAAIgI,gBAAgBxL,GAAUiD,SAAW,kBAAoBO,EAAIgI,gBAAgBxL,GAAUiD,cAAW1D,IAAY,CAACiE,EAAIe,GAAG,0EAA0EZ,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,SAAS,CAACN,EAAIe,GAAG,uDAAuDZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,OAAO,KAAO,IAAI,YAAc,mBAAmBe,SAAS,CAAC,MAAQrB,EAAIgI,gBAAgBxL,GAAUmB,cAAcd,KAAK,OAAOX,GAAG,CAAC,OAAS,SAASoF,GAAQtB,EAAIgI,gBAAgBxL,GAAUmB,cAAgB2D,EAAOC,OAAOxM,MAAM2W,MAAM,YAAa1L,EAAI2H,sBAAsBxH,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,IAAI,CAACE,YAAY,yCAAyCc,MAAM,CAACwK,UAAW3L,EAAIgI,gBAAgBxL,GAAUgD,UAAU0I,YAAY,CAAC,iBAAiB,UAAU5H,MAAM,CAAC,OAAS,SAAS,KAAON,EAAIgI,gBAAgBxL,GAAUgD,WAAW,CAACQ,EAAIe,GAAG,2EAA2E,KAAKf,EAAIU,UAAS,MACt5eC,EAAkB,GCDtB,qE,0ICIA,mBACA,Y,EAEe,CACbjI,UAAW,CACTkT,kBADS,SACS3U,EAAO2B,GACvB,KAAK,IAAAC,KAAID,EAAS,aAChB,MAAM,IAAIE,MAAM,iFAEd,IAAAD,KAAID,EAAS,UACfG,UAAIC,IAAIJ,EAAQ5C,UAAW,QAAS4C,EAAQK,QAE1C,IAAAJ,KAAID,EAAS,gBACfG,UAAIC,IAAIJ,EAAQ5C,UAAW,cAAe4C,EAAQsL,cAEhD,IAAArL,KAAID,EAAS,WACfG,UAAIC,IAAIJ,EAAQ5C,UAAW,SAAU4C,EAAQxB,SAE3C,IAAAyB,KAAID,EAAS,QACfG,UAAIC,IAAIJ,EAAQ5C,UAAW,MAAO4C,EAAQ,UAIhDgL,QAAS,CACPiI,kBADO,SACW/H,EAASlL,GAMzB,KAAK,IAAAC,KAAID,EAAS,aAChB,MAAM,IAAIE,MAAM,gFAGlB,KAAK,IAAAD,KAAID,EAAS,eAChB,MAAM,IAAIE,MAAM,+EAIlB,IAAMgT,EAAiBhI,EAAQiI,YAAYtJ,eAAe7J,EAAQ5C,WAGlE,GAAI8V,IAAmBlT,EAAQS,YAA/B,CAGA,IAAM2S,EAA2BlI,EAAQ1B,UAAUE,KAAK5G,YAAYoF,YAAYmL,MAAK,SAAAjW,GAAS,OAAI,IAAA6C,KAAI7C,EAAW,QAAUA,EAAU,SAAW4C,EAAQS,eACxJ,GAAI2S,EACF,MAAM,IAAIlT,MAAJ,4BAA+BgT,EAA/B,eAAoDlT,EAAQS,YAA5D,8CAKRyK,EAAQ1B,UAAUE,KAAK5G,YAAY8G,UAAUtK,SAAQ,SAACjC,IAChD,IAAA4C,KAAI5C,EAASmD,oBAAsB,GAAI0S,KAEzChI,EAAQhI,OAAO,mBAAoB,CACjC7F,WACAoD,YAAaT,EAAQS,YACrBD,mBAAoBnD,EAASmD,mBAAmB0S,KAGlDhI,EAAQhI,OAAO,mBAAoB,CACjC7F,WACAoD,YAAayS,EACb1S,wBAAoB2C,QAM1B+H,EAAQhI,OAAO,oBAAqB,CAClC9F,UAAW4C,EAAQ5C,UACnB,MAAO4C,EAAQS,kB,yHC0CvB,CACE/E,KAAM,0B,6FCvHR,IAAIyL,EAAS,WAAa,IAAIC,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,QAAU,6FAA6F,QAAUN,EAAI2E,iBAAiB,aAAa3E,EAAIrE,WAAW6G,UAAUxC,EAAItE,YAAY8G,UAAUvI,QAAQ+F,EAAI2E,sBAAwB3E,EAAIvE,QAAQzF,UAAklFgK,EAAIU,KAA3kFP,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACL,EAAIe,GAAG,8CAA8CZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,UAAU,CAACN,EAAIe,GAAG,qCAAqCZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAyB,sBAAEkB,WAAW,0BAA0Bb,YAAY,eAAeC,MAAM,CAAC,GAAK,QAAQ,KAAO,OAAO,YAAc,wBAAwBe,SAAS,CAAC,MAASrB,EAAyB,uBAAG9D,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,YAAqBxB,EAAIuE,sBAAsBjD,EAAOC,OAAOxM,eAAcoL,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,oBAAoB,OAASN,EAAI2E,iBAAiB,eAAe,yBAAyBxE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,eAAe,CAACN,EAAIe,GAAG,4DAA4DZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,eAAelM,MAAOiL,EAA2B,wBAAEkB,WAAW,0BAA0BQ,UAAU,CAAC,MAAO,KAAQrB,YAAY,eAAeC,MAAM,CAAC,GAAK,aAAa,KAAO,IAAI,YAAc,iCAAiCe,SAAS,CAAC,MAASrB,EAA2B,yBAAG9D,GAAG,CAAC,OAAS,SAASoF,GAAQtB,EAAIwE,wBAAwBlD,EAAOC,OAAOxM,cAAcoL,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,0BAA0B,OAASN,EAAI2E,iBAAiB,eAAe,qBAAqBxE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,qBAAqB,CAACN,EAAIe,GAAG,gDAAgDZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,eAAelM,MAAOiL,EAA2B,wBAAEkB,WAAW,0BAA0BQ,UAAU,CAAC,MAAO,KAAQrB,YAAY,eAAeC,MAAM,CAAC,GAAK,mBAAmB,KAAO,IAAI,YAAc,0DAA0De,SAAS,CAAC,MAASrB,EAA2B,yBAAG9D,GAAG,CAAC,OAAS,SAASoF,GAAQtB,EAAIyE,wBAAwBnD,EAAOC,OAAOxM,eAAe,KAAKoL,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,QAAQ,aAAa,8BAA8B,CAACH,EAAG,SAAS,CAACE,YAAY,kBAAkBnE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,oBAAqB,CAAE7F,SAAU+J,EAAI2E,sBAAuB,CAAC3E,EAAIe,GAAG,oCAA6CZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACL,EAAIe,GAAG,8BAA8BZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAACA,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,kBAAkB,CAACN,EAAIe,GAAG,mDAAmDZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAwB,qBAAEkB,WAAW,yBAAyBb,YAAY,eAAeC,MAAM,CAAC,GAAK,gBAAgB,KAAO,OAAO,SAAW,IAAIe,SAAS,CAAC,MAASrB,EAAwB,sBAAG9D,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,YAAqBxB,EAAI0E,qBAAqBpD,EAAOC,OAAOxM,iBAAgBoL,EAAG,KAAK,CAACH,EAAIe,GAAG,yBAA2Bf,EAAI2E,iBAAiBpM,oBAAyE,IAAnDyH,EAAI2E,iBAAiBpM,mBAAmB7F,OAA0BsN,EAAIU,KAAhB,CAACV,EAAIkG,GAAG,IAAalG,EAAIgC,GAAIhC,EAAI2E,iBAAmC,oBAAE,SAASjL,EAAUwS,GAAO,OAAO/L,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,YAAY,CAAC9K,IAAI,WAAa6W,EAAM5L,MAAM,CAAC,SAAWN,EAAI2E,iBAAiB,mBAAmBjL,EAAU,sBAAsB,WAAawS,MAAU,MAAK/L,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACL,EAAIe,GAAG,yBAA2Bf,EAAI2E,iBAAiBlM,oBAA0E,IAAnDuH,EAAI2E,iBAAiBlM,mBAAmB/F,OAA0BsN,EAAIU,KAAhB,CAACV,EAAIkG,GAAG,IAAalG,EAAIgC,GAAIhC,EAAI2E,iBAAmC,oBAAE,SAASjL,EAAUwS,GAAO,OAAO/L,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,YAAY,CAAC9K,IAAI,WAAa6W,EAAM5L,MAAM,CAAC,SAAWN,EAAI2E,iBAAiB,mBAAmBjL,EAAU,sBAAsB,WAAawS,MAAU,OAAM,GAAG/L,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,QAAQ,aAAa,kCAAkC,CAACH,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,gBAAgBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,uBAAwB,CAAE7F,SAAU+J,EAAI2E,sBAAuB,CAAC3E,EAAIe,GAAG,oDAAoDZ,EAAG,MAAM,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,QAAQ,aAAa,kCAAkC,CAACH,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,gBAAgBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,uBAAwB,CAAE7F,SAAU+J,EAAI2E,sBAAuB,CAAC3E,EAAIe,GAAG,wDAAwDf,EAAIgC,GAAIhC,EAAItE,YAAuB,aAAE,SAAS1F,EAAUM,GAAgB,MAAO,MAA4ByF,IAA1BiE,EAAIa,mBAAmCb,EAAIa,oBAAsB7K,EAAW,CAACmK,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,eAAe,CAACL,EAAIe,GAAG,+CAAgDf,EAAIvE,QAAiB,UAAE0E,EAAG,OAAO,CAACH,EAAIe,GAAG,oBAAoBf,EAAIyB,GAAGzB,EAAI/J,SAASgD,OAAS,4BAA4B,kBAAkB+G,EAAIU,KAAKV,EAAIe,GAAG,OAAOf,EAAIyB,GAAGzL,EAAUiD,OAAU,cAAgB3C,EAAiB,IAAK,gBAAgB6J,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,sBAAsB,OAAStK,EAAU,eAAe,8BAA8BmK,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,uBAAyBhK,IAAiB,CAAC0J,EAAIe,GAAG,yEAAyEZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,uBAAyBhK,EAAe,KAAO,IAAI,YAAc,2DAA2D+K,SAAS,CAAC,MAAQrB,EAAIqD,sBAAsBrN,GAAWkO,aAAahI,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI6D,sBAAsB7N,EAAW,CAAC,YAAesL,EAAOC,OAAOxM,gBAAgBoL,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,mBAAmB,CAACN,EAAIe,GAAG,kDAAkDZ,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,IAAI,CAACE,YAAY,4BAA4BC,MAAM,CAAC,KAAO,qCAAuChK,EAAe,MAAQ,2CAA2C,KAAO,WAAW,CAAC0J,EAAIe,GAAG,kBAAoBf,EAAIsD,qBAAqBtN,GAAyLgK,EAAIU,KAAjL,CAACP,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,SAAW,GAAG,KAAO,QAAQe,SAAS,CAAC,MAAQ,oBAAuBrB,EAAIuE,sBAAwB,2BAAsCvE,EAAIsD,qBAAqBtN,GAAY,CAACmK,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,SAAW,GAAG,KAAO,QAAQe,SAAS,CAAC,MAAQrB,EAAIsD,qBAAqBtN,OAAegK,EAAIU,KAAKP,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACL,EAAIkG,GAAG,GAAE,GAAM/F,EAAG,MAAM,CAACE,YAAY,0BAA0B6H,YAAY,CAAC,OAAS,OAAO,SAAW,kBAAkB5H,MAAM,CAAC,kBAAkB,4BAA4B,CAACH,EAAG,IAAI,CAACE,YAAY,mBAAmB,CAACL,EAAIe,GAAG,wFAAwFf,EAAIgC,GAAIhC,EAAI0D,cAAc1N,EAAW,aAAa,SAASuN,GAAW,OAAOpD,EAAG,IAAI,CAACE,YAAY,gBAAgBc,MAAM,CAACmF,OAAQtG,EAAIsD,qBAAqBtN,KAAeuN,GAAWjD,MAAM,CAAC,KAAO,sBAAsBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAI6D,sBAAsB7N,EAAW,CAACuN,UAAWA,OAAe,CAACvD,EAAIe,GAAG,yBAAyBf,EAAIyB,GAAG8B,GAAW,6BAA4BpD,EAAG,MAAM,CAACE,YAAY,qBAAqBF,EAAG,IAAI,CAACE,YAAY,mBAAmB,CAACL,EAAIe,GAAG,wFAAwFf,EAAIgC,GAAIhC,EAAI0D,cAAc1N,EAAW,aAAa,SAASuN,GAAW,OAAOpD,EAAG,IAAI,CAACE,YAAY,gBAAgBc,MAAM,CAACmF,OAAQtG,EAAIsD,qBAAqBtN,KAAeuN,GAAWjD,MAAM,CAAC,KAAO,sBAAsBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAI6D,sBAAsB7N,EAAW,CAACuN,UAAWA,OAAe,CAACvD,EAAIe,GAAG,yBAAyBf,EAAIyB,GAAG8B,GAAW,8BAA6B,MAAM,GAAGpD,EAAG,QAAQ,CAACE,YAAY,+BAA+BC,MAAM,CAAC,IAAM,iBAAiB,CAACN,EAAIe,GAAG,yDAAyDZ,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,IAAI,CAACE,YAAY,4BAA4BC,MAAM,CAAC,KAAO,mCAAqChK,EAAe,MAAQ,kCAAkC,KAAO,WAAW,CAAC0J,EAAIe,GAAG,kBAAoBf,EAAIhJ,OAAOC,MAAMC,WAAWJ,iBAA8J,CAA6C,IAA3CkJ,EAAI+E,iBAAiB/O,GAAWtD,OAAc,CAACyN,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,SAAW,GAAG,KAAO,QAAQe,SAAS,CAAC,MAAQ,iCAAiCrB,EAAIU,KAAiD,IAA3CV,EAAI+E,iBAAiB/O,GAAWtD,OAAc,CAACyN,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,SAAW,GAAG,KAAO,QAAQe,SAAS,CAAC,MAAQrB,EAAI+E,iBAAiB/O,GAAW,OAAOgK,EAAIU,KAAMV,EAAI+E,iBAAiB/O,GAAWtD,OAAS,EAAG,CAACyN,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,SAAW,GAAG,KAAO,QAAQe,SAAS,CAAC,MAAQrB,EAAI+E,iBAAiB/O,GAAWtD,OAAS,mBAAqBsN,EAAI+E,iBAAiB/O,GAAW6G,KAAK,UAAUmD,EAAIU,MAA7vB,CAACP,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,SAAW,GAAG,KAAO,OAAO,MAAQ,0DAAirB,KAAKH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,kBAAkB/J,OAAOD,GAAgB,UAAYN,EAAU,SAAWgK,EAAI2E,iBAAiB,OAAS3O,EAAUoB,OAAO,kBAAoB4I,EAAIsD,qBAAqBtN,OAAe,IAAI,MAAMgK,EAAIU,UAAS,IAC3xUC,EAAkB,CAAC,WAAa,IAAIX,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACA,EAAG,KAAK,CAACH,EAAIe,GAAG,uDAAuD,WAAa,IAAIf,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,IAAI,CAACA,EAAG,KAAK,CAACH,EAAIe,GAAG,uDAAuD,WAAa,IAAIf,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACE,YAAY,4CAA4CC,MAAM,CAAC,GAAK,0BAA0B,KAAO,SAAS,cAAc,WAAW,gBAAgB,OAAO,gBAAgB,UAAU,CAACN,EAAIe,GAAG,+BAA+BZ,EAAG,OAAO,CAACE,YAAY,cCDjrB,qE,kCCAA,iHAAqW,eAAG,G,kCCAxW,yBAA+d,EAAG,G,kCCAle,IAAIN,EAAS,WAAa,IAAIC,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,SAAS,CAACE,YAAY,4CAA4CC,MAAM,CAAC,KAAO,SAAS,cAAc,WAAW,gBAAgB,OAAO,gBAAgB,UAAU,CAACN,EAAIe,GAAG,aAAaf,EAAIyB,GAAGzB,EAAImM,gBAAgB,cAAchM,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,IAAI,CAACE,YAAY,gBAAgBc,MAAM,CAACmF,OAA+B,UAAvBtG,EAAImM,gBAA4B7L,MAAM,CAAC,KAAO,gBAAgBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQtB,EAAImM,eAAiB,WAAW,CAACnM,EAAIe,GAAG,WAAWZ,EAAG,IAAI,CAACE,YAAY,gBAAgBc,MAAM,CAACmF,OAA+B,aAAvBtG,EAAImM,gBAA+B7L,MAAM,CAAC,KAAO,gBAAgBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQtB,EAAImM,eAAiB,cAAc,CAACnM,EAAIe,GAAG,cAAcZ,EAAG,IAAI,CAACE,YAAY,gBAAgBc,MAAM,CAACmF,OAA+B,uBAAvBtG,EAAImM,gBAAyC7L,MAAM,CAAC,KAAO,gBAAgBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQtB,EAAImM,eAAiB,wBAAwB,CAACnM,EAAIe,GAAG,wBAAwBZ,EAAG,IAAI,CAACE,YAAY,gBAAgBc,MAAM,CAACmF,OAA+B,cAAvBtG,EAAImM,gBAAgC7L,MAAM,CAAC,KAAO,gBAAgBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQtB,EAAImM,eAAiB,eAAe,CAACnM,EAAIe,GAAG,mBAA2C,UAAvBf,EAAImM,eAA4BhM,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,SAAS,CAACE,YAAY,4CAA4CC,MAAM,CAAC,KAAO,SAAS,cAAc,WAAW,gBAAgB,OAAO,gBAAgB,UAAU,CAACN,EAAIe,GAAG,aAAaf,EAAIyB,GAAGzB,EAAIoM,qBAAqBC,WAAW,cAAclM,EAAG,MAAM,CAACE,YAAY,iBAAiBL,EAAIgC,GAAIhC,EAAc,YAAE,SAASsM,EAAUC,GAAgB,OAAOpM,EAAG,IAAI,CAACE,YAAY,gBAAgBc,MAAM,CAACmF,OAAQtG,EAAIwM,2BAA6BF,EAAUrJ,KAAM3C,MAAM,CAAC,KAAO,gBAAgBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQtB,EAAIwM,yBAA2BF,EAAUrJ,OAAO,CAACjD,EAAIe,GAAG,eAAef,EAAIyB,GAAG6K,EAAUrT,OAAO,mBAAkB,KAAK+G,EAAIU,KAAKP,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAkB,eAAEkB,WAAW,mBAAmBb,YAAY,eAAeC,MAAM,CAAC,KAAO,QAAQe,SAAS,CAAC,MAASrB,EAAkB,gBAAG9D,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,YAAqBxB,EAAIyM,eAAenL,EAAOC,OAAOxM,WAAUoL,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,4BAA4Bc,MAAM,CAACmF,OAAQtG,EAAI0M,QAAQxQ,GAAG,CAAC,MAAQ,SAASoF,GAAQtB,EAAI0M,QAAU1M,EAAI0M,UAAU,CAAC1M,EAAIe,GAAG,aAAaf,EAAIyB,GAAIzB,EAAU,OAAI,WAAa,UAAU,gBAAgBG,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,SAAS,CAACE,YAAY,iBAAiBnE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIxG,qBAAqB,CAACwG,EAAIe,GAAG,6BAA8Bf,EAAU,OAAEG,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACE,YAAY,cAAc,CAACL,EAAIe,GAAG,yCAAyCZ,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,mBAAmB,CAACN,EAAIe,GAAG,0CAA0CZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAiB,cAAEkB,WAAW,kBAAkBb,YAAY,eAAeC,MAAM,CAAC,GAAK,kBAAkBpE,GAAG,CAAC,OAAS,SAASoF,GAAQ,IAAI8J,EAAgB5M,MAAM5L,UAAU+L,OAAO7L,KAAKwO,EAAOC,OAAO8J,SAAQ,SAAS7W,GAAG,OAAOA,EAAE8W,YAAW7N,KAAI,SAASjJ,GAAG,IAAI6K,EAAM,WAAY7K,EAAIA,EAAE+W,OAAS/W,EAAEO,MAAM,OAAOsK,KAAOW,EAAI9F,cAAcoH,EAAOC,OAAOkK,SAAWL,EAAgBA,EAAc,MAAM,CAACjL,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,aAAa,CAACN,EAAIe,GAAG,sDAAsDZ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,aAAa,CAACN,EAAIe,GAAG,4DAA4DZ,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,uBAAuB,CAACN,EAAIe,GAAG,8CAA8CZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAwB,qBAAEkB,WAAW,yBAAyBb,YAAY,eAAeC,MAAM,CAAC,GAAK,sBAAsBe,SAAS,CAAC,MAASrB,EAAwB,sBAAG9D,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAI2M,mBAAmB,MAAQ,SAASrL,GAAWA,EAAOC,OAAOC,YAAqBxB,EAAI4M,qBAAqBtL,EAAOC,OAAOxM,eAAcoL,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,oBAAoB,CAACN,EAAIe,GAAG,2CAA2CZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAkB,eAAEkB,WAAW,mBAAmBb,YAAY,eAAeC,MAAM,CAAC,GAAK,mBAAmBpE,GAAG,CAAC,OAAS,CAAC,SAASoF,GAAQ,IAAI8J,EAAgB5M,MAAM5L,UAAU+L,OAAO7L,KAAKwO,EAAOC,OAAO8J,SAAQ,SAAS7W,GAAG,OAAOA,EAAE8W,YAAW7N,KAAI,SAASjJ,GAAG,IAAI6K,EAAM,WAAY7K,EAAIA,EAAE+W,OAAS/W,EAAEO,MAAM,OAAOsK,KAAOW,EAAImM,eAAe7K,EAAOC,OAAOkK,SAAWL,EAAgBA,EAAc,IAAI,SAAS9J,GAAQ,OAAOtB,EAAI2M,sBAAsB,CAACxM,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,UAAU,CAACN,EAAIe,GAAG,yCAAyCZ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,aAAa,CAACN,EAAIe,GAAG,4CAA4CZ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,uBAAuB,CAACN,EAAIe,GAAG,sDAAsDZ,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,cAAc,CAACN,EAAIe,GAAG,mDAA2E,UAAvBf,EAAImM,eAA4B,CAAChM,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,eAAe,CAACN,EAAIe,GAAG,kDAAkDZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAA4B,yBAAEkB,WAAW,6BAA6Bb,YAAY,eAAeC,MAAM,CAAC,GAAK,cAAcpE,GAAG,CAAC,OAAS,SAASoF,GAAQ,IAAI8J,EAAgB5M,MAAM5L,UAAU+L,OAAO7L,KAAKwO,EAAOC,OAAO8J,SAAQ,SAAS7W,GAAG,OAAOA,EAAE8W,YAAW7N,KAAI,SAASjJ,GAAG,IAAI6K,EAAM,WAAY7K,EAAIA,EAAE+W,OAAS/W,EAAEO,MAAM,OAAOsK,KAAOW,EAAIwM,yBAAyBlL,EAAOC,OAAOkK,SAAWL,EAAgBA,EAAc,MAAMpL,EAAIgC,GAAIhC,EAAc,YAAE,SAASsM,EAAUC,GAAgB,OAAOpM,EAAG,SAAS,CAACkB,SAAS,CAAC,MAAQiL,EAAUrJ,MAAM,CAACjD,EAAIe,GAAG,qBAAqBf,EAAIyB,GAAG6K,EAAUrT,OAAO,yBAAwB,OAAOkH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,kBAAkB,CAACN,EAAIe,GAAG,uDAAuDZ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,eAAelM,MAAOiL,EAAI6M,iBAA6B,aAAE3L,WAAW,gCAAgCQ,UAAU,CAAC,MAAO,KAAQrB,YAAY,eAAeC,MAAM,CAAC,GAAK,iBAAiBe,SAAS,CAAC,MAASrB,EAAI6M,iBAA6B,cAAG3Q,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAIwL,KAAKxL,EAAI6M,iBAAkB,eAAgBvL,EAAOC,OAAOxM,eAAeoL,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,UAAU,CAACN,EAAIe,GAAG,qCAAqCZ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAI6M,iBAA0B,UAAE3L,WAAW,+BAA+Bb,YAAY,eAAeC,MAAM,CAAC,GAAK,SAASe,SAAS,CAAC,MAASrB,EAAI6M,iBAA0B,WAAG3Q,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKxL,EAAI6M,iBAAkB,YAAavL,EAAOC,OAAOxM,eAAeoL,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,qBAAqB,CAACN,EAAIe,GAAG,gDAAgDZ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAI6M,iBAAgC,gBAAE3L,WAAW,qCAAqCb,YAAY,eAAeC,MAAM,CAAC,GAAK,oBAAoBe,SAAS,CAAC,MAASrB,EAAI6M,iBAAgC,iBAAG3Q,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKxL,EAAI6M,iBAAkB,kBAAmBvL,EAAOC,OAAOxM,eAAgBiL,EAAI6M,iBAAqC,qBAAE1M,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,0BAA0B,CAACN,EAAIe,GAAG,qDAAqDZ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAI6M,iBAAqC,qBAAE3L,WAAW,0CAA0Cb,YAAY,eAAeC,MAAM,CAAC,GAAK,yBAAyBe,SAAS,CAAC,MAASrB,EAAI6M,iBAAqC,sBAAG3Q,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKxL,EAAI6M,iBAAkB,uBAAwBvL,EAAOC,OAAOxM,eAAeiL,EAAIU,MAAMV,EAAIU,KAA6B,aAAvBV,EAAImM,eAA+B,CAAChM,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,kBAAkB,CAACN,EAAIe,GAAG,6CAA6CZ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAuB,oBAAEkB,WAAW,wBAAwBb,YAAY,eAAeC,MAAM,CAAC,GAAK,gBAAgB,YAAc,gDAAgDe,SAAS,CAAC,MAASrB,EAAuB,qBAAG9D,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,YAAqBxB,EAAI8M,oBAAoBxL,EAAOC,OAAOxM,eAAcoL,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,oBAAoB,CAACN,EAAIe,GAAG,gDAAgDZ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,kBAAkB,SAAW,IAAIe,SAAS,CAAC,MAAQrB,EAAI+M,gBAAgBC,uBAAuB7M,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,oBAAoB,CAACN,EAAIe,GAAG,+CAA+CZ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,kBAAkB,SAAW,IAAIe,SAAS,CAAC,MAAQrB,EAAI+M,gBAAgBE,sBAAsB9M,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,mBAAmB,CAACN,EAAIe,GAAG,8CAA8CZ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,iBAAiB,SAAW,IAAIe,SAAS,CAAC,MAAQrB,EAAI+M,gBAAgBG,sBAAsBlN,EAAIU,KAA6B,uBAAvBV,EAAImM,eAAyC,CAAChM,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,uBAAuB,CAACN,EAAIe,GAAG,kDAAkDZ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAqB,kBAAEkB,WAAW,sBAAsBb,YAAY,eAAeC,MAAM,CAAC,GAAK,qBAAqB,YAAc,wCAAwCe,SAAS,CAAC,MAASrB,EAAqB,mBAAG9D,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,YAAqBxB,EAAIpF,kBAAkB0G,EAAOC,OAAOxM,WAAUoL,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,IAAI,CAACE,YAAY,4BAA4BC,MAAM,CAAC,OAAS,SAAS,KAAON,EAAIpF,oBAAoB,CAACoF,EAAIe,GAAG,iEAAiEf,EAAIU,KAA6B,cAAvBV,EAAImM,eAAgC,CAAChM,EAAG,IAAI,CAACH,EAAIe,GAAG,wJAAwJf,EAAIU,MAAM,KAAKV,EAAIU,QAChvXC,EAAkB,GCDtB,qE,kCCAA,iHAAqW,eAAG,G,kCCAxW,8IAQIC,EAAY,eACd,aACA,OACA,QACA,EACA,KACA,KACA,MAIa,aAAAA,E,2CCnBf,8IAQIA,EAAY,eACd,aACA,OACA,QACA,EACA,KACA,KACA,MAIa,aAAAA,E,2CCnBf,IAAIb,EAAS,WAAa,IAAIC,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,KAAK,CAACE,YAAY,2BAA2B,CAACL,EAAIe,GAAG,6CAA6CZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,OAAO,CAAEH,EAAIwC,UAAU9P,OAAS,GAAKsN,EAAIsC,KAAKvF,MAAOoD,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,eAAe,CAACN,EAAIe,GAAG,+CAA+CZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAIsC,KAAU,MAAEpB,WAAW,eAAeb,YAAY,eAAeC,MAAM,CAAC,GAAK,aAAa,KAAO,OAAO,YAAc,oBAAoBe,SAAS,CAAC,MAASrB,EAAIsC,KAAU,OAAGpG,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,WAAqBxB,EAAIwL,KAAKxL,EAAIsC,KAAM,QAAShB,EAAOC,OAAOxM,eAAeiL,EAAIU,KAAKP,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,iBAAiB,CAACN,EAAIe,GAAG,0CAA0CZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAe,YAAEkB,WAAW,gBAAgBb,YAAY,eAAeC,MAAM,CAAC,GAAK,eAAe,KAAO,OAAO,YAAc,gBAAgBe,SAAS,CAAC,MAASrB,EAAe,aAAG9D,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,YAAqBxB,EAAIqI,YAAY/G,EAAOC,OAAOxM,aAAYoL,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAoB,iBAAEkB,WAAW,qBAAqBb,YAAY,eAAeC,MAAM,CAAC,GAAK,gBAAgB,KAAO,QAAQ,YAAc,0BAA0Be,SAAS,CAAC,MAASrB,EAAoB,kBAAG9D,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,YAAqBxB,EAAIsI,iBAAiBhH,EAAOC,OAAOxM,aAAYoL,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,QAAQ,CAACa,WAAW,CAAC,CAAC1M,KAAK,QAAQ2M,QAAQ,UAAUlM,MAAOiL,EAAoB,iBAAEkB,WAAW,qBAAqBb,YAAY,eAAeC,MAAM,CAAC,GAAK,qBAAqB,YAAc,iBAAiBe,SAAS,CAAC,MAASrB,EAAoB,kBAAG9D,GAAG,CAAC,MAAQ,SAASoF,GAAWA,EAAOC,OAAOC,YAAqBxB,EAAIuI,iBAAiBjH,EAAOC,OAAOxM,WAAUoL,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,IAAI,CAACE,YAAY,4BAA4BC,MAAM,CAAC,OAAS,SAAS,KAAO,qBAAuBN,EAAIuI,mBAAmB,CAACvI,EAAIe,GAAG,gEAAgEZ,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,QAAQ,CAACE,YAAY,0BAA0BC,MAAM,CAAC,IAAM,uBAAuB,CAACN,EAAIe,GAAG,0DAA0DZ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,SAAS,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,cAAce,SAAS,CAAC,MAAQrB,EAAIhJ,OAAOoB,QAAQ+U,wBAAwBjR,GAAG,CAAC,OAAS,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,yBAA0B,CAAEsR,4BAA6B9L,EAAOC,OAAOxM,WAAYiL,EAAIgC,GAAIhC,EAAc,YAAE,SAASsM,EAAUC,GAAgB,OAAOpM,EAAG,SAAS,CAACkB,SAAS,CAAC,MAAQiL,EAAUrJ,MAAM,CAACjD,EAAIe,GAAG,qBAAqBf,EAAIyB,GAAG6K,EAAUrT,OAAO,yBAAwB,aAAakH,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,KAAK,CAACE,YAAY,2BAA2B,CAACL,EAAIe,GAAG,gDAAgDZ,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,QAAQ,CAACE,YAAY,iCAAiC,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACH,EAAIe,GAAG,OAAOZ,EAAG,KAAK,CAACH,EAAIe,GAAG,oBAAoBZ,EAAG,KAAK,CAACH,EAAIe,GAAG,UAAUZ,EAAG,KAAK,CAACH,EAAIe,GAAG,yBAAyBZ,EAAG,KAAK,CAACH,EAAIe,GAAG,yBAAyBf,EAAIgC,GAAIhC,EAAe,aAAE,SAAShK,EAAUM,GAAgB,OAAO6J,EAAG,KAAK,CAACH,EAAIe,GAAG,iBAAiBf,EAAIyB,GAAGzB,EAAIwI,kBAAkBxS,IAAY,sBAAqB,GAAGmK,EAAG,QAAQ,CAA2B,IAAzBH,EAAIwC,UAAU9P,OAAcyN,EAAG,KAAK,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACG,MAAM,CAAC,QAAU,EAAIN,EAAIc,YAAYpO,SAAS,CAACyN,EAAG,SAAS,CAACA,EAAG,KAAK,CAACH,EAAIe,GAAG,wCAAwC,KAAKf,EAAIU,KAAKV,EAAIgC,GAAIhC,EAAa,WAAE,SAAS/J,EAASsQ,GAAe,OAAOpG,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,wBAAwBC,MAAM,CAAC,KAAO,UAAUpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIkJ,eAAejT,MAAa,CAAC+J,EAAIe,GAAG,SAASZ,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,gBAAiB,CAAE7F,SAAUA,OAAe,CAAC+J,EAAIe,GAAG,qBAAqBf,EAAIyB,GAAGzB,EAAIyI,iBAAiBxS,IAAW,wBAAwBkK,EAAG,KAAK,CAACH,EAAIe,GAAGf,EAAIyB,GAAGzB,EAAIhJ,OAAOoB,QAAQC,gBAAgBpC,OAAckK,EAAG,KAAK,CAACH,EAAIe,GAAGf,EAAIyB,IAAIxL,EAASsC,oBAAsB,IAAI7F,WAAWyN,EAAG,KAAK,CAACH,EAAIe,GAAGf,EAAIyB,IAAIxL,EAASwC,oBAAsB,IAAI/F,WAAWsN,EAAIgC,GAAIhC,EAAe,aAAE,SAAShK,EAAUM,GAAgB,OAAO6J,EAAG,KAAK,CAAGH,EAAI2I,6BAA6B1S,EAAUD,GAAkpB,CAACgK,EAAIe,GAAG,iDAAiDf,EAAIyB,GAAGzB,EAAI2I,6BAA6B1S,EAAUD,IAAY,sBAAuBgK,EAAI0I,oBAAoBzS,GAAW,CAAsE,IAApE+J,EAAIgJ,gCAAgC/S,EAAUD,GAAWtD,OAAc,CAACsN,EAAIe,GAAG,8BAA8BZ,EAAG,SAAS,CAACH,EAAIe,GAAG,kCAAmCf,EAAIgJ,gCAAgC/S,EAAUD,GAAWtD,OAAS,EAAG,CAACsN,EAAIe,GAAG,8BAA8BZ,EAAG,SAAS,CAACH,EAAIe,GAAG,+BAA+Bf,EAAIyB,GAAGzB,EAAIgJ,gCAAgC/S,EAAUD,QAAgB,CAACgK,EAAIe,GAAG,4DAA6Df,EAAIgJ,gCAAgC/S,EAAUD,GAAW,KAAOgK,EAAI2I,6BAA6B1S,EAAUD,GAAY,CAACgK,EAAIe,GAAG,4DAA4D,CAACZ,EAAG,SAAS,CAACH,EAAIe,GAAG,kBAAkBf,EAAIe,GAAG,4BAA4Bf,EAAIyB,GAAGzB,EAAIgJ,gCAAgC/S,EAAUD,GAAW,IAAI,qBAAqB,0BAA0BgK,EAAIU,MAAjoD,CAACP,EAAG,SAAS,CAACH,EAAIe,GAAG,sBAAuBf,EAAI0I,oBAAoBzS,GAAW,CAAsE,IAApE+J,EAAIgJ,gCAAgC/S,EAAUD,GAAWtD,OAAc,CAACsN,EAAIe,GAAG,8BAA8BZ,EAAG,SAAS,CAACH,EAAIe,GAAG,kCAAmCf,EAAIgJ,gCAAgC/S,EAAUD,GAAWtD,OAAS,EAAG,CAACsN,EAAIe,GAAG,8BAA8BZ,EAAG,SAAS,CAACH,EAAIe,GAAG,+BAA+Bf,EAAIyB,GAAGzB,EAAIgJ,gCAAgC/S,EAAUD,QAAgB,CAACgK,EAAIe,GAAG,yCAAyCf,EAAIyB,GAAGzB,EAAIgJ,gCAAgC/S,EAAUD,GAAW,IAAI,qBAAqB,0BAA0BgK,EAAIU,OAAwgC,OAAM,OAAM,OAAOP,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,QAAQ,aAAa,yBAAyB,CAACH,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,gBAAgBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,0BAA0B,CAACkE,EAAIe,GAAG,oDAAoDZ,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,KAAK,CAACE,YAAY,2BAA2B,CAACL,EAAIe,GAAG,4CAA4CZ,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,QAAQ,CAACE,YAAY,iCAAiC,CAACL,EAAIkG,GAAG,GAAG/F,EAAG,QAAQ,CAA6B,IAA3BH,EAAIc,YAAYpO,OAAcyN,EAAG,KAAK,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACG,MAAM,CAAC,QAAU,IAAI,CAACH,EAAG,SAAS,CAACA,EAAG,KAAK,CAACH,EAAIe,GAAG,oCAAoC,KAAKf,EAAIU,KAAKV,EAAIgC,GAAIhC,EAAe,aAAE,SAAShK,EAAUM,GAAgB,OAAO6J,EAAG,KAAK,CAACA,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,wBAAwBC,MAAM,CAAC,KAAO,UAAUpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAImJ,gBAAgBnT,MAAc,CAACgK,EAAIe,GAAG,SAASZ,EAAG,KAAK,CAACA,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,uBAAuBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,gBAAiB,CAAE9F,UAAWA,OAAgB,CAACgK,EAAIe,GAAG,qBAAqBf,EAAIyB,GAAGzB,EAAIwI,kBAAkBxS,IAAY,wBAAwBmK,EAAG,KAAK,CAACH,EAAIe,GAAG,mBAAmBf,EAAIyB,GAAGzL,EAAUkO,aAAa,0BAAyB,OAAO/D,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAO,QAAQ,aAAa,yBAAyB,CAACH,EAAG,SAAS,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,gBAAgBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,2BAA2B,CAACkE,EAAIe,GAAG,kDACvjQJ,EAAkB,CAAC,WAAa,IAAIX,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACH,EAAIe,GAAG,OAAOZ,EAAG,KAAK,CAACH,EAAIe,GAAG,eAAeZ,EAAG,KAAK,CAACH,EAAIe,GAAG,qBCD5L,qE,kCCAA,iHAAqW,eAAG,G,oGCoBxW,gB,EAEA,CACEzM,KAAM,eACNyB,MAAO,CACLwK,QAAS,CACPpK,KAAMI,OACNF,QAAS,yDAEXuQ,QAASjU,OACTkU,UAAWlU,QAEbkE,SAAU,CACRiQ,YADJ,WACA,qD,+CCjCA,iHAAsW,eAAG,G,kCCAzW7S,EAAOD,QAAU,CAEf2W,yBAA0B,uCAG1B0C,iCAAkC,c,oGC6EpC,gBACA,Y,EAEA,CACE/Y,KAAM,uBACNpC,KAFF,WAGI,MAAO,CACL+V,sBAAkBlM,IAGtBlF,SAAU,CACRsR,WAAY,CACVxT,IADN,WAGQ,OAAO2Y,KAAKC,UAAUxW,KAAKC,OAAOC,MAAMqL,KAAK5G,iBAAaK,EAAW,IAEvE/C,IALN,SAKA,GAIQ,IACE,IAAV,gBACUjC,KAAKC,OAAO8E,OAAO,iBAAkBwG,GACrCvL,KAAKkR,sBAAmBlM,EAClC,SACUhF,KAAKkR,iBAAmBuF,EAAGjN,YAKnC5I,QAAS,CACPyO,iBADJ,WAIM,IAAN,wDACA,4CAGA,yEACM,EAAN,gB,+CCzHA,IAAIrG,EAAS,WAAa,IAAIC,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAQD,EAAe,YAAEG,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACL,EAAIe,GAAG,SAASf,EAAIyB,GAAGzB,EAAIO,SAAS,YAAYP,EAAIU,MACjQC,EAAkB,GCDtB,qE,kCCAA,IAAIZ,EAAS,WAAa,IAAIC,EAAIjJ,KAASkJ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEH,EAAgB,aAAE,CAACG,EAAG,IAAI,CAACA,EAAG,SAAS,CAACH,EAAIe,GAAG,8BAA8Bf,EAAIe,GAAG,0BAA0BZ,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,oBAAoBpE,GAAG,CAAC,MAAQ,SAASoF,GAAQ,OAAOtB,EAAIhJ,OAAO8E,OAAO,gBAAiB,CAAC9F,UAAWgK,EAAIhK,eAAe,CAACgK,EAAIe,GAAG,0CAA0Cf,EAAIe,GAAG,uCAAuCZ,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,sBAAsBC,MAAM,CAAC,GAAK,YAAcN,EAAI1J,kBAAkB6J,EAAG,iBAAiB,CAACjE,GAAG,CAAC,OAAS8D,EAAIvI,eAAe,IAAI,IACvoBkJ,EAAkB,GCDtB,qE,kCCAA,oIAOIC,EAAY,eACd,aACA,OACA,QACA,EACA,KACA,KACA,MAIa,aAAAA,E,2CClBf,oIAOIA,EAAY,eACd,aACA,OACA,QACA,EACA,KACA,KACA,MAIa,aAAAA,E,6HCdf,mB,EAEe,CACb3J,MAAO,CAELwE,QAAS,CACPxF,cAAU8F,EACV/F,eAAW+F,EACXrC,eAAWqC,IAGfrD,UAAW,CACT+U,cADS,SACKxW,EAAOyW,GAMnB3U,UAAIC,IAAI/B,EAAO,UAAWyW,M,+CCtBhC,iHAAgW,eAAG,G,kCCAnW,yBAA8d,EAAG,G,kCCAje,oIAOI9M,EAAY,eACd,aACA,OACA,QACA,EACA,KACA,KACA,MAIa,aAAAA,E,uICXf,mBACA,YACA,Y,EAEe,CACb3J,MAAO,CAELyE,YAAa,CACX8G,UAAW,GACX1B,YAAa,IAKfnF,WAAY,CACV6G,UAAW,GACX1B,YAAa,KAGjB1I,QAAS,CACPuV,kBADO,SACW1W,GAChB,QAAQ,IAAA2W,SAAQ3W,EAAMyE,YAAazE,EAAM0E,aAE3CwR,uBAJO,SAIgBlW,GACrB,OAAOA,EAAMyE,YAAY0R,6BACpBS,mBAAiBC,uBAG1BpV,UAAW,CACTqV,eADS,SACM9W,EAAOqL,GAIpBvJ,UAAIC,IAAI/B,EAAO,cAAeqL,IAEhC0L,cAPS,SAOK/W,EAAOqL,QAMNvG,IAATuG,GAAsBA,IAASrL,EAAMyE,YAIvC3C,UAAIC,IAAI/B,EAAO,aAAcqW,KAAKW,MAAMX,KAAKC,UAAUtW,EAAMyE,eAE7D3C,UAAIC,IAAI/B,EAAO,aAAcqL,IAGjC4L,oBAtBS,SAsBWjX,GAElBA,EAAMyE,YAAY8G,UAAUxP,KAAK,KAEnCmb,qBA1BS,SA0BYlX,GAEnBA,EAAMyE,YAAYoF,YAAY9N,KAAK,KAErCkW,eA9BS,SA8BMjS,EAAO2B,GAEpB,KAAK,IAAAC,KAAID,EAAS,YAChB,MAAM,IAAIE,MAAM,2EAGlB,IAAMmB,GAAWhD,EAAMyE,YAAY8G,WAAa,IAAIvI,QAAQrB,EAAQ3C,UACpE,GAAIgE,EAAU,EAAG,MAAM,IAAInB,MAAJ,6CAAgDwU,KAAKC,UAAU3U,EAAQ3C,YAE9FgB,EAAMyE,YAAY8G,UAAU5O,OAAOqG,EAAS,IAE9CkP,gBAzCS,SAyCOlS,EAAO2B,GAErB,KAAK,IAAAC,KAAID,EAAS,aAChB,MAAM,IAAIE,MAAM,8EAGlB,IAAMmB,GAAWhD,EAAMyE,YAAYoF,aAAe,IAAI7G,QAAQrB,EAAQ5C,WACtE,GAAIiE,EAAU,EAAG,MAAM,IAAInB,MAAJ,8CAAiDwU,KAAKC,UAAU3U,EAAQ5C,aAE/FiB,EAAMyE,YAAYoF,YAAYlN,OAAOqG,EAAS,IAEhDmU,uBApDS,SAoDcnX,EAAO2B,GAC5B,KAAK,IAAAC,KAAID,EAAS,+BAChB,MAAM,IAAIE,MAAM,wEAGlBC,UAAIC,IAAI/B,EAAMyE,YAAa,8BAA+B9C,EAAQwU,8BAEpEiB,kBA3DS,SA2DSpX,EAAO2B,GACvB,KAAK,IAAAC,KAAID,EAAS,YAChB,MAAM,IAAIE,MAAM,iFAGlB,IAAImB,GAAWhD,EAAMyE,YAAY8G,WAAa,IAAIvI,QAAQrB,EAAQ3C,UAC9DgE,EAAU,IAAGA,EAAUhD,EAAMyE,YAAY8G,UAAU9P,QACvDuE,EAAMyE,YAAY8G,UAAU5O,OAAOqG,EAAS,GAAG,IAAAH,WAAUlB,EAAQ3C,YAEnEqY,WApES,SAoEErX,EAAO2B,IAEZ,IAAAC,KAAID,EAAS,SAASG,UAAIC,IAAI/B,EAAMyE,YAAa,UAAW9C,EAAQtE,OACpE,IAAAuE,KAAID,EAAS,UAAUG,UAAIC,IAAI/B,EAAMyE,YAAa,eAAgB9C,EAAQ2V,QAC1E,IAAA1V,KAAID,EAAS,UAAUG,UAAIC,IAAI/B,EAAMyE,YAAa,eAAgB9C,EAAQ4V,U,+CC3GpF,iHAAiW,eAAG,G,oHCsWpW,iBACA,YAOA,YAMA,EAAAC,qBAAA,6D,MAEA,CACEna,KAAM,YACNyB,MAAO,CACLyQ,eAAgB,CACdnQ,QAAS,WAAf,yBAEIqY,gBAAiB,CACfvY,KAAMxD,OACN8D,UAAU,GAEZkY,kBAAmB,CACjBxY,KAAMI,OACNE,UAAU,EACVJ,QAAS,WAAf,4CAEIJ,SAAU,CACRE,KAAMxD,OACN8D,UAAU,IAGdvE,KApBF,WAsBI,MAAO,CACLwa,QAAQ,EACRP,oBAAgBpQ,EAChBgR,qBAAiBhR,EACjB8Q,sBAAkB9Q,EAClByQ,yBAA0BzV,KAAKC,OAAOoB,QAAQ+U,uBAC9CP,0BAAsB7Q,EACtBnB,uBAAmBmB,IAGvBlF,SAAU,CACRuR,WAAY,WAAhB,mDACIgE,qBAFJ,WAGM,OAAO,EAAb,sEAEI1S,UALJ,WAQM,IAAN,EACM,OAAQ3C,KAAKoV,gBACX,IAAK,QACH5Y,EAAS,EAAnB,8BACA,2BACA,+BAEU,MAEF,IAAK,WACHA,EAAS,EAAnB,2DACU,MAEF,IAAK,YACHA,EAAS,CACP,QAAS,EAArB,qCAEU,MAEF,IAAK,qBACHA,EAAS,CAEP,MAAOwD,KAAK6D,mBAAqB7D,KAAK6V,sBAAwB,IAEhE,MAEF,QAEErZ,EAAS,GAQb,OAJIwD,KAAK6V,uBACPrZ,EAAO0F,MAAQlC,KAAK6V,sBAGfrZ,GAET2G,cAAe,CACbvF,IADN,WAEQ,OAAO,IAAI,EAAnB,uEAEMqE,IAJN,SAIA,GACQjC,KAAKC,OAAO8E,OACpB,mBACA,CACU,SAAV,cACU,UAAV,qBACU,cAAV,MAKI2Q,eAAgB,CACd9X,IADN,WAEQ,OAAIoC,KAAK6V,qBAA6B7V,KAAK6V,qBACvC7V,KAAK6D,kBAA0B7D,KAAK6D,kBACpC7D,KAAKgW,gBAAwBhW,KAAKgW,gBAAgB9T,MAClDlC,KAAK8V,iBAAyB9V,KAAK8V,iBAAiB5T,MACjD,IAETD,IARN,SAQA,GAKQ,OAHAjC,KAAK6V,qBAAuB3T,EAGpBlC,KAAKoV,gBACX,IAAK,QAEHpV,KAAK8V,iBAAmB,EAApC,kCACA,EACA,+BAEY,MAEF,IAAK,WACH9V,KAAKgW,gBAAkB,EAAnC,iCACA,GAEY,MAEF,IAAK,YAEH,MAEF,IAAK,qBACHhW,KAAK6D,kBAAoB3B,EACzB,MAGJlC,KAAK4V,oBAGTiC,sBAAuB,CAGrBja,IAHN,WAIQ,OAAR,yDACe,IAETqE,IAPN,SAOA,GAEa6V,IAEL9X,KAAK8V,iBAAmB,IAAI,EAApC,2FACQ9V,KAAK4V,kBACL5V,KAAK6X,sBAAwBC,KAGjC/B,oBAAqB,CACnBnY,IADN,WAEQ,OAAR,uDACe,IAETqE,IALN,SAKA,GACQjC,KAAKgW,gBAAkB,IAAI,EAAnC,uDACQhW,KAAK4V,qBAIXnV,MAAO,CACLvB,SADJ,WAEMc,KAAK+X,sBAEPJ,gBAJJ,WAKM3X,KAAK+X,sBAEPH,kBAPJ,WAQM5X,KAAK+X,sBAEP3C,eAVJ,WAYMpV,KAAK4V,oBAGTjV,QA/KF,WAgLIX,KAAK+X,sBAEPnX,QAAS,CACPoX,kBADJ,SACA,GAEM,GAAIC,EAAMC,MAAMvc,OAAS,EAAG,CAC1B,OAAQsc,EAAMC,MAAM,IAClB,KAAK,EAAf,wCACY,MAAO,QAET,KAAK,EAAf,mCACY,MAAO,WAET,KAAK,EAAf,oCACY,MAAO,YAIX,IAAI,EAAZ,gBACU,MAAO,uBAMbH,mBAvBJ,WAwBMlT,QAAQC,IAAI,sCAAuC9E,KAAK2X,iBAGxD,IAAN,yEAGU,EAAV,oCACQ3X,KAAKoV,eAAiB,qBACtBpV,KAAK6D,kBAAoB7D,KAAK2X,gBAAgB,OAG9C3X,KAAK6V,qBAAuB7V,KAAK2X,gBAAgB,UAAYM,EAAM/V,QAEnElC,KAAK6V,qBAAuBoC,EAAM/V,MAClClC,KAAKoV,eAAiBpV,KAAKgY,kBAAkBC,IAAU,SAGzD,IAAN,4CACUE,GAAuBA,EAAoBC,YAC7CpY,KAAK8V,iBAAmB,IAAI,EAApC,8BACQ9V,KAAKyV,yBAA2BzV,KAAK8V,iBAAiBuC,mBAC9D,+BAGUJ,EAAMlU,WACR/D,KAAKgW,gBAAkB,IAAI,EAAnC,8BAKIvT,gBAtDJ,WAwDM,IAAN,6DACU6V,IACFzT,QAAQC,IAAI,uBAAwB9E,KAAKd,SAAUc,KAAK2X,iBACxD3X,KAAKC,OAAO8E,OAAO,kBAAmB,CACpC7F,SAAUc,KAAKd,SACfyD,UAAW3C,KAAK2X,oBAItB/B,gBAjEJ,WAkEM,IAAN,kBAGU,EAAV,qCAEM/Q,QAAQC,IAAI,yBAA0BtI,EAAQ,iBAAkBwD,KAAK2X,iBACrE3X,KAAKC,OAAO8E,OAAO,oBAAqB,CACtCpC,UAAW3C,KAAK2X,gBAChB3Y,MAAOxC,Q","file":"js/app.f00ee536.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/klados/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","<template>\n  <div>\n    <template v-if=\"newickErrors\">\n      <p>\n        <strong>Error parsing phylogeny.</strong>\n        Please\n        <a\n          href=\"javascript: void\"\n          @click=\"$store.commit('changeDisplay', {phylogeny})\"\n        >\n          edit the phylogeny\n        </a>\n        to fix this error.\n      </p>\n    </template>\n    <div\n      v-else\n      class=\"phylotreeContainer\"\n    >\n      <svg\n        :id=\"'phylogeny' + phylogenyIndex\"\n        class=\"col-md-12 phylogeny\"\n      />\n      <ResizeObserver @notify=\"redrawTree\" />\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * This component can be used to insert a phylogeny. It includes code for highlighing\n * the expecting and reasoned clade for a particular phyloreference.\n */\n\nimport { uniqueId, has } from 'lodash';\nimport { PhylogenyWrapper, PhylorefWrapper } from '@phyloref/phyx';\n\n/*\n * Note that this requires the Phylotree Javascript to be loaded in the HTML\n * header: I haven't figured out how to include phylotree.js from within Vue CLI yet.\n */\n\nexport default {\n  name: 'Phylotree',\n  props: {\n    phylogeny: Object, // The phylogeny to render.\n    phyloref: Object, // The phyloreference to highlight.\n    spacingX: { // Spacing in the X axis in pixels.\n      type: Number,\n      default: 20,\n    },\n    phylogenyIndex: { // An index number of the phylogeny. Will be used to set up HTML DOM IDs.\n      type: String,\n      default: uniqueId(),\n    },\n    selectedNodeLabel: { // The selected node label. If not set, we display all node labels.\n      type: String,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      // List of pinning nodes to highlight for a particular phylogeny.\n      pinningNodes: [],\n      // List of pinning nodes and all their children, so the entire clade can be\n      // highlighted as needed.\n      pinningNodeChildrenIRIs: new Set(),\n    };\n  },\n  computed: {\n    reasoningResults() {\n      // Included so we can watch this for changes, see `watch` below.\n      return this.$store.state.resolution.reasoningResults;\n    },\n    newickAsString() {\n      // Returns the Newick string of this phylogeny.\n      return this.phylogeny.newick || '()';\n    },\n    parsedNewick() {\n      return new PhylogenyWrapper(this.phylogeny).getParsedNewickWithIRIs(\n        this.$store.getters.getPhylogenyId(this.phylogeny),\n        d3.layout.newick_parser,\n      );\n    },\n    newickErrors() {\n      // Check to see if the newick could actually be parsed.\n      if (!has(this.parsedNewick, 'json') || this.parsedNewick.json === null) {\n        return (has(this.parsedNewick, 'error') ? this.parsedNewick.error : 'unknown error');\n      }\n      return undefined;\n    },\n    tree() {\n      // Set up Phylotree.\n      const tree = d3.layout.phylotree()\n        .svg(d3.select(`#phylogeny${this.phylogenyIndex}`))\n        .options({\n          'internal-names': false,\n          transitions: false,\n          'left-right-spacing': 'fit-to-size',\n          'top-bottom-spacing': 'fixed-step',\n        })\n        .style_nodes((element, data) => {\n          // Instructions used to style nodes in Phylotree\n          // - element: The D3 element of the node being styled\n          // - data: The data associated with the node being styled\n\n          // Wrap the phylogeny so we can call methods on it.\n          const wrappedPhylogeny = new PhylogenyWrapper(this.phylogeny || {});\n\n          // Wrap the phyloref is there is one.\n          const wrappedPhyloref = new PhylorefWrapper(this.phyloref || {});\n\n          // Make sure we don't already have an internal label node on this SVG node!\n          let textLabel = element.selectAll('text');\n\n          if (has(data, 'name') && data.name !== '' && data.children) {\n            // If the internal label has the same label as the currently\n            // selected phyloreference, add an 'id' so we can jump to it\n            // and a CSS class to render it differently from other labels.\n            if (\n              // Display a label if:\n              //  (1) No selectedNodeLabel was provided to us (i.e. display all node labels), or\n              //  (2) We are currently rendering the selectedNodeLabel.\n              !this.selectedNodeLabel ||\n              this.selectedNodeLabel.toLowerCase() === data.name.toLowerCase()\n            ) {\n              if(textLabel.empty()) textLabel = element.append('text');\n              textLabel.classed('internal-label', true)\n                .text(data.name)\n                .attr('dx', '0.3em')\n                .attr('dy', '0.35em');\n\n              // Is this the currently selected internal label?\n              if (this.selectedNodeLabel && this.selectedNodeLabel.toLowerCase() === data.name.toLowerCase()) {\n                textLabel.attr('id', `current_expected_label_phylogeny_${this.phylogenyIndex}`);\n                textLabel.classed('selected-internal-label', true);\n              }\n            } else {\n              if(!textLabel.empty()) textLabel.remove();\n            }\n          }\n\n          // Remove any previously added custom menu items.\n          data[\"menu_items\"] = [];\n\n          // Add a custom menu item to allow us to rename this node.\n          d3.layout.phylotree.add_custom_menu(data,\n            (node) => \"Rename this node\",\n            () => {\n              const node = data;\n              const existingName = node.name || \"(none)\";\n              const newName = window.prompt(`Rename node named '${existingName}' to:`);\n              // Apparently IE7 and IE8 will return the string 'undefined' if the user doesn't\n              // enter anything.\n              if (!newName || newName == 'undefined') {\n                // Remove the current label.\n                node.name = \"\";\n              } else {\n                // Set the new label.\n                node.name = newName;\n              }\n\n              // Export the entire phylogeny as a Newick string, and store that\n              // in the phylogeny object.\n              this.$store.commit('setPhylogenyProps', {\n                phylogeny: this.phylogeny,\n                newick: tree.get_newick((n) => {\n                  // There appears to be a bug in the version of Phylotree.js we\n                  // use in which leaf nodes are duplicated if we just return n.name\n                  // here. So we return undefined for leaf nodes and n.name for\n                  // everything else. I'll investigate this more deeply in\n                  // https://github.com/phyloref/klados/issues/200.\n                  if (!tree.is_leafnode(n)) return n.name\n                  else return undefined;\n                }),\n              });\n            },\n            (node) => true, // We can replace this with a condition that indicates whether this node should be displayed.\n          );\n\n          // If the internal label has the same IRI as the currently selected\n          // phyloreference's reasoned node, further mark it as the resolved node.\n          //\n          // Note that this node might NOT be labeled, in which case we need to\n          // label it now!\n          if (\n            this.phyloref !== undefined && has(data, '@id')\n            && this.$store.getters.getResolvedNodesForPhylogeny(this.phylogeny, this.phyloref).includes(data['@id'])\n          ) {\n            // We found another pinning node!\n            this.pinningNodes.push(data);\n            this.recurseNodes(data, node => this.pinningNodeChildrenIRIs.add(node['@id']));\n\n            // Mark this node as the pinning node.\n            element.classed('pinning-node', true);\n\n            // Make the pinning node circle larger (twice its usual size of 3).\n            element.select('circle').attr('r', 6);\n\n            // Set its id to 'current_pinning_node_phylogeny{{phylogenyIndex}}'\n            element.attr('id', `current_pinning_node_phylogeny_${this.phylogenyIndex}`);\n          }\n\n          // Maybe this isn't a pinning node, but it is a child of a pinning node.\n          if (\n            has(data, '@id')\n            && this.pinningNodeChildrenIRIs.has(data['@id'])\n          ) {\n            // Apply a class.\n            // Note that this applies to the resolved-node too.\n            element.classed('descendant-of-pinning-node-node', true);\n          }\n\n          if (data.name !== undefined && data.children === undefined) {\n            // Labeled leaf node! Look for taxonomic units.\n            const tunits = wrappedPhylogeny.getTaxonomicUnitsForNodeLabel(data.name);\n\n            if (tunits.length === 0) {\n              element.classed('terminal-node-without-tunits', true);\n            } else if (this.phyloref !== undefined) {\n              // If this is a terminal node, we should set its ID to\n              // `current_expected_label_phylogeny${phylogenyIndex}` if it is\n              // the currently expected node label.\n              if (\n                has(this.phyloref, 'label')\n                && this.selectedNodeLabel && this.selectedNodeLabel.toLowerCase() === data.name.toLowerCase()\n              ) {\n                textLabel.attr('id', `current_expected_label_phylogeny_${this.phylogenyIndex}`);\n              }\n\n              // We should highlight internal specifiers.\n              if (has(this.phyloref, 'internalSpecifiers')) {\n                if (this.phyloref.internalSpecifiers\n                  .some(specifier => wrappedPhylogeny\n                    .getNodeLabelsMatchedBySpecifier(specifier)\n                    .includes(data.name))\n                ) {\n                  element.classed('internal-specifier-node', true);\n                }\n              }\n\n              // We should highlight external specifiers.\n              if (has(this.phyloref, 'externalSpecifiers')) {\n                if (this.phyloref.externalSpecifiers\n                  .some(specifier => wrappedPhylogeny\n                    .getNodeLabelsMatchedBySpecifier(specifier)\n                    .includes(data.name))\n                ) {\n                  element.classed('external-specifier-node', true);\n                }\n              }\n            }\n          }\n        })\n        .style_edges((element, data) => {\n          // Is the parent a descendant of a pinning node? If so, we need to\n          // select this branch!\n          if (\n            has(data, 'source')\n            && has(data.source, '@id')\n            && this.pinningNodeChildrenIRIs.has(data.source['@id'])\n          ) {\n            // Apply a class to this branch.\n            element.classed('descendant-of-pinning-node-branch', true);\n          } else {\n            element.classed('descendant-of-pinning-node-branch', false);\n          }\n        });\n      tree(this.parsedNewick);\n      return tree;\n    },\n  },\n  watch: {\n    phyloref() {\n      // We need to redraw the tree when phyloref changes.\n      this.redrawTree();\n    },\n    reasoningResults() {\n      // If reasoning occurs, we'll need to redraw this tree.\n      this.redrawTree();\n    },\n    phylogeny() {\n      // If the phylogeny changed, redraw the tree.\n      this.redrawTree();\n    },\n    selectedNodeLabel() {\n      // If the selected node label changed, redraw the tree.\n      this.redrawTree();\n    },\n    newickAsString() {\n      // If the newick changes, redraw the tree.\n      this.redrawTree();\n    },\n  },\n  mounted() {\n    // Redraw the tree when this component is loaded for the first time.\n    this.redrawTree();\n  },\n  methods: {\n    recurseNodes(node, func, nodeCount = 0, parentCount = undefined) {\n      // Recurse through PhyloTree nodes, executing function on each node.\n      //  - node: The node to recurse from. The function will be called on node\n      //          *before* being called on its children.\n      //  - func: The function to call on `node` and all of its children.\n      //  - nodeCount: `node` will be called with this nodeCount. All of its\n      //          children will be called with consecutively increasing nodeCounts.\n      //  - parentCount: The nodeCount associated with the parent of this node\n      //          within this run of recurseNodes. For instance, immediate children\n      //          of `node` will have a parentCount of 0. By default, `node` itself\n      //          will have a parentCount of `undefined`.\n      // When the function `func` is called, it is given three arguments:\n      //  - The current node object (initially: `node`)\n      //  - The count of the current node object (initially: `nodeCount`)\n      //  - The parent count of the current node object (initially: `parentCount`)\n      func(node, nodeCount, parentCount);\n\n      let nextID = nodeCount + 1;\n\n      // Recurse through all children of this node.\n      if (has(node, 'children')) {\n        node.children.forEach((child) => {\n          nextID = this.recurseNodes(\n            child,\n            func,\n            nextID,\n            nodeCount,\n          );\n        });\n      }\n\n      return nextID;\n    },\n    redrawTree() {\n      // Reset the pinning node information before redrawing.\n      this.pinningNodes = [];\n      this.pinningNodeChildrenIRIs = new Set();\n\n      // Draw the tree.\n      this.tree\n        .font_size(16) // Weirdly enough, this is in px, not pt.\n        .size([\n          // height\n          0,\n          // width\n          $(`#phylogeny${this.phylogenyIndex}`).innerWidth(),\n          // We need more space because our fonts are bigger than the default.\n        ])\n        .spacing_x(this.spacingX)\n        .update();\n    },\n  },\n};\n</script>\n\n<style>\n.phylogeny {\n  width: 100%;\n}\n.phylotreeContainer {\n  /* Required for Vue-Resize to track its size */\n  position: relative;\n}\n\n/*\n * Classes for phylogeny SVG elements\n */\n\n/*\n * Phylotree .node refers to the SVG groups that contain both the\n * node itself as well as the text label next to it. This is confusing,\n * but we will try to use that consistently below: *-node refers to the group\n * that includes both the node as well as the label with it, while *-label\n * refers only to the labels next to the nodes.\n */\n.node {\n  font-size: 12pt !important;\n}\n\n/* Labels for internal nodes, whether phylorefs or not */\n.internal-label {\n  font-family: serif;\n  font-size: 16pt;\n  font-style: italic;\n\n  text-anchor: start; /* Align text so it starts at the coordinates provided */\n  alignment-baseline: middle;\n}\n\n/* Node label for an internal specifier */\n.internal-specifier-node text {\n    font-weight: bolder;\n    fill: rgb(0, 24, 168) !important;\n}\n\n/* Node label for an external specifier */\n.external-specifier-node text {\n    font-weight: bolder;\n    fill: rgb(0, 24, 168) !important;\n}\n\n/* Node label for a terminal node without taxonomic units */\n.terminal-node-without-tunits {\n}\n\n/* The selected internal label on a phylogeny, whether determined to be the pinning node or not. */\n.selected-internal-label {\n    font-size: 16pt;\n    fill: rgb(0, 24, 168);\n}\n\n/*\n * An additional class for nodes that are the pinning node. When the phyloreference\n * resolves to a single terminal node, it will be laid out in this way, rather\n * than as an .internal-specifier-node.\n */\n.pinning-node text {\n    fill: black !important;\n    font-weight: bolder;\n}\n\n/*\n * The descendant-of-pinning-node class instructions below apply to the entire resolved node,\n * which includes the circle as well as the text label. We want to coordinate\n * colours between:\n *  - The circle that appears next to the node label,\n *  - The node label, whether internal or terminal, and\n *  - The branches descending from the pinning node.\n *\n * Note that .internal-specifier-node is set up to override this formatting, so\n * internal node labels will be formatted differently from other terminals\n * descending from the pinning node.\n */\n.descendant-of-pinning-node-node circle {\n  fill: rgb(0, 24, 168);\n}\n\n.descendant-of-pinning-node-node text {\n}\n\n.descendant-of-pinning-node-branch {\n  stroke: rgb(0, 24, 168);\n}\n\n/*\n * Create a table class for a fixed size body.\n * Based on https://stackoverflow.com/a/23518856/27310\n */\n.table-fixed-height {\n}\n\n.table-fixed-height thead {\n    display: block;\n    width: 100%;\n}\n\n.table-fixed-height tbody {\n    display: block;\n    width: 100%;\n    height: 15em;\n    overflow-y: scroll;\n    z-index: -1;\n}\n\n.table-fixed-height tr {\n    width: 100%;\n    display: inline-table;\n    table-layout: fixed;\n}\n\n/*\n * The following code is stolen from Bootstrap 3.3, which is a Phylotree.js\n * dependency. Since we otherwise use Bootstrap 4+, we need to override this\n * here so the menu works.\n *\n * We apply it only to subclasses of #d3_layout_phylotree_context_menu to limit\n * their fallout on other elements.\n */\n#d3_layout_phylotree_context_menu.dropdown-menu {\n position: absolute;\n top: 100%;\n left: 0;\n z-index: 1000;\n display: none;\n float: left;\n min-width: 160px;\n padding: 5px 0;\n margin: 2px 0 0;\n font-size: 14px;\n text-align: left;\n list-style: none;\n background-color: #fff;\n -webkit-background-clip: padding-box;\n         background-clip: padding-box;\n border: 1px solid #ccc;\n border: 1px solid rgba(0, 0, 0, .15);\n border-radius: 4px;\n -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n         box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n}\n#d3_layout_phylotree_context_menu.dropdown-menu.pull-right {\n right: 0;\n left: auto;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu .divider {\n height: 1px;\n margin: 9px 0;\n overflow: hidden;\n background-color: #e5e5e5;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu > li > a {\n display: block;\n padding: 3px 20px;\n clear: both;\n font-weight: normal;\n line-height: 1.42857143;\n color: #333;\n white-space: nowrap;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu > li > a:hover,\n#d3_layout_phylotree_context_menu.dropdown-menu > li > a:focus {\n color: #262626;\n text-decoration: none;\n background-color: #f5f5f5;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu > .active > a,\n#d3_layout_phylotree_context_menu.dropdown-menu > .active > a:hover,\n#d3_layout_phylotree_context_menu.dropdown-menu > .active > a:focus {\n color: #fff;\n text-decoration: none;\n background-color: #337ab7;\n outline: 0;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu > .disabled > a,\n#d3_layout_phylotree_context_menu.dropdown-menu > .disabled > a:hover,\n#d3_layout_phylotree_context_menu.dropdown-menu > .disabled > a:focus {\n color: #777;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu > .disabled > a:hover,\n#d3_layout_phylotree_context_menu.dropdown-menu > .disabled > a:focus {\n text-decoration: none;\n cursor: not-allowed;\n background-color: transparent;\n background-image: none;\n filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);\n}\n.open > #d3_layout_phylotree_context_menu.dropdown-menu {\n display: block;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu-right {\n right: 0;\n left: auto;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu-left {\n right: auto;\n left: 0;\n}\n#d3_layout_phylotree_context_menu.dropdown-header {\n display: block;\n padding: 3px 20px;\n font-size: 12px;\n line-height: 1.42857143;\n color: #777;\n white-space: nowrap;\n}\n#d3_layout_phylotree_context_menu.dropdown-backdrop {\n position: fixed;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n z-index: 990;\n}\n\n</style>\n","/*\n * Store module for modifying phyloreferences.\n */\n\nimport Vue from 'vue';\nimport { PhylorefWrapper } from '@phyloref/phyx';\nimport { has, keys, cloneDeep } from 'lodash';\n\nexport default {\n  getters: {\n    getPhylorefType: () => (phyloref) => {\n      const internalSpecifierCount = (phyloref.internalSpecifiers || []).length;\n      const externalSpecifierCount = (phyloref.externalSpecifiers || []).length;\n\n      if (externalSpecifierCount > 0) {\n        if (internalSpecifierCount > 0) return 'Maximum clade definition';\n      } else if (internalSpecifierCount > 0) {\n        if (internalSpecifierCount > 1) return 'Minimum clade definition';\n        return 'Invalid definition (single internal specifier cannot be resolved)';\n      }\n\n      return 'Invalid definition (must have at least one internal specifier)';\n    },\n  },\n  mutations: {\n    setPhylorefProps(state, payload) {\n      // Set one or more properties on a phyloreference.\n\n      if (!has(payload, 'phyloref')) {\n        throw new Error('setPhylorefProps needs a phyloref to modify using the \"phyloref\" argument');\n      }\n      if (has(payload, 'label')) {\n        Vue.set(payload.phyloref, 'label', payload.label);\n      }\n      if (has(payload, 'cladeDefinition')) {\n        Vue.set(payload.phyloref, 'cladeDefinition', payload.cladeDefinition);\n      }\n      if (has(payload, 'curatorComments')) {\n        Vue.set(payload.phyloref, 'curatorComments', payload.curatorComments);\n      }\n      if (has(payload, 'expectedResolution')) {\n        if (!has(payload, 'phylogenyId')) {\n          throw new Error('setPhylorefProps used to set expectedResolution needs a phylogeny ID to set using the \"phylogenyId\" argument');\n        }\n\n        if (!has(payload.phyloref, 'expectedResolution')) Vue.set(payload.phyloref, 'expectedResolution', {});\n        Vue.set(payload.phyloref.expectedResolution, payload.phylogenyId, payload.expectedResolution);\n      }\n    },\n\n    addExternalSpecifier(state, payload) {\n      // Add an empty specifier to a particular phyloreference as an external specifier.\n\n      if (!has(payload, 'phyloref')) {\n        throw new Error('addSpecifier needs a phyloref to modify using the \"phyloref\" argument');\n      }\n\n      if (!has(payload.phyloref, 'externalSpecifiers')) {\n        Vue.set(payload.phyloref, 'externalSpecifiers', []);\n      }\n\n      payload.phyloref.externalSpecifiers.push({});\n    },\n\n    addInternalSpecifier(state, payload) {\n      // Add an empty specifier to a particular phyloreference as an internal specifier.\n\n      if (!has(payload, 'phyloref')) {\n        throw new Error('addSpecifier needs a phyloref to modify using the \"phyloref\" argument');\n      }\n\n      if (!has(payload.phyloref, 'internalSpecifiers')) {\n        Vue.set(payload.phyloref, 'internalSpecifiers', []);\n      }\n\n      payload.phyloref.internalSpecifiers.push({});\n    },\n\n    deleteSpecifier(state, payload) {\n      // Delete a specifier from a phyloreference.\n\n      if (!has(payload, 'phyloref')) {\n        throw new Error('deleteSpecifier needs a phyloref to modify using the \"phyloref\" argument');\n      }\n      if (!has(payload, 'specifier')) {\n        throw new Error('deleteSpecifier needs a specifier to delete using the \"specifier\" argument');\n      }\n\n      new PhylorefWrapper(payload.phyloref).deleteSpecifier(payload.specifier);\n    },\n\n    setSpecifierProps(state, payload) {\n      // Set one or more properties on a specifier.\n\n      if (!has(payload, 'specifier')) {\n        throw new Error('setSpecifierProps needs a specifier to modify using the \"specifier\" argument');\n      }\n\n      if (!has(payload, 'props')) {\n        throw new Error('setSpecifierProps needs properties to set this specifier to using the \"props\" argument');\n      }\n\n      const specifier = payload.specifier;\n      const props = payload.props;\n\n      // Delete all existing keys in this specifier.\n      keys(specifier).forEach(key => Vue.delete(specifier, key));\n\n      // Add all new keys from the payload.\n      keys(props).forEach(key => Vue.set(specifier, key, cloneDeep(props[key])));\n    },\n\n    setSpecifierType(state, payload) {\n      // Change the type of a specifier. Since we maintain separate internalSpecifiers\n      // and externalSpecifiers arrays, we may need to delete the specifier from one\n      // array and add it to the other.\n\n      if (!has(payload, 'phyloref')) {\n        throw new Error('setSpecifierType needs a phyloref to modify using the \"phyloref\" argument');\n      }\n      if (!has(payload, 'specifier')) {\n        throw new Error('setSpecifierType needs a specifier to modify using the \"specifier\" argument');\n      }\n      if (!has(payload, 'specifierType')) {\n        throw new Error('setSpecifierType needs a specifierType to set to using the \"specifierType\" argument');\n      }\n\n      // Remove this specifier from this phyloreference.\n      if (has(payload.phyloref, 'internalSpecifiers') && payload.phyloref.internalSpecifiers.includes(payload.specifier)) {\n        payload.phyloref.internalSpecifiers.splice(\n          payload.phyloref.internalSpecifiers.indexOf(payload.specifier),\n          1,\n        );\n      }\n      if (has(payload.phyloref, 'externalSpecifiers') && payload.phyloref.externalSpecifiers.includes(payload.specifier)) {\n        payload.phyloref.externalSpecifiers.splice(\n          payload.phyloref.externalSpecifiers.indexOf(payload.specifier),\n          1,\n        );\n      }\n\n      // Reinsert it into the correct place.\n      if (payload.specifierType === 'Internal') {\n        if (has(payload.phyloref, 'internalSpecifiers')) {\n          payload.phyloref.internalSpecifiers.push(payload.specifier);\n        } else {\n          Vue.set(payload.phyloref, 'internalSpecifiers', [payload.specifier]);\n        }\n      } else if (payload.specifierType === 'External') {\n        if (has(payload.phyloref, 'externalSpecifiers')) {\n          payload.phyloref.externalSpecifiers.push(payload.specifier);\n        } else {\n          Vue.set(payload.phyloref, 'externalSpecifiers', [payload.specifier]);\n        }\n      } else {\n        throw new Error(`Unknown specifier type: ${payload.specifierType}`);\n      }\n    },\n\n    setSpecifierPart(state, payload) {\n      // Replaces one or more specifier part with a new value. Note that values\n      // can only be scientific names or occurrence IDs; external references use\n      // updateSpecifierExternalReference().\n      if (!has(payload, 'specifierPart')) {\n        throw new Error('setSpecifierPart needs a specifier part to modify using the \"specifierPart\" argument');\n      }\n\n      if (has(payload, 'scientificName')) {\n        Vue.set(payload.specifierPart, 'scientificName', payload.scientificName);\n      }\n      if (has(payload, 'occurrenceID')) {\n        Vue.set(payload.specifierPart, 'occurrenceID', payload.occurrenceID);\n      }\n    },\n\n    updateSpecifierExternalReference(state, payload) {\n      // Given a specifier, replace one external reference with another.\n      if (!has(payload, 'specifier')) {\n        throw new Error('updateSpecifierExternalReference needs a specifier to modify using the \"specifier\" argument');\n      }\n\n      if (!has(payload.specifier, 'externalReferences')) {\n        Vue.set(payload.specifier, 'externalReferences', []);\n      }\n\n      if (has(payload, 'fromExternalReference')) {\n        if (payload.specifier.externalReferences.includes(payload.fromExternalReference)) {\n          payload.specifier.externalReferences.splice(\n            payload.specifier.externalReferences.indexOf(payload.fromExternalReference),\n            1,\n          );\n        }\n      }\n\n      if (has(payload, 'toExternalReference')) {\n        payload.specifier.externalReferences.push(payload.toExternalReference);\n      }\n    },\n\n    addToSpecifier(state, payload) {\n      // Add a new external reference, specimen or scientific name to a phyloreference.\n\n      if (!has(payload, 'specifier')) {\n        throw new Error('addToSpecifier needs a specifier to modify using the \"specifier\" argument');\n      }\n\n      // Add external reference (if one is provided).\n      if (has(payload, 'externalReference')) {\n        if (!has(payload.specifier, 'externalReferences')) {\n          Vue.set(payload.specifier, 'externalReferences', []);\n        }\n\n        payload.specifier.externalReferences.push(payload.externalReference);\n      }\n\n      // Add specimen (if one is provided).\n      if (has(payload, 'specimen')) {\n        if (!has(payload.specifier, 'includesSpecimens')) {\n          Vue.set(payload.specifier, 'includesSpecimens', []);\n        }\n\n        payload.specifier.includesSpecimens.push(payload.specimen);\n      }\n\n      // Add scientific name (if one is provided).\n      if (has(payload, 'scientificName')) {\n        if (!has(payload.specifier, 'scientificNames')) {\n          Vue.set(payload.specifier, 'scientificNames', []);\n        }\n\n        payload.specifier.scientificNames.push(payload.scientificName);\n      }\n    },\n\n    deleteFromSpecifier(state, payload) {\n      // Delete a scientific name, specimen or external reference from a given specifier.\n\n      if (!has(payload, 'specifier')) {\n        throw new Error('deleteFromSpecifier needs a specifier to modify using the \"specifier\" argument');\n      }\n      if (has(payload, 'scientificName')) {\n        if (!has(payload.specifier, 'scientificNames')) Vue.set(payload.specifier, 'scientificNames', []);\n        if (payload.specifier.scientificNames.includes(payload.scientificName)) {\n          payload.specifier.scientificNames.splice(\n            payload.specifier.scientificNames.indexOf(payload.scientificName),\n            1,\n          );\n        }\n      }\n      if (has(payload, 'specimen')) {\n        if (!has(payload.specifier, 'includesSpecimens')) Vue.set(payload.specifier, 'includesSpecimens', []);\n        if (payload.specifier.includesSpecimens.includes(payload.specimen)) {\n          payload.specifier.includesSpecimens.splice(\n            payload.specifier.includesSpecimens.indexOf(payload.specimen),\n            1,\n          );\n        }\n      }\n      if (has(payload, 'externalReference')) {\n        if (!has(payload.specifier, 'externalReferences')) Vue.set(payload.specifier, 'externalReferences', []);\n        if (payload.specifier.externalReferences.includes(payload.externalReference)) {\n          payload.specifier.externalReferences.splice(\n            payload.specifier.externalReferences.indexOf(payload.externalReference),\n            1,\n          );\n        }\n      }\n    },\n  },\n};\n","<template>\n  <div id=\"app\">\n    <TopNavigationBar :version=\"version\" />\n    <div id=\"wrapper\">\n      <Sidebar />\n      <div id=\"page-content-wrapper\">\n        <template v-if=\"display.phyloref\">\n          <PhylorefView\n            :phyloref=\"display.phyloref\"\n            :specifier=\"display.specifier\"\n          />\n        </template>\n        <template v-else-if=\"display.phylogeny\">\n          <PhylogenyView :phylogeny=\"display.phylogeny\" />\n        </template>\n        <template v-else>\n          <PhyxView />\n        </template>\n      </div>\n    </div>\n\n    <!-- All modals are included here -->\n    <AboutCurationToolModal />\n    <AdvancedOptionsModal />\n  </div>\n</template>\n\n<script>\n/*\n * Lays out the entire page, including inserting the (hidden) modals so they can be displayed.\n */\n\nimport { isEqual } from 'lodash';\nimport { mapState } from 'vuex';\n\n// Navigation controls.\nimport TopNavigationBar from './components/TopNavigationBar.vue';\nimport Sidebar from './components/sidebar/Sidebar.vue';\n\n// At any point, one of these views will be displayed.\nimport PhylogenyView from './components/phylogeny/PhylogenyView.vue';\nimport PhylorefView from './components/phyloref/PhylorefView.vue';\nimport PhyxView from './components/phyx/PhyxView.vue';\n\n// Modal dialogs to be displayed above the UI.\nimport AboutCurationToolModal from './components/modals/AboutCurationToolModal.vue';\nimport AdvancedOptionsModal from './components/modals/AdvancedOptionsModal.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    TopNavigationBar,\n    Sidebar,\n    PhyxView,\n    PhylogenyView,\n    PhylorefView,\n    AboutCurationToolModal,\n    AdvancedOptionsModal,\n  },\n  data: () => { return {\n    version: process.env.VUE_APP_VERSION,\n  } },\n  computed: mapState({\n    display: state => state.ui.display,\n    currentPhyx: state => state.phyx.currentPhyx,\n    loadedPhyx: state => state.phyx.loadedPhyx,\n  }),\n  watch: {\n    currentPhyx: function() {\n      // If currentPhyx changes, reasoning results can no longer be trusted.\n      // So reset them!\n      console.log(\"currentPhyx changed; resetting resolution results.\");\n      this.$store.commit('setReasoningResults', undefined);\n    }\n  },\n  created() {\n    // If someone tries to navigate away from the window while the\n    // PHYX has been modified, ask users to confirm before leaving.\n    // Confirmation message to display to the user. Note that modern\n    // browsers do not display this message, but provide a generic\n    // \"content has changed\" dialog instead.\n    $(window).on('beforeunload', () => {\n      const confirmationMessage = 'Your modifications have not been saved and will be lost if you close Klados. Confirm to discard your changes, or cancel to return to Klados.';\n\n      if (!isEqual(this.loadedPhyx, this.currentPhyx)) return confirmationMessage;\n      return false;\n    });\n  },\n};\n</script>\n\n<style>\n/*\n * Classes for overall design.\n */\n\n#wrapper {\n  padding-top: 64px;\n  padding-left: 250px;\n  margin-bottom: 10px;\n  transition: all 0.4s ease 0s;\n}\n\n#sidebar-wrapper {\n  font-size: 80%;\n  margin-left: -250px;\n  padding: 0px 5px;\n  position: fixed;\n  padding-top: 64px;\n  bottom: 0px;\n  left: 250px;\n  width: 250px;\n  height: 100%;\n  overflow-y: auto;\n  z-index: 1000;\n  transition: all 0.4s ease 0s;\n}\n\n#page-content-wrapper {\n  width: 100%;\n  padding: 0px 10px;\n}\n</style>\n","/*\n * Store module for handling citations.\n *\n * Note that citations are located as keys on objects (for example, a phyloreference\n * can have both a primaryPhylogenyCitation as well as a phylogenyCitation). Thus,\n * citations are referred to by an object (which exists elsewhere in the Vuex store)\n * and the key for the citation.\n *\n * The format for citations we use is based on BibJSON (http://okfnlabs.org/bibjson/),\n * since that is essentially what Regnum uses. This is surprisingly poorly supported,\n * except for the Citation.JS library (https://citation.js.org/), but I haven't been\n * able to get it working on Vue JS yet. Therefore, mostly, I've implemented a\n * basic CitationWrapper here, we'll replace it with Citations.JS or another proper\n * library when we can. We might switch over to CSL-JSON eventually (see issue\n * https://github.com/phyloref/clade-ontology/issues/69).\n */\n\nimport Vue from 'vue';\nimport { has, isEmpty, isString } from 'lodash';\n\nfunction isNonEmptyString(str) {\n  // Helper method: checks to see if a provided object (1) is a string, that\n  // (2) is non-empty after trimming.\n  if (!isString(str)) return false;\n  if (str.trim().length === 0) return false;\n  return true;\n}\n\nclass CitationWrapper {\n  // Wraps a Citation in a Phyx document. Should be moved to phyx.js.\n\n  constructor(citation) {\n    // Store the citation we're wrapping.\n    this.citation = citation;\n  }\n\n  toString() {\n    // Return this citation in a string representation.\n    if (!this.citation || isEmpty(this.citation)) return undefined;\n\n    let authors = this.authorsAsStrings;\n    if (authors.length === 0) authors = ['Anonymous'];\n    if (authors.length > 2) authors = [`${authors[0]} et al`];\n    let authorsAndTitle = `${authors.join(' and ')} (${this.citation.year || 'n.d.'}) ${this.citation.title || 'Untitled'}`;\n\n    const editorLists = [];\n    const editors = this.editorsAsStrings;\n    if (editors.length > 0) editorLists.push(`eds: ${editors.join(' and ')}`);\n\n    const seriesEditors = this.seriesEditorsAsStrings;\n    if (seriesEditors.length > 0) editorLists.push(`series eds: ${seriesEditors.join(' and ')}`);\n\n    if (editorLists.length > 0) authorsAndTitle += ` [${editorLists.join(', ')}]`;\n\n    if (has(this.citation, 'section_title')) {\n      authorsAndTitle += ` (section: ${this.citation.section_title})`;\n    }\n\n    // Additional info stores details that should be at the end of the figure number,\n    // DOIs, URLs, ISBNs and so on.\n    let additionalInfo = ' ';\n    if (has(this.citation, 'figure')) additionalInfo += ` fig ${this.citation.figure}`;\n\n    // Add DOIs and URLs.\n    additionalInfo += this.doisAsStrings.map(doi => ` doi: ${doi}`).join('');\n    additionalInfo += this.urlsAsStrings.map(url => ` URL: ${url}`).join('');\n\n    additionalInfo += this.isbns.map(isbn => ` ISBN: ${isbn}`).join('');\n\n    // A citation for a journal article should be different from others.\n    if (has(this.citation, 'journal') && this.citation.type === 'article') {\n      const journal = this.citation.journal;\n      const journalIssue = (has(journal, 'number')) ? `(${journal.number})` : '';\n      const pages = (has(this.citation, 'pages')) ? `:${this.citation.pages}` : '';\n      additionalInfo += this.issns.map(issn => `ISSN: ${issn} `).join('');\n      return `${authorsAndTitle} ${journal.name || 'Unknown journal'} ${journal.volume || 'Unknown volume'}${journalIssue}${pages}${additionalInfo}`;\n    }\n\n    // If we are here, this must be a book or a book_section.\n    if (has(this.citation, 'pages')) additionalInfo += ` pages: ${this.citation.pages}`;\n\n    if (has(this.citation, 'publisher') && has(this.citation, 'city')) {\n      return `${authorsAndTitle} ${this.citation.publisher}, ${this.citation.city}${additionalInfo}`;\n    }\n\n    if (has(this.citation, 'publisher')) {\n      return `${authorsAndTitle} ${this.citation.publisher}${additionalInfo}`;\n    }\n\n    return `${authorsAndTitle}${additionalInfo}`;\n  }\n\n  get authors() {\n    // Return a list of authors (as author objects) for this citation.\n    const citation = this.citation;\n\n    if (has(citation, 'authors')) {\n      // Is there more than one author?\n      if (Array.isArray(citation.authors)) {\n        return citation.authors;\n      }\n\n      // If not, make an array out of that one author.\n      return [citation.authors];\n    }\n\n    return [];\n  }\n\n  set authors(authors) {\n    // Set the list of authors (as author objects).\n    Vue.set(this.citation, 'authors', authors);\n  }\n\n  get authorsAsStrings() {\n    // Return a list of author names.\n    return this.authors.map(author => author.name);\n  }\n\n  set authorsAsStrings(authorsAsStrings) {\n    // Set a list of author names.\n    // TODO parse names back into first and last name (https://github.com/phyloref/curation-tool/issues/145)\n    Vue.set(this.citation, 'authors', authorsAsStrings.filter(isNonEmptyString).map(name => ({ name })));\n  }\n\n  get editorsAsStrings() {\n    // Return a list of editor names.\n    if (!has(this.citation, 'editors')) return [];\n    return this.citation.editors.map(editor => editor.name);\n  }\n\n  set editorsAsStrings(editors) {\n    // Set a list of editor names.\n    // TODO parse names back into first and last name (https://github.com/phyloref/curation-tool/issues/145)\n    Vue.set(this.citation, 'editors', editors.filter(isNonEmptyString).map(name => ({ name })));\n  }\n\n  get seriesEditorsAsStrings() {\n    // Return a list of series editor names.\n    if (!has(this.citation, 'series_editors')) return [];\n    return this.citation.series_editors.map(editor => editor.name);\n  }\n\n  set seriesEditorsAsStrings(editors) {\n    // Set a list of series editor names.\n    // TODO parse names back into first and last name (https://github.com/phyloref/curation-tool/issues/145)\n    Vue.set(this.citation, 'series_editors', editors.filter(isNonEmptyString).map(name => ({ name })));\n  }\n\n  get identifiers() {\n    // Returns a list of identifiers for this citation.\n    const citation = this.citation;\n\n    if (has(citation, 'identifier')) {\n      // Are there more than one identifier?\n      if (Array.isArray(citation.identifier)) {\n        return citation.identifier;\n      }\n\n      // If not, make an array out of that one identifier.\n      return [citation.identifier];\n    }\n\n    // No identifiers!\n    return [];\n  }\n\n  set identifiers(identifiers) {\n    // Set the list of identifiers for this citation.\n    Vue.set(this.citation, 'identifier', identifiers);\n  }\n\n  get doisAsStrings() {\n    // Return a list of DOIs for this citation.\n    return this.identifiers\n      .filter(id => has(id, 'type') && id.type === 'doi' && has(id, 'id') && !isEmpty(id.id))\n      .map(id => id.id);\n  }\n\n  set doisAsStrings(dois) {\n    this.identifiers = this.identifiers\n      // Remove all current DOIs while leaving other identifiers untouched.\n      .filter(id => has(id, 'type') && id.type !== 'doi')\n      // Replace them with the provided DOIs.\n      .concat(dois.filter(isNonEmptyString).map(doi => ({ type: 'doi', id: doi })));\n  }\n\n  get isbns() {\n    // Return a list of ISBNs for this citation.\n    return this.identifiers.map((identifier) => {\n      if (has(identifier, 'type') && identifier.type === 'isbn' && has(identifier, 'id') && !isEmpty(identifier.id)) {\n        return [identifier.id];\n      }\n\n      return [];\n    }).reduce((acc, val) => acc.concat(val), []);\n  }\n\n  set isbns(isbns) {\n    // Set a list of ISBNs for this citation.\n    this.identifiers = this.identifiers\n      .filter(identifier => has(identifier, 'type') && identifier.type !== 'isbn')\n      .concat(isbns.filter(isNonEmptyString).map(isbn => ({ type: 'isbn', id: isbn })));\n  }\n\n  get issns() {\n    // Return a list of ISSNs for this citation.\n    return this.identifiers.map((identifier) => {\n      if (has(identifier, 'type') && identifier.type === 'issn' && has(identifier, 'id') && !isEmpty(identifier.id)) {\n        return [identifier.id];\n      }\n\n      return [];\n    }).reduce((acc, val) => acc.concat(val), []);\n  }\n\n  set issns(issns) {\n    // Set a list of ISSNs for this citation.\n    this.identifiers = this.identifiers\n      .filter(identifier => has(identifier, 'type') && identifier.type !== 'issn')\n      .concat(issns.filter(isNonEmptyString).map(issn => ({ type: 'issn', id: issn })));\n  }\n\n  get firstDOI() {\n    // Return the first DOI of this citation (used to provide a URL to access it).\n    const dois = this.doisAsStrings || [];\n    if (dois.length > 0) return dois[0];\n    return undefined;\n  }\n\n  get urlsAsStrings() {\n    // Return a list of URLs in this citation.\n    if (has(this.citation, 'link')) return this.citation.link.map(link => link.url);\n    return [];\n  }\n\n  set urlsAsStrings(urls) {\n    // Set the list of URLs in this citation.\n    Vue.set(this.citation, 'link', urls.filter(isNonEmptyString).map(url => ({ url })));\n  }\n\n  get firstURL() {\n    // Return the first URL in the list of citations (used to provide a URL for buttons).\n    if (this.urlsAsStrings.length > 0) return this.urlsAsStrings[0];\n    return undefined;\n  }\n\n  get url() {\n    // Get a URL for this citation, whether from the list of URLs or the list of DOIs.\n    if (this.firstURL) return this.firstURL;\n\n    // If we don't have a URL, look for a DOI.\n    if (this.firstDOI) return `http://doi.org/${encodeURI(this.firstDOI)}`;\n\n    // If we don't have a DOI, look for an ISBN or ISSN.\n    if (this.isbns.length > 0) return `https://www.worldcat.org/search?q=bn%3A${encodeURI(this.isbns[0])}`;\n    if (this.issns.length > 0) return `https://www.worldcat.org/search?q=n2%3A${encodeURI(this.issns[0])}`;\n\n    // If all else fails, try title searches.\n    if (has(this.citation, 'type') && has(this.citation, 'title')) {\n      // We should check articles against CrossRef.\n      if (this.citation.type === 'article') return `https://search.crossref.org/?q=${encodeURI(this.citation.title)}`;\n\n      // We should search book and book sections against WorldCat.\n      return `https://www.worldcat.org/search?q=${encodeURI(this.citation.title)}`;\n    }\n\n    return undefined;\n  }\n\n  get journal() {\n    // Return the journal of this citation. If one doesn't exist, create it and\n    // return it.\n    if (has(this.citation, 'journal')) return this.citation.journal;\n    Vue.set(this.citation, 'journal', {});\n    return this.citation.journal;\n  }\n}\n\nexport default {\n  getters: {\n    // Get a wrapped citation for a given citation.\n    getWrappedCitation: () => citation => new CitationWrapper(citation),\n  },\n  mutations: {\n    // Update the value of a citation, using object-citationKey so we can change\n    // it anywhere in the Vuex state.\n    setCitations(state, payload) {\n      Vue.set(\n        payload.object,\n        payload.citationKey,\n        payload.citations,\n      );\n    },\n  },\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dataChanged)?_c('div',{staticClass:\"float-right\",attrs:{\"title\":_vm.message}},[_c('FontAwesomeIcon',{style:({ color: '#FF8200' }),attrs:{\"size\":\"lg\",\"icon\":\"exclamation-circle\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedIcon.vue?vue&type=template&id=014d92a1&\"","import { render, staticRenderFns } from \"./ModifiedCard.vue?vue&type=template&id=3d1fb5ea&\"\nimport script from \"./ModifiedCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ModifiedCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./AboutCurationToolModal.vue?vue&type=template&id=7380edb9&\"\nimport script from \"./AboutCurationToolModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AboutCurationToolModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ModifiedCard',{attrs:{\"message\":\"This phylogeny has been modified since being loaded. Use 'Save' to save your changes.\",\"compare\":_vm.selectedPhylogeny,\"compare-to\":_vm.loadedPhyx.phylogenies[_vm.currentPhyx.phylogenies.indexOf(_vm.selectedPhylogeny)]}}),_c('div',{staticClass:\"card\"},[_c('h5',{staticClass:\"card-header\"},[_vm._v(\"\\n      Phylogeny information\\n    \")]),_c('div',{staticClass:\"card-body\"},[_c('form',[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-md-2 col-form-label\",attrs:{\"for\":\"phylogenyId\"}},[_vm._v(\"\\n            Identifier\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phylogenyId),expression:\"phylogenyId\"}],staticClass:\"form-control\",class:{'border-danger': _vm.phylogenyIdError},attrs:{\"id\":\"phylogenyId\",\"type\":\"text\",\"placeholder\":\"A global or local identifier for this phylogeny, e.g. 'http://doi.org/10.13/49#12' or '#phylogeny1'\"},domProps:{\"value\":(_vm.phylogenyId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phylogenyId=$event.target.value}}}),(_vm.phylogenyIdError)?_c('p',{staticClass:\"form-text text-danger\"},[_vm._v(_vm._s(_vm.phylogenyIdError))]):_vm._e()])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-md-2 col-form-label\",attrs:{\"for\":\"phylogenyLabel\"}},[_vm._v(\"\\n            Label\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.phylogenyLabel),expression:\"phylogenyLabel\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"phylogenyLabel\",\"type\":\"text\",\"placeholder\":\"Enter phylogeny name\"},domProps:{\"value\":(_vm.phylogenyLabel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phylogenyLabel=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-md-2 col-form-label\",attrs:{\"for\":\"phylogenyDescription\"}},[_vm._v(\"\\n            Description\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.phylogenyDescription),expression:\"phylogenyDescription\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"phylogenyDescription\",\"type\":\"text\",\"placeholder\":\"Enter phylogeny description\"},domProps:{\"value\":(_vm.phylogenyDescription)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phylogenyDescription=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('Citation',{attrs:{\"label\":\"Primary reference phylogeny\",\"object\":_vm.selectedPhylogeny,\"citation-key\":\"primaryPhylogenyCitation\"}}),_c('Citation',{attrs:{\"label\":\"Reference phylogeny\",\"object\":_vm.selectedPhylogeny,\"citation-key\":\"phylogenyCitation\"}}),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-md-2 control-label\",attrs:{\"for\":\"newick\"}},[_vm._v(\"\\n            Newick\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.phylogenyNewick),expression:\"phylogenyNewick\",modifiers:{\"lazy\":true}}],staticClass:\"form-control\",attrs:{\"rows\":\"5\",\"placeholder\":\"Enter Newick string for phylogeny here\"},domProps:{\"value\":(_vm.phylogenyNewick)},on:{\"change\":function($event){_vm.phylogenyNewick=$event.target.value}}})])])],1)])]),(_vm.phylogenyNewickErrors.length !== 0)?_c('div',{staticClass:\"card border-dark mt-2\"},[_c('h5',{staticClass:\"card-header bg-danger\"},[_vm._v(\"\\n      Errors occurred while parsing Newick string\\n    \")]),_c('div',{staticClass:\"card-body\"},[_vm._l((_vm.phylogenyNewickErrors),function(error,errorIndex){return [_c('p',[_c('strong',[_vm._v(_vm._s(error.title)+\".\")]),_vm._v(\" \"+_vm._s(error.message))])]})],2)]):_vm._e(),(_vm.phylogenyNewickErrors.length === 0)?_c('div',{staticClass:\"card mt-2\"},[_c('h5',{staticClass:\"card-header\"},[_vm._v(\"\\n      Phylogeny visualization\\n    \")]),_c('div',{staticClass:\"card-body\"},[_c('Phylotree',{attrs:{\"phylogeny\":_vm.selectedPhylogeny}})],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylogenyView.vue?vue&type=template&id=e4e73c26&\"","/**\n * This state module provides methods to store and retrieve the resolution results\n * of phyloreferences from JPhyloRef.\n */\n\nimport Vue from 'vue';\nimport { has, cloneDeep } from 'lodash';\n\nimport { PhyxWrapper, PhylogenyWrapper } from '@phyloref/phyx';\n\nexport default {\n  state: {\n    // The reasoning results returned by JPhyloRef.\n    reasoningResults: undefined,\n  },\n  getters: {\n    // Return a base URI for a given phylogeny.\n    getBaseURIForPhylogeny: (state, getters, rootState) => phylogeny => PhyxWrapper.getBaseURIForPhylogeny(rootState.phyx.currentPhyx.phylogenies.indexOf(phylogeny)),\n    // Return a base URI for a given phyloreference.\n    getBaseURIForPhyloref: (state, getters, rootState) => phyloref => PhyxWrapper.getBaseURIForPhyloref(rootState.phyx.currentPhyx.phylorefs.indexOf(phyloref)),\n    // Return the identifier for a given phylogeny. We will use getBaseURIForPhylogeny()\n    // unless one has already been set.\n    getPhylogenyId: (state, getters) => (phylogeny) => {\n      if (has(phylogeny, '@id')) return phylogeny['@id'];\n      return getters.getBaseURIForPhylogeny(phylogeny);\n    },\n    // Return the identifier for a given phyloref. We will use getBaseURIForPhyloref()\n    // unless one has already been set.\n    getPhylorefId: (state, getters) => (phyloref) => {\n      if (has(phyloref, '@id')) return phyloref['@id'];\n      return getters.getBaseURIForPhyloref(phyloref);\n    },\n    getResolvedNodesForPhylogeny: (state, getters) => (\n      phylogeny,\n      phyloref,\n      flagReturnShortURIs = false,\n    ) => {\n      // Return a list of nodes that were resolved for phyloref `phyloref` on\n      // phylogeny `phylogeny`.\n      // - flagReturnNodeURI: if true, the entire URI will be returned, otherwise\n      // just the node number will be returned.\n\n      // Do we have reasoning results for this phyloreference?\n      const phylorefURI = getters.getPhylorefId(phyloref);\n      if (\n        !has(state.reasoningResults, 'phylorefs')\n         || !has(state.reasoningResults.phylorefs, phylorefURI)\n      ) return [];\n\n      // Identify the resolved nodes.\n      const nodesResolved = state.reasoningResults.phylorefs[phylorefURI];\n      const phylogenyURI = getters.getPhylogenyId(phylogeny);\n\n      // We look for the phylogeny URI (e.g. \"#phylogeny1\") in the node resolved\n      // URI. To make sure that we don't accidentally match \"#phylogeny12\", we\n      // also look for the '_' after the phylogeny URI.\n      const nodeURIs = nodesResolved.filter(uri => uri.includes(`${phylogenyURI}_`));\n\n      // Either return the URIs as-is or remove the phylogeny URI (so we return e.g. \"node21\").\n      if (!flagReturnShortURIs) return nodeURIs;\n      const results = nodeURIs.map(iri => iri.replace(`${phylogenyURI}_`, ''));\n\n      // console.log('getResolvedNodesForPhylogeny:', phylogeny, phyloref, results);\n\n      return results;\n    },\n    getExpectedResolution: (state, getters) => (phyloref, phylogeny) => {\n      // Return the expected resolution information for a particular phyloref on\n      // a particular phylogeny.\n      if (!has(phyloref, 'expectedResolution')) return {};\n\n      const phylogenyId = getters.getPhylogenyId(phylogeny);\n      if (has(phyloref.expectedResolution, phylogenyId)) {\n        return phyloref.expectedResolution[phylogenyId];\n      }\n\n      return {};\n    },\n    getExpectedNodeLabel: (state, getters) => (phyloref, phylogeny) => {\n      // Return a list of nodes that this phyloreference is expected to resolve to.\n      const expectedResolution = getters.getExpectedResolution(phyloref, phylogeny);\n\n      if (has(expectedResolution, 'nodeLabel')) {\n        return expectedResolution.nodeLabel;\n      }\n\n      // Is there a node on the phylogeny with the same label as this phyloreference?\n      const allNodeLabels = new PhylogenyWrapper(phylogeny).getNodeLabels();\n      if (phyloref.label && allNodeLabels.includes(phyloref.label)) {\n        return phyloref.label;\n      }\n\n      // No expected node labels!\n      return undefined;\n    },\n  },\n  mutations: {\n    setReasoningResults(state, payload) {\n      // Sets the \"reasoning results\" -- the results of reasoning returned by JPhyloRef.\n      Vue.set(state, 'reasoningResults', payload);\n    },\n  },\n  actions: {\n    setExpectedResolution(context, payload) {\n      const {\n        phylogeny,\n        phyloref,\n        expectedResolutionData,\n      } = payload;\n\n      // If this phylogeny does not already have an '@id', we should set it\n      // so we don't lose track of the connection between these entities.\n      let phylogenyId = phylogeny['@id'];\n      if (!phylogenyId) {\n        phylogenyId = context.getters.getPhylogenyId(phylogeny);\n        context.commit('setPhylogenyProps', {\n          phylogeny,\n          '@id': phylogenyId,\n        });\n      }\n\n      // What is the current expectedResolution look like?\n      const currentExpectedResolution = cloneDeep(phyloref.expectedResolution || {});\n      const currentExpectedResolutionForPhylogeny = currentExpectedResolution[phylogenyId] || {};\n\n      // What needs to change?\n      if (has(expectedResolutionData, 'description')) {\n        currentExpectedResolutionForPhylogeny.description = expectedResolutionData.description;\n      }\n\n      if (has(expectedResolutionData, 'nodeLabel')) {\n        // We need to toggle a node label as included or excluded from the\n        // expected resolution.\n        currentExpectedResolutionForPhylogeny.nodeLabel = expectedResolutionData.nodeLabel;\n      }\n\n      // Because JSON-LD won't be able to interpret an object whose keys are not\n      // properties, we need to add a reference to the phylogenyId in the object itself.\n      expectedResolutionData.phylogenyId = phylogenyId;\n\n      // Replace the current expected resolution.\n      context.commit('setPhylorefProps', {\n        phyloref,\n        expectedResolution: currentExpectedResolutionForPhylogeny,\n        phylogenyId,\n      });\n    },\n  },\n};\n","<template>\n  <div>\n    <!-- Add a warning if this phyloreference has changed -->\n    <ModifiedCard\n      message=\"This phyloreference has been modified since being loaded! Use 'Save' to save your changes.\"\n      :compare=\"selectedPhyloref\"\n      :compare-to=\"loadedPhyx.phylorefs[currentPhyx.phylorefs.indexOf(selectedPhyloref)]\"\n    />\n\n    <!-- Phyloreference information -->\n    <div\n      v-if=\"!display.phylogeny\"\n      class=\"card\"\n    >\n      <h5 class=\"card-header\">\n        Phyloreference information\n      </h5>\n\n      <div class=\"card-body\">\n        <form>\n          <!-- Phyloreference label -->\n          <div class=\"form-group row\">\n            <label\n              for=\"label\"\n              class=\"col-form-label col-md-2\"\n            >\n              Label\n            </label>\n            <div class=\"col-md-10\">\n              <input\n                id=\"label\"\n                v-model=\"selectedPhylorefLabel\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Phyloreference label\"\n              >\n            </div>\n          </div>\n\n          <!-- TODO add definition authors here -->\n\n          <!-- Pre-existing definition source -->\n          <Citation\n            label=\"Name published in\"\n            :object=\"selectedPhyloref\"\n            citation-key=\"dwc:namePublishedIn\"\n          />\n\n          <!-- Phyloreference clade definition -->\n          <div class=\"form-group row\">\n            <label\n              for=\"definition\"\n              class=\"col-form-label col-md-2\"\n            >\n              Definition in free-form text\n            </label>\n            <div class=\"col-md-10\">\n              <textarea\n                id=\"definition\"\n                v-model.lazy=\"selectedCladeDefinition\"\n                class=\"form-control\"\n                rows=\"6\"\n                placeholder=\"Phylogenetic clade definition\"\n              />\n            </div>\n          </div>\n\n          <!-- Phyloref definition source -->\n          <Citation\n            label=\"Definition published in\"\n            :object=\"selectedPhyloref\"\n            citation-key=\"obo:IAO_0000119\"\n          />\n\n          <!-- Phyloreference curator comments -->\n          <div class=\"form-group row\">\n            <label\n              for=\"curator-comments\"\n              class=\"col-form-label col-md-2\"\n            >\n              Curator comments\n            </label>\n            <div class=\"col-md-10\">\n              <textarea\n                id=\"curator-comments\"\n                v-model.lazy=\"selectedCuratorComments\"\n                class=\"form-control\"\n                rows=\"2\"\n                placeholder=\"e.g. 'Specifier X not included in reference phylogeny'\"\n              />\n            </div>\n          </div>\n        </form>\n      </div>\n\n      <div class=\"card-footer\">\n        <div class=\"btn-group\" role=\"group\" area-label=\"Phyloreference management\">\n          <button\n            class=\"btn btn-primary\"\n            @click=\"$store.commit('duplicatePhyloref', { phyloref: selectedPhyloref })\"\n          >Duplicate phyloreference</button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card mt-2\">\n      <h5 class=\"card-header\">\n        Specifiers\n      </h5>\n      <div class=\"card-body\">\n        <form>\n          <!-- Phyloreference type -->\n          <div class=\"form-group row\">\n            <label\n              for=\"phyloref-type\"\n              class=\"col-form-label col-md-2\"\n            >\n              Phyloreference type\n            </label>\n            <div class=\"col-md-10\">\n              <input\n                id=\"phyloref-type\"\n                v-model=\"computedPhylorefType\"\n                type=\"text\"\n                readonly\n                class=\"form-control\"\n              >\n            </div>\n          </div>\n        </form>\n\n        <h5>Internal specifiers</h5>\n\n        <template v-if=\"!selectedPhyloref.internalSpecifiers || selectedPhyloref.internalSpecifiers.length === 0\">\n          <p><em>No internal specifiers in this phyloreference.</em></p>\n        </template>\n        <div\n          v-for=\"(specifier, index) of selectedPhyloref.internalSpecifiers\"\n          class=\"form-row input-group\"\n        >\n          <Specifier\n            v-bind:key=\"'internal' + index\"\n            :phyloref=\"selectedPhyloref\"\n            :remote-specifier=\"specifier\"\n            :remote-specifier-id=\"'internal' + index\"\n          />\n        </div>\n\n        <h5 class=\"mt-2\">External specifiers</h5>\n\n        <template v-if=\"!selectedPhyloref.externalSpecifiers  || selectedPhyloref.externalSpecifiers.length === 0\">\n          <p><em>No external specifiers in this phyloreference.</em></p>\n        </template>\n        <div\n          v-for=\"(specifier, index) of selectedPhyloref.externalSpecifiers\"\n          class=\"form-row input-group\"\n        >\n          <Specifier\n            v-bind:key=\"'external' + index\"\n            :phyloref=\"selectedPhyloref\"\n            :remote-specifier=\"specifier\"\n            :remote-specifier-id=\"'external' + index\"\n          />\n        </div>\n      </div>\n      <div class=\"card-footer\">\n        <div class=\"btn-group\" role=\"group\" area-label=\"Internal specifier management\">\n          <button\n            class=\"btn btn-primary\"\n            href=\"javascript:;\"\n            @click=\"$store.commit('addInternalSpecifier', { phyloref: selectedPhyloref })\"\n          >\n            Add internal specifier\n          </button>\n        </div>\n        <div class=\"btn-group ml-2\" role=\"group\" area-label=\"External specifier management\">\n          <button\n            class=\"btn btn-primary\"\n            href=\"javascript:;\"\n            @click=\"$store.commit('addExternalSpecifier', { phyloref: selectedPhyloref })\"\n          >\n            Add external specifier\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!--\n      Panel with information on expected and actual resolution\n      We should:\n        - display all phylogenies when looking up a phyloreference or specifiers\n        - display only the selected phylogeny when it's selected\n    -->\n    <template v-for=\"(phylogeny, phylogenyIndex) of currentPhyx.phylogenies\">\n      <template v-if=\"selectedPhylogeny === undefined || selectedPhylogeny === phylogeny\">\n        <div class=\"card mt-2\">\n          <h5 class=\"card-header\">\n            Expected and actual resolution <span v-if=\"display.phylogeny\">\n              of {{ phyloref.label || 'unlabeled phyloreference' }}\n            </span> on {{ phylogeny.label || `Phylogeny ${phylogenyIndex + 1}` }}\n          </h5>\n          <div class=\"card-body\">\n            <!-- Reference phylogeny information -->\n            <Citation\n              label=\"Reference phylogeny\"\n              :object=\"phylogeny\"\n              citation-key=\"primaryPhylogenyCitation\"\n            />\n\n            <!-- Expected resolution information -->\n            <div class=\"form-group row\">\n              <label\n                :for=\"'expected-resolution-' + phylogenyIndex\"\n                class=\"col-form-label col-md-2\"\n              >\n                Expected resolution in free-form text\n              </label>\n              <div class=\"col-md-10\">\n                <textarea\n                  :id=\"'expected-resolution-' + phylogenyIndex\"\n                  :value=\"getExpectedResolution(phylogeny).description\"\n                  @change=\"setExpectedResolution(phylogeny, {'description': $event.target.value})\"\n                  rows=\"3\"\n                  class=\"form-control\"\n                  placeholder=\"e.g. 'Should resolve to clade X in fig 3 of Smith 2003'\"\n                />\n              </div>\n            </div>\n\n            <div class=\"form-group row\">\n              <!-- Node(s) this phyloreference is expected to resolve to -->\n              <label\n                for=\"expected-nodes\"\n                class=\"col-form-label col-md-2\"\n              >\n                Expected nodes\n              </label>\n\n              <div class=\"input-group col-md-10 pb-2\">\n                <!-- Display the phylogeny where this node is expected to match -->\n                <div class=\"input-group-prepend\">\n                  <a\n                    class=\"btn btn-outline-secondary\"\n                    :href=\"'#current_expected_label_phylogeny_' + phylogenyIndex\"\n                    title=\"Click here to jump to the expected label\"\n                    role=\"button\"\n                  >Go to node</a>\n                </div>\n\n                <!-- Display the matching node(s) -->\n                <template v-if=\"!getExpectedNodeLabel(phylogeny)\">\n                  <!-- We matched no nodes -->\n                  <input\n                    readonly\n                    type=\"text\"\n                    class=\"form-control\"\n                    :value=\"'No node labeled \\'' + selectedPhylorefLabel + '\\' found in phylogeny'\"\n                  >\n                </template>\n\n                <template v-if=\"getExpectedNodeLabel(phylogeny)\">\n                  <!-- We matched exactly one node -->\n                  <input\n                    readonly\n                    type=\"text\"\n                    class=\"form-control\"\n                    :value=\"getExpectedNodeLabel(phylogeny)\"\n                  >\n                </template>\n\n                <!-- Display a dropdown menu that allows the modified label to be changed. -->\n                <div class=\"input-group-append\">\n                  <button\n                    id=\"expected-nodes-dropdown\"\n                    type=\"button\"\n                    class=\"btn btn-outline-secondary dropdown-toggle\"\n                    data-toggle=\"dropdown\"\n                    aria-haspopup=\"true\"\n                    aria-expanded=\"false\"\n                  >\n                    Change <span class=\"caret\" />\n                  </button>\n                  <div\n                    class=\"dropdown-menu dropright\"\n                    aria-labelledby=\"expected-nodes-dropdown\"\n                    style=\"height: 30em; overflow: visible scroll;\"\n                  >\n                    <a class=\"dropdown-header\">\n                      Labeled internal nodes in this phylogeny\n                    </a>\n                    <a\n                      v-for=\"nodeLabel of getNodeLabels(phylogeny, 'internal')\"\n                      class=\"dropdown-item\"\n                      :class=\"{active: getExpectedNodeLabel(phylogeny) === nodeLabel}\"\n                      href=\"#selected-phyloref\"\n                      @click=\"setExpectedResolution(phylogeny, {nodeLabel})\"\n                    >\n                      {{ nodeLabel }}\n                    </a>\n                    <div class=\"dropdown-divider\" />\n                    <a class=\"dropdown-header\">\n                      Labeled terminal nodes in this phylogeny\n                    </a>\n                    <a\n                      v-for=\"nodeLabel of getNodeLabels(phylogeny, 'terminal')\"\n                      class=\"dropdown-item\"\n                      :class=\"{active: getExpectedNodeLabel(phylogeny) === nodeLabel}\"\n                      href=\"#selected-phyloref\"\n                      @click=\"setExpectedResolution(phylogeny, {nodeLabel})\"\n                    >\n                      {{ nodeLabel }}\n                    </a>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Node(s) this phyloreference actually resolved to -->\n              <label\n                for=\"actual-nodes\"\n                class=\"col-form-label col-md-2 pb-2\"\n              >\n                Actual resolved nodes\n              </label>\n\n              <div class=\"input-group col-md-10 pb-2\">\n                <!-- Display the phylogeny where this node is expected to match -->\n                <div class=\"input-group-prepend\">\n                  <a\n                    class=\"btn btn-outline-secondary\"\n                    :href=\"'#current_pinning_node_phylogeny_' + phylogenyIndex\"\n                    title=\"Click here to jump to this node\"\n                    role=\"button\"\n                  >Go to node</a>\n                </div>\n\n                <!-- Display the matching node(s) -->\n                <template v-if=\"!$store.state.resolution.reasoningResults\">\n                  <input\n                    readonly\n                    type=\"text\"\n                    class=\"form-control\"\n                    value=\"Click 'Reason' to reason over all phyloreferences.\"\n                  />\n                </template>\n                <template v-else>\n                  <template v-if=\"getResolvedNodes(phylogeny).length === 0\">\n                    <!-- We matched no nodes -->\n                    <input\n                      readonly\n                      type=\"text\"\n                      class=\"form-control\"\n                      :value=\"'No nodes could be resolved'\"\n                    />\n                  </template>\n                  <template v-if=\"getResolvedNodes(phylogeny).length === 1\">\n                    <!-- We matched exactly one node -->\n                    <input\n                      readonly\n                      type=\"text\"\n                      class=\"form-control\"\n                      :value=\"getResolvedNodes(phylogeny)[0]\"\n                    />\n                  </template>\n                  <template v-if=\"getResolvedNodes(phylogeny).length > 1\">\n                    <!-- We matched more than one node -->\n                    <input\n                      readonly\n                      type=\"text\"\n                      class=\"form-control\"\n                      :value=\"getResolvedNodes(phylogeny).length + ' nodes matched: ' + getResolvedNodes(phylogeny).join(', ')\"\n                    />\n                  </template>\n                </template>\n              </div>\n            </div>\n\n            <!-- Display the phylogeny -->\n            <div\n              class=\"card mt-4 p-2\"\n            >\n              <Phylotree\n                :phylogeny-index=\"String(phylogenyIndex)\"\n                :phylogeny=\"phylogeny\"\n                :phyloref=\"selectedPhyloref\"\n                :newick=\"phylogeny.newick\"\n                :selectedNodeLabel=\"getExpectedNodeLabel(phylogeny)\"\n              />\n            </div>\n          </div>\n        </div>\n      </template>\n    </template>\n  </div>\n</template>\n\n<script>\n/*\n * A view for displaying a phyloreference and how it resolves on all phylogenies.\n */\n\nimport Vue from 'vue';\nimport { mapState } from 'vuex';\nimport { has, cloneDeep } from 'lodash';\nimport { PhylogenyWrapper, PhylorefWrapper } from '@phyloref/phyx';\n\nimport ModifiedCard from '../cards/ModifiedCard.vue';\nimport Phylotree from '../phylogeny/Phylotree.vue';\nimport Citation from '../citations/Citation.vue';\nimport Specifier from '../specifiers/Specifier.vue';\n\nexport default {\n  name: 'PhylorefView',\n  components: {\n    ModifiedCard,\n    Phylotree,\n    Citation,\n    Specifier,\n  },\n  computed: {\n    /*\n     * The following properties allow you to get or set phyloref label, clade definition or curator comments.\n     */\n    selectedPhylorefLabel: {\n      get() { return this.selectedPhyloref.label; },\n      set(label) { this.$store.commit('setPhylorefProps', { phyloref: this.selectedPhyloref, label }); },\n    },\n    selectedCladeDefinition: {\n      get() { return this.selectedPhyloref.cladeDefinition; },\n      set(cladeDefinition) { this.$store.commit('setPhylorefProps', { phyloref: this.selectedPhyloref, cladeDefinition }); },\n    },\n    selectedCuratorComments: {\n      get() { return this.selectedPhyloref.curatorComments; },\n      set(curatorComments) { this.$store.commit('setPhylorefProps', { phyloref: this.selectedPhyloref, curatorComments }); },\n    },\n    computedPhylorefType() {\n      // Return the type of phyloreference based on internal/external specifier structure.\n      return this.$store.getters.getPhylorefType(this.selectedPhyloref);\n    },\n    phylorefURI() {\n      // Get the base URI of this phyloreference.\n      return this.$store.getters.getPhylorefId(this.selectedPhyloref);\n    },\n    noSpecifiers() {\n      // Return true if no specifiers are present.\n      return (\n        (this.selectedPhyloref.internalSpecifiers || []).length === 0\n        && (this.selectedPhyloref.externalSpecifiers || []).length === 0\n      );\n    },\n\n    ...mapState({\n      currentPhyx: state => state.phyx.currentPhyx,\n      loadedPhyx: state => state.phyx.loadedPhyx,\n      phylogenies: state => state.phyx.currentPhyx.phylogenies,\n      display: state => state.ui.display,\n      selectedPhylogeny: state => state.ui.display.phylogeny,\n      selectedPhyloref: state => state.ui.display.phyloref,\n    }),\n  },\n  methods: {\n    getExpectedResolution(phylogeny) {\n      // Get the expected resolution information for this phyloreference on\n      // a particular phylogeny.\n      return this.$store.getters.getExpectedResolution(\n        this.selectedPhyloref,\n        phylogeny,\n      );\n    },\n    setExpectedResolution(phylogeny, payload) {\n      // Set the expected resolution information for this phyloreference on\n      // a particular phylogeny.\n      this.$store.dispatch('setExpectedResolution', {\n        phyloref: this.selectedPhyloref,\n        phylogeny,\n        expectedResolutionData: payload,\n      });\n    },\n    getNodeLabels(phylogeny, nodeType) {\n      // Return a list of node labels in a particular phylogeny.\n      return new PhylogenyWrapper(phylogeny).getNodeLabels(nodeType).sort();\n    },\n    getExpectedNodeLabel(phylogeny) {\n      // Return the node label we expect this phyloref to resolve to on the\n      // specified phylogeny.\n      return this.$store.getters.getExpectedNodeLabel(\n        this.selectedPhyloref,\n        phylogeny,\n      );\n    },\n    getSpecifierLabel(specifier) {\n      // Return the specifier label of a particular specifier.\n      return PhylorefWrapper.getSpecifierLabel(specifier);\n    },\n    getResolvedNodes(phylogeny, flagReturnShortURIs = true) {\n      // Return the list of nodes on a particular phylogeny that this phyloreference\n      // has been determined to resolve on by JPhyloRef.\n      return this.$store.getters.getResolvedNodesForPhylogeny(phylogeny, this.selectedPhyloref, flagReturnShortURIs);\n    },\n  },\n};\n</script>\n","import { render, staticRenderFns } from \"./AdvancedOptionsModal.vue?vue&type=template&id=7c24260a&\"\nimport script from \"./AdvancedOptionsModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AdvancedOptionsModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCurationToolModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCurationToolModal.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <!-- Navigation bar at the top of the page -->\n    <nav class=\"navbar navbar-expand navbar-dark bg-dark mb-2 fixed-top\">\n      <a\n        class=\"navbar-brand\"\n        href=\"index.html\"\n      >\n        Klados\n      </a>\n      <small class=\"text-white\">{{version}}</small>\n      <div class=\"collapse navbar-collapse\">\n        <ul class=\"navbar-nav\">\n          <li class=\"nav-item\">\n            <a\n              class=\"nav-link\"\n              href=\"#\"\n              onclick=\"$('#about-curation-tool').modal()\"\n            >\n              About this tool\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a\n              class=\"nav-link\"\n              target=\"_blank\"\n              href=\"https://www.phyloref.org/\"\n            >\n              Phyloreferencing website\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a\n              class=\"nav-link\"\n              target=\"_blank\"\n              href=\"https://github.com/phyloref/curation-tool\"\n            >\n              Github repository\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a\n              class=\"nav-link\"\n              target=\"_blank\"\n              href=\"https://github.com/phyloref/curation-tool/issues\"\n            >\n              Report bug\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  </div>\n</template>\n\n<script>\n\n/*\n * The top navigation bar provides links to Phyloreferencing resources,\n * the about-us modal, and a link to report bugs.\n */\n\nexport default {\n  name: 'TopNavigationBar',\n  props: {\n    version: {\n      type: String,\n      default: '(unversioned)',\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedOptionsModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedOptionsModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3e6ccdca&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Include Vue and Vuex to set up them up correctly.\nimport Vue from 'vue';\nimport Vuex from 'vuex';\n\n// Import individual store modules.\nimport phylogeny from './modules/phylogeny';\nimport phyloref from './modules/phyloref';\nimport phyx from './modules/phyx';\nimport resolution from './modules/resolution';\nimport ui from './modules/ui';\nimport citations from './modules/citations';\n\nVue.use(Vuex);\n\nconst debug = process.env.NODE_ENV !== 'production';\n\nexport default new Vuex.Store({\n  state: {\n    CURATION_TOOL_VERSION: '0.1',\n  },\n  modules: {\n    phylogeny, phyloref, phyx, ui, citations, resolution,\n  },\n  strict: debug,\n});\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-SG\": \"cdab\",\n\t\"./en-SG.js\": \"cdab\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"sidebar-wrapper\"}},[_c('div',{staticClass:\"card bg-dark\"},[_c('div',{staticClass:\"list-group list-group-flush\"},[_c('a',{staticClass:\"list-group-item list-group-item-action bg-dark text-light disabled\",attrs:{\"href\":\"javascript: void(0)\"}},[_vm._v(\"\\n        Actions\\n      \")]),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\",\"onclick\":\"$('#file-input').trigger('click')\"}},[_vm._v(\"\\n        Read from local JSON file\\n      \")]),_c('input',{staticClass:\"d-none\",attrs:{\"id\":\"file-input\",\"type\":\"file\"},on:{\"change\":function($event){return _vm.loadPhyxFromFileInputById('#file-input')}}}),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\",\"onclick\":\"$('.phyx-examples').toggleClass('d-none')\"}},[_vm._v(\"\\n        Read an example file\\n      \")]),_vm._l((_vm.examplePHYXURLs),function(example){return _c('a',{staticClass:\"list-group-item list-group-item-action phyx-examples d-none small\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.loadPhyxFromURL(example.url)}}},[_vm._v(\"\\n        ● \"+_vm._s(example.title)+\"\\n      \")])}),_vm._m(0),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.downloadAsJSON()}}},[_vm._v(\"\\n        Save\\n        \"),_c('ModifiedIcon',{attrs:{\"message\":\"This Phyx file has been modified after it was loaded! Use 'Save' to save your changes.\",\"compare\":_vm.currentPhyx,\"compare-to\":_vm.loadedPhyx}})],1),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.downloadAsJSONLD()}}},[_vm._v(\"\\n        Export as ontology\\n      \")]),_c('a',{staticClass:\"list-group-item list-group-item-action start-reasoning\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.reasonOverPhyloreferences()}}},[(_vm.reasoningInProgress)?_c('span',[_vm._v(\"\\n          (Reasoning in progress)\\n        \")]):_c('span',[_vm._v(\"\\n          Resolve against phylogenies\\n        \")])]),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\",\"onclick\":\"$('#advanced-options').modal()\"}},[_vm._v(\"\\n        Advanced\\n      \")])],2)]),_c('div',{staticClass:\"card mt-2 bg-dark\"},[_c('div',{staticClass:\"list-group list-group-flush\"},[_c('a',{staticClass:\"list-group-item list-group-item-action bg-dark text-light disabled\",attrs:{\"href\":\"javascript: void(0)\"}},[_vm._v(\"\\n        Phyloreferences\\n      \")]),_c('a',{staticClass:\"list-group-item list-group-item-action\",class:{active: !_vm.selectedPhyloref && !_vm.selectedPhylogeny},attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', {})}}},[_c('em',[_vm._v(\"Summary\")])]),_vm._l((_vm.phylorefs),function(phyloref,phylorefIndex){return [_c('a',{staticClass:\"h6 list-group-item list-group-item-action border-dark\",class:{active: _vm.selectedPhyloref === phyloref},attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', {phyloref: phyloref})}}},[(phyloref.label)?_c('span',[_vm._v(\"\\n            \"+_vm._s(phyloref.label)+\"\\n          \")]):_c('span',[_vm._v(\"\\n            \"+_vm._s('Phyloreference ' + (phylorefIndex + 1))+\"\\n          \")]),_c('ModifiedIcon',{attrs:{\"message\":\"This phyloreference has been modified after it was loaded! Use 'Save' to save your changes.\",\"compare\":phyloref,\"compare-to\":_vm.loadedPhyx.phylorefs[phylorefIndex]}})],1),(_vm.selectedPhyloref === phyloref)?[_vm._l((phyloref.internalSpecifiers),function(specifier,specifierIndex){return _c('a',{staticClass:\"list-group-item list-group-item-action\",class:{'active border-dark': _vm.selectedSpecifier === specifier},attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', { phyloref: phyloref, specifier: specifier })}}},[_vm._v(\"\\n            ● \"),_c('strong',[_vm._v(\"Internal:\")]),_vm._v(\" \"+_vm._s(_vm.getSpecifierLabel(specifier))+\"\\n          \")])}),_vm._l((phyloref.externalSpecifiers),function(specifier,specifierIndex){return _c('a',{staticClass:\"list-group-item list-group-item-action\",class:{'active border-dark': _vm.selectedSpecifier === specifier},attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', { phyloref: phyloref, specifier: specifier })}}},[_vm._v(\"\\n            ● \"),_c('strong',[_vm._v(\"External:\")]),_vm._v(\" \"+_vm._s(_vm.getSpecifierLabel(specifier))+\"\\n          \")])}),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('addSpecifier', { phyloref: phyloref })}}},[_vm._v(\"\\n            ● \"),_c('em',[_vm._v(\"Add specifier\")])])]:_vm._e()]}),_c('a',{staticClass:\"list-group-item list-group-item-action border-dark\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('createEmptyPhyloref')}}},[_c('em',[_vm._v(\"Add phyloreference\")])])],2)]),_c('div',{staticClass:\"card mt-2 bg-dark\"},[_c('div',{staticClass:\"list-group list-group-flush\"},[_c('a',{staticClass:\"list-group-item list-group-item-action bg-dark text-light disabled\",attrs:{\"href\":\"javascript: void(0)\"}},[_vm._v(\"\\n        Phylogenies\\n      \")]),_vm._l((_vm.phylogenies),function(phylogeny,phylogenyIndex){return _c('a',{staticClass:\"h6 list-group-item list-group-item-action border-dark\",class:{active: _vm.selectedPhylogeny === phylogeny},attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', {phylogeny: phylogeny})}}},[_vm._v(\"\\n        \"+_vm._s(phylogeny.label || (\"Phylogeny \" + (phylogenyIndex + 1)))+\"\\n\\n        \"),_c('ModifiedIcon',{attrs:{\"message\":\"This phylogeny has been modified after it was loaded! Use 'Save' to save your changes.\",\"compare\":phylogeny,\"compare-to\":_vm.loadedPhyx.phylogenies[phylogenyIndex]}})],1)}),_c('a',{staticClass:\"list-group-item list-group-item-action border-dark\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('createEmptyPhylogeny')}}},[_c('em',[_vm._v(\"Add phylogeny\")])])],2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"list-group-item list-group-item-action phyx-examples d-none small\",attrs:{\"href\":\"javascript: void(0)\",\"onclick\":\"$('.phyx-examples').toggleClass('d-none')\"}},[_c('em',[_vm._v(\"Close list of examples\")])])}]\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=template&id=3e5bcf01&\"","import { render, staticRenderFns } from \"./ModifiedIcon.vue?vue&type=template&id=014d92a1&\"\nimport script from \"./ModifiedIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./ModifiedIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('TopNavigationBar',{attrs:{\"version\":_vm.version}}),_c('div',{attrs:{\"id\":\"wrapper\"}},[_c('Sidebar'),_c('div',{attrs:{\"id\":\"page-content-wrapper\"}},[(_vm.display.phyloref)?[_c('PhylorefView',{attrs:{\"phyloref\":_vm.display.phyloref,\"specifier\":_vm.display.specifier}})]:(_vm.display.phylogeny)?[_c('PhylogenyView',{attrs:{\"phylogeny\":_vm.display.phylogeny}})]:[_c('PhyxView')]],2)],1),_c('AboutCurationToolModal'),_c('AdvancedOptionsModal')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=template&id=3e6ccdca&\"","<template>\n  <div\n    v-if=\"dataChanged\"\n    class=\"float-right\"\n    :title=\"message\"\n  >\n    <FontAwesomeIcon\n      size=\"lg\"\n      icon=\"exclamation-circle\"\n      :style=\"{ color: '#FF8200' }\"\n    />\n  </div>\n</template>\n\n<script>\n/*\n * Creates an icon with a warning if a variable has changed in value as compared\n * to a comparison object. The icon is floated to the right and will display the\n * specified message if you hover over it.\n *\n */\n\nimport { isEqual } from 'lodash';\n\n// Use icons from Font Awesome.\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faExclamationCircle,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n\n// Set up exclamation circle for FontAwesome.\nlibrary.add(faExclamationCircle);\n\nexport default {\n  name: 'ModifiedIcon',\n  components: {\n    FontAwesomeIcon,\n  },\n  props: {\n    message: {\n      type: String,\n      default: 'This element has changed! Please remember to save it.',\n    },\n    compare: Object, /* Object to check for changes. */\n    compareTo: Object, /* Changes will be determined by comparing this to this.compare */\n  },\n  computed: {\n    dataChanged() { return !isEqual(this.compare, this.compareTo); },\n  },\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal\",attrs:{\"id\":\"about-curation-tool\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"\\n          About this tool\\n        \")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\\n            ×\\n          \")])])]),_c('div',{staticClass:\"modal-body col-md-12\"},[_c('p',[_vm._v(\"\\n          Klados was built as part of the\\n          \"),_c('a',{attrs:{\"href\":\"https://www.phyloref.org\"}},[_vm._v(\"\\n            Phyloreferencing project\\n          \")]),_vm._v(\",\\n          funded by the US National Science Foundation through collaborative\\n          grants \"),_c('a',{attrs:{\"href\":\"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458484\"}},[_vm._v(\"\\n            DBI-1458484\\n          \")]),_vm._v(\"\\n          and \"),_c('a',{attrs:{\"href\":\"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458604\"}},[_vm._v(\"\\n            DBI-1458604\\n          \")]),_vm._v(\".\\n          See \"),_c('a',{attrs:{\"href\":\"http://www.phyloref.org/about/#funding\"}},[_vm._v(\"\\n            Funding\\n          \")]),_vm._v(\" for details.\\n        \")]),_c('p',[_vm._v(\"Klados uses a number of open-source libraries, including:\")]),_c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://cli.vuejs.org/\"}},[_vm._v(\"\\n              Vue CLI 3\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://getbootstrap.com/\"}},[_vm._v(\"\\n              Bootstrap\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://jquery.com/\"}},[_vm._v(\"\\n              jQuery\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/veg/phylotree.js\"}},[_vm._v(\"\\n              phylotree.js\\n            \")]),_vm._v(\",\\n            published as \"),_c('a',{attrs:{\"href\":\"https://doi.org/10.1186/s12859-018-2283-2\"}},[_vm._v(\"\\n              Shank \"),_c('em',[_vm._v(\"et al\")]),_vm._v(\", 2018\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://d3js.org/\"}},[_vm._v(\"\\n              D3.js\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://momentjs.com/\"}},[_vm._v(\"\\n              Moment.js\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/eligrey/FileSaver.js\"}},[_vm._v(\"\\n              FileSaver.js\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://fontawesome.com/\"}},[_vm._v(\"\\n              Font Awesome\\n            \")])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"\\n          Close\\n        \")])])])])])}]\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCurationToolModal.vue?vue&type=template&id=7380edb9&\"","// Import Vue.\nimport Vue from 'vue';\n\n// Import Bootstrap.\nimport 'bootstrap';\nimport BootstrapVue from 'bootstrap-vue';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.min.css';\n\n// Use vue-resize to track when phylogenies are resized.\nimport VueResize from 'vue-resize';\nimport 'vue-resize/dist/vue-resize.css';\n\n// Import the main Vue file.\nimport App from './App.vue';\n\n// Import our Vuex store.\nimport store from './store';\n\n// Set up JQuery as a global.\nwindow.$ = require('jquery');\n\n// Load configuration from the 'src/config.js' file included with the source.\nVue.prototype.$config = require('./config.js');\n\n// Add additional features to Vue.\nVue.use(BootstrapVue);\nVue.use(VueResize);\n\n// Turn off the Vue production tip on the console on Vue startup.\nVue.config.productionTip = false;\n\n// Set up Vue object.\nexport default new Vue({\n  el: '#app',\n  store,\n  render: h => h(App),\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopNavigationBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopNavigationBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PhylorefView.vue?vue&type=template&id=4b46eed4&\"\nimport script from \"./PhylorefView.vue?vue&type=script&lang=js&\"\nexport * from \"./PhylorefView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand navbar-dark bg-dark mb-2 fixed-top\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"index.html\"}},[_vm._v(\"\\n      Klados\\n    \")]),_c('small',{staticClass:\"text-white\"},[_vm._v(_vm._s(_vm.version))]),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"collapse navbar-collapse\"},[_c('ul',{staticClass:\"navbar-nav\"},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"#\",\"onclick\":\"$('#about-curation-tool').modal()\"}},[_vm._v(\"\\n            About this tool\\n          \")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"target\":\"_blank\",\"href\":\"https://www.phyloref.org/\"}},[_vm._v(\"\\n            Phyloreferencing website\\n          \")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/phyloref/curation-tool\"}},[_vm._v(\"\\n            Github repository\\n          \")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/phyloref/curation-tool/issues\"}},[_vm._v(\"\\n            Report bug\\n          \")])])])])}]\n\nexport { render, staticRenderFns }","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopNavigationBar.vue?vue&type=template&id=80a3d178&\"","import { render, staticRenderFns } from \"./PhyxView.vue?vue&type=template&id=ec68fac6&\"\nimport script from \"./PhyxView.vue?vue&type=script&lang=js&\"\nexport * from \"./PhyxView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"form-group row\">\n    <label class=\"col-form-label col-md-2\">\n      {{ label }}\n    </label>\n    <div class=\"col-md-10\">\n      <template v-if=\"citations.length === 0\">\n        <a\n          class=\"form-control-plaintext\"\n          href=\"javascript:;\"\n          @click=\"citations.push({})\"\n        >\n          Add citation\n        </a>\n      </template>\n      <template v-for=\"(citation, citationIndex) of citations\">\n        <div class=\"input-group\">\n          <input\n            type=\"text\"\n            readonly\n            class=\"form-control hand-cursor\"\n            placeholder=\"Citation\"\n            :value=\"wrappedCitation(citation).toString() || 'Empty citation, click to enter'\"\n            @click=\"toggleCitationExpanded(citationIndex)\"\n          >\n          <div class=\"input-group-append\">\n            <a\n              v-if=\"wrappedCitation(citation).url\"\n              class=\"btn btn-primary\"\n              target=\"_blank\"\n              :href=\"wrappedCitation(citation).url\"\n            >\n              Open in new window\n            </a>\n            <a\n              class=\"btn btn-secondary\"\n              href=\"javascript:;\"\n              @click=\"toggleCitationExpanded(citationIndex)\"\n            >\n              Expand\n            </a>\n          </div>\n        </div>\n        <div\n          v-if=\"citationsExpanded.includes(citationIndex)\"\n          class=\"card mt-1\"\n        >\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">\n              Citation details\n            </h5>\n\n            <!-- Citation type -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"citation-type\"\n              >\n                Citation type\n              </label>\n              <div class=\"col-md-10\">\n                <select\n                  id=\"citation-type\"\n                  v-model=\"citation.type\"\n                  class=\"form-control\"\n                  @change=\"updateCitations()\"\n                >\n                  <option value=\"article\">\n                    Article\n                  </option>\n                  <option value=\"book\">\n                    Book\n                  </option>\n                  <option value=\"book_section\">\n                    Book section\n                  </option>\n                </select>\n              </div>\n            </div>\n\n            <!-- Authors (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"authors\"\n              >\n                Authors (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <textarea\n                  id=\"authors\"\n                  rows=\"3\"\n                  class=\"form-control\"\n                  placeholder=\"Enter authors here\"\n                  :value=\"wrappedCitation(citation).authorsAsStrings.join('\\n')\"\n                  @change=\"wrappedCitation(citation).authorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); updateCitations();\"\n                />\n              </div>\n            </div>\n\n            <!-- Editors (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"editors\"\n              >\n                Editors (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <textarea\n                  id=\"editors\"\n                  rows=\"2\"\n                  class=\"form-control\"\n                  placeholder=\"Enter editors here\"\n                  :value=\"wrappedCitation(citation).editorsAsStrings.join('\\n')\"\n                  @change=\"wrappedCitation(citation).editorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); updateCitations();\"\n                />\n              </div>\n            </div>\n\n            <!-- Series editors (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"series-editors\"\n              >\n                Series editors (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <textarea\n                  id=\"series-editors\"\n                  rows=\"2\"\n                  class=\"form-control\"\n                  placeholder=\"Enter series editors here\"\n                  :value=\"wrappedCitation(citation).seriesEditorsAsStrings.join('\\n')\"\n                  @change=\"wrappedCitation(citation).seriesEditorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); updateCitations();\"\n                />\n              </div>\n            </div>\n\n            <!-- Title -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"title\"\n              >\n                Title\n              </label>\n              <div class=\"col-md-10\">\n                <input\n                  id=\"title\"\n                  v-model=\"citation.title\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter title here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n            </div>\n\n            <!-- Section title -->\n            <div\n              v-if=\"citation.type === 'book_section'\"\n              class=\"form-group row\"\n            >\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"section-title\"\n              >\n                Section title\n              </label>\n              <div class=\"col-md-10\">\n                <input\n                  id=\"section-title\"\n                  v-model=\"citation.section_title\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter section title here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n            </div>\n\n            <!-- Publication year -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"year\"\n              >\n                Year\n              </label>\n              <div class=\"col-md-4\">\n                <input\n                  id=\"year\"\n                  v-model=\"citation.year\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter year here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n\n              <!-- Edition -->\n              <template v-if=\"citation.type !== 'article'\">\n                <label\n                  class=\"col-form-label col-md-2\"\n                  for=\"edition\"\n                >\n                  Edition\n                </label>\n                <div class=\"col-md-4\">\n                  <input\n                    id=\"edition\"\n                    v-model=\"citation.edition\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"Enter edition here\"\n                    @change=\"updateCitations()\"\n                  >\n                </div>\n              </template>\n            </div>\n\n            <!-- Pages and figure -->\n            <div class=\"form-group row\">\n              <!-- Pages -->\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"pages\"\n              >\n                Pages\n              </label>\n              <div class=\"col-md-4\">\n                <input\n                  id=\"pages\"\n                  v-model=\"citation.pages\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter pages here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n\n              <!-- Figure -->\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"figure\"\n              >\n                Figure\n              </label>\n              <div class=\"col-md-4\">\n                <input\n                  id=\"figure\"\n                  v-model=\"citation.figure\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter figure number here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n            </div>\n\n            <!-- Only for article entries! -->\n            <template v-if=\"citation.type === 'article'\">\n              <!-- Journal title -->\n              <div class=\"form-group row\">\n                <label\n                  class=\"col-form-label col-md-2\"\n                  for=\"journal-title\"\n                >\n                  Journal title\n                </label>\n                <div class=\"col-md-10\">\n                  <input\n                    id=\"journal-title\"\n                    v-model=\"wrappedCitation(citation).journal.name\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"Enter journal title here\"\n                    @change=\"updateCitations()\"\n                  >\n                </div>\n              </div>\n\n              <!-- Journal volume and issue -->\n              <div class=\"form-group row\">\n                <!-- Journal volume -->\n                <label\n                  class=\"col-form-label col-md-2\"\n                  for=\"journal-volume\"\n                >\n                  Volume\n                </label>\n                <div class=\"col-md-4\">\n                  <input\n                    id=\"journal-volume\"\n                    v-model=\"wrappedCitation(citation).journal.volume\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"Enter journal volume number here\"\n                    @change=\"updateCitations()\"\n                  >\n                </div>\n\n                <!-- Journal issue/number -->\n                <label\n                  class=\"col-form-label col-md-2\"\n                  for=\"journal-issue\"\n                >\n                  Issue number\n                </label>\n                <div class=\"col-md-4\">\n                  <input\n                    id=\"journal-issue\"\n                    v-model=\"wrappedCitation(citation).journal.number\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"Enter journal issue number here\"\n                    @change=\"updateCitations()\"\n                  >\n                </div>\n              </div>\n\n              <!-- ISSNs (one per line) -->\n              <div class=\"form-group row\">\n                <label\n                  class=\"col-form-label col-md-2\"\n                  for=\"issns\"\n                >\n                  ISSNs (one per line)\n                </label>\n                <div class=\"col-md-10\">\n                  <div class=\"input-group\">\n                    <textarea\n                      id=\"issns\"\n                      rows=\"1\"\n                      class=\"form-control\"\n                      placeholder=\"Enter ISSNs here\"\n                      :value=\"wrappedCitation(wrappedCitation(citation).journal).issns.join('\\n')\"\n                      @change=\"wrappedCitation(wrappedCitation(citation).journal).issns = $event.target.value.split(/\\s*\\n\\s*/); updateCitations()\"\n                    />\n                    <div class=\"input-group-append\">\n                      <a\n                        class=\"btn btn-outline-secondary align-middle\"\n                        target=\"_blank\"\n                        style=\"vertical-align: middle\"\n                        :href=\"'https://www.worldcat.org/search?q=n2%3A' + wrappedCitation(wrappedCitation(citation).journal).issns[0]\"\n                        :class=\"{disabled: (wrappedCitation(wrappedCitation(citation).journal).issns || []).length === 0}\"\n                      >\n                        Open in new window\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n\n            <!-- ISBNs (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"isbns\"\n              >\n                ISBNs (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <div class=\"input-group\">\n                  <textarea\n                    id=\"isbns\"\n                    rows=\"1\"\n                    class=\"form-control\"\n                    placeholder=\"Enter ISBNs here\"\n                    :value=\"wrappedCitation(wrappedCitation(citation).journal).isbns.join('\\n')\"\n                    @change=\"wrappedCitation(wrappedCitation(citation).journal).isbns = $event.target.value.split(/\\s*\\n\\s*/); updateCitations()\"\n                  />\n                  <div class=\"input-group-append\">\n                    <a\n                      class=\"btn btn-outline-secondary align-middle\"\n                      target=\"_blank\"\n                      style=\"vertical-align: middle\"\n                      :href=\"'https://www.worldcat.org/search?q=bn%3A' + wrappedCitation(wrappedCitation(citation).journal).isbns[0]\"\n                      :class=\"{disabled: (wrappedCitation(wrappedCitation(citation).journal).isbns || []).length === 0}\"\n                    >\n                      Open in new window\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Publisher and city -->\n            <div class=\"form-group row\">\n              <!-- Publisher -->\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"publisher\"\n              >\n                Publisher\n              </label>\n              <div class=\"col-md-4\">\n                <input\n                  id=\"publisher\"\n                  v-model=\"citation.publisher\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter publisher here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n\n              <!-- Publication city -->\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"city\"\n              >\n                City\n              </label>\n              <div class=\"col-md-4\">\n                <input\n                  id=\"city\"\n                  v-model=\"citation.city\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter publication city here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n            </div>\n\n            <!-- DOIs (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"doi\"\n              >\n                DOIs (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <div class=\"input-group\">\n                  <textarea\n                    id=\"doi\"\n                    rows=\"1\"\n                    class=\"form-control\"\n                    placeholder=\"Enter DOIs here\"\n                    :value=\"wrappedCitation(citation).doisAsStrings.join('\\n')\"\n                    @change=\"wrappedCitation(citation).doisAsStrings = $event.target.value.split(/\\s*\\n\\s*/); updateCitations()\"\n                  />\n                  <div class=\"input-group-append\">\n                    <a\n                      class=\"btn btn-outline-secondary align-middle\"\n                      target=\"_blank\"\n                      style=\"vertical-align: middle\"\n                      :href=\"wrappedCitation(citation).firstDOI ? 'http://doi.org/' + wrappedCitation(citation).firstDOI : undefined\"\n                      :class=\"{disabled: !wrappedCitation(citation).firstDOI}\"\n                    >\n                      Open in new window\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- URLs (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"urls\"\n              >\n                URLs (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <div class=\"input-group\">\n                  <textarea\n                    id=\"urls\"\n                    rows=\"1\"\n                    class=\"form-control\"\n                    placeholder=\"Enter URLs here\"\n                    :value=\"wrappedCitation(citation).urlsAsStrings.join('\\n')\"\n                    @change=\"wrappedCitation(citation).urlsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); updateCitations()\"\n                  />\n                  <div class=\"input-group-append\">\n                    <a\n                      class=\"btn btn-outline-secondary align-middle\"\n                      target=\"_blank\"\n                      style=\"vertical-align: middle\"\n                      :href=\"wrappedCitation(citation).firstURL\"\n                      :class=\"{disabled: !wrappedCitation(citation).firstURL}\"\n                    >\n                      Open in new window\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * Displays a citation as a textfield/expanded field.\n */\n\nimport Vue from 'vue';\nimport {\n  has, isEmpty, isEqual, cloneDeep, pickBy,\n} from 'lodash';\n\nexport default {\n  name: 'Citation',\n  props: {\n    label: { /* The label for this citation */\n      type: String,\n      default: 'Citation',\n    },\n    object: { /* The object containing the citation to display and edit */\n      type: Object,\n      required: true,\n    },\n    citationKey: { /* The key on the object containing the citation to display and edit */\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    // Set up a citations variable that has to be an array. It may actually be a\n    // single object in the JSON file; in that case, we convert it into an array.\n    // In any case, we want to clone it -- changes in this component shouldn't\n    // propagate to the model directly, but should go through this.updateCitations().\n    let citations = this.getCitationsFromProps();\n\n    return {\n      // Which citations have been expanded (by index).\n      citationsExpanded: [],\n\n      // Copy of the citations provided to this component.\n      citations,\n\n      // Items used to store new items.\n      newDOI: '',\n    };\n  },\n  watch: {\n    citations() {\n      this.updateCitations();\n    },\n    object() {\n      this.citations = this.getCitationsFromProps();\n    },\n    citationKey() {\n      this.citations = this.getCitationsFromProps();\n    }\n  },\n  methods: {\n    getCitationsFromProps() {\n      // Returns the citations from the properties provided to this object.\n      //\n      // The trick is that this needs to always be an array, so we turn it into\n      // an array of a single element if we need to.\n\n      if (Array.isArray(this.object[this.citationKey])) {\n        return cloneDeep(this.object[this.citationKey]);\n      } else if (isEmpty(this.object[this.citationKey])) {\n        return [];\n      }\n\n      return [cloneDeep(this.object[this.citationKey])];\n    },\n    updateCitations() {\n      // If our citations have changed, update the state of the citation they\n      // point to.\n      if (isEmpty(this.citations)) return;\n\n      // Exception: this component will ALWAYS add a 'journal' key to the citation,\n      // even if it is empty. We should eliminate that to make the comparison.\n      const ourCitations = cloneDeep(this.citations).map(\n        (citation) => {\n          if (has(citation, 'journal') && isEqual(pickBy(citation.journal), {})) {\n            delete citation.journal;\n          }\n          return citation;\n        },\n      );\n\n      // Exception: we *always* store citations as an array, but\n      // this.object[this.citationKey] might be an object. Let's check for that.\n      if (isEqual(ourCitations, this.object[this.citationKey])) return;\n      if (ourCitations.length === 1) {\n        if (isEqual(ourCitations[0], this.object[this.citationKey])) return;\n\n        console.log('Updating citations as ', ourCitations[0], ' differs from ', this.object[this.citationKey]);\n        this.$store.commit('setCitations', {\n          object: this.object,\n          citationKey: this.citationKey,\n          citations: ourCitations[0],\n        });\n      } else {\n        console.log('Updating citations as ', ourCitations, ' differs from ', this.object[this.citationKey]);\n        this.$store.commit('setCitations', {\n          object: this.object,\n          citationKey: this.citationKey,\n          citations: ourCitations,\n        });\n      }\n    },\n    toggleCitationExpanded(citationIndex) {\n      // Given the index of a citation, either expand it or collapse it.\n      // (The citation is expanded if its index is in the citationsExpanded list)\n      if (this.citationsExpanded.includes(citationIndex)) this.citationsExpanded = this.citationsExpanded.filter(index => index !== citationIndex);\n      else this.citationsExpanded.push(citationIndex);\n    },\n    wrappedCitation(citation) {\n      // Return the citation\n      return this.$store.getters.getWrappedCitation(citation);\n    },\n  },\n};\n</script>\n\n<style>\n.hand-cursor {\n  cursor: pointer;\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal\",attrs:{\"id\":\"advanced-options\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(\"\\n          The following is a representation of this PHYX in JSON. You\\n          can edit the JSON directly if you like.\\n        \")]),(_vm.JSONParsingError)?_c('div',{staticClass:\"card text-white bg-danger mb-2\"},[_c('div',{staticClass:\"card-body\"},[_c('p',{staticClass:\"card-text\"},[_vm._v(\"\\n              This JSON could not be parsed: \"+_vm._s(_vm.JSONParsingError)+\"\\n            \")])])]):_vm._e(),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.phyxAsJSON),expression:\"phyxAsJSON\",modifiers:{\"lazy\":true}}],staticStyle:{\"width\":\"100%\",\"margin\":\"auto\"},attrs:{\"id\":\"test-content\",\"rows\":\"10\"},domProps:{\"value\":(_vm.phyxAsJSON)},on:{\"change\":function($event){_vm.phyxAsJSON=$event.target.value}}})]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.downloadAsJSONLD()}}},[_vm._v(\"\\n          Download as JSON-LD\\n        \")]),_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"\\n          Close\\n        \")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"\\n          Advanced options\\n        \")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\\n            ×\\n          \")])])])}]\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedOptionsModal.vue?vue&type=template&id=7c24260a&\"","<template>\n  <div>\n    <div class=\"card border-dark\">\n      <h5 class=\"card-header border-dark\">\n        Phyloreference collection\n      </h5>\n      <div class=\"card-body\">\n        <form>\n          <!-- Phyx collection name (if we have more than one phyloref!) -->\n          <div class=\"form-group row\" v-if=\"phylorefs.length > 1 || phyx.title\">\n            <label\n              for=\"phyx-label\"\n              class=\"col-form-label col-md-2\"\n            >\n              Collection name\n            </label>\n            <div class=\"col-md-10\">\n              <input\n                id=\"phyx-label\"\n                v-model=\"phyx.title\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Enter title here\"\n              >\n            </div>\n          </div>\n\n          <!-- Curated by information -->\n          <div class=\"form-group row\">\n            <label\n              for=\"curator-name\"\n              class=\"col-form-label col-md-2\"\n            >\n              Curated by\n            </label>\n            <div class=\"col-md-4\">\n              <input\n                id=\"curator-name\"\n                v-model=\"phyxCurator\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Curator name\"\n              >\n            </div>\n            <div class=\"col-md-3\">\n              <input\n                id=\"curator-email\"\n                v-model=\"phyxCuratorEmail\"\n                type=\"email\"\n                class=\"form-control\"\n                placeholder=\"Curator e-mail address\"\n              >\n            </div>\n            <div class=\"col-md-3 input-group\">\n              <input\n                id=\"external-reference\"\n                v-model=\"phyxCuratorORCID\"\n                class=\"form-control\"\n                placeholder=\"Curator ORCID\"\n              >\n              <div class=\"input-group-append\">\n                <a\n                  class=\"btn btn-outline-secondary\"\n                  target=\"_blank\"\n                  :href=\"'https://orcid.org/' + phyxCuratorORCID\"\n                >\n                  Open in new window\n                </a>\n              </div>\n            </div>\n          </div>\n\n          <!-- Default nomenclatural code -->\n          <div class=\"form-group row\">\n            <label\n              for=\"default-nomen-code\"\n              class=\"col-form-label col-md-2\"\n            >\n              Default nomenclatural code\n            </label>\n            <div class=\"col-md-10\">\n              <select\n                id=\"nomen-code\"\n                :value=\"$store.getters.getDefaultNomenCodeURI\"\n                @change=\"$store.commit('setDefaultNomenCodeURI', { defaultNomenclaturalCodeURI: $event.target.value })\"\n                class=\"form-control\"\n              >\n                <option\n                  v-for=\"(nomenCode, nomenCodeIndex) of nomenCodes\"\n                  :value=\"nomenCode.uri\"\n                >\n                  {{ nomenCode.label }}\n                </option>\n              </select>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n    <div class=\"card border-dark mt-2\">\n      <h5 class=\"card-header border-dark\">\n        Phyloreferences in this file\n      </h5>\n      <div class=\"card-body p-0\">\n        <table class=\"table table-hover table-flush\">\n          <thead>\n            <th>&nbsp;</th>\n            <th>Phyloreference</th>\n            <th>Type</th>\n            <th>Internal specifiers</th>\n            <th>External specifiers</th>\n            <th v-for=\"(phylogeny, phylogenyIndex) of phylogenies\">\n              {{ getPhylogenyLabel(phylogeny) }}\n            </th>\n          </thead>\n          <tbody>\n            <tr\n              v-if=\"phylorefs.length === 0\"\n              class=\"bg-white\"\n            >\n              <td :colspan=\"4 + phylogenies.length\">\n                <Center><em>No phyloreferences in this file</em></Center>\n              </td>\n            </tr>\n            <tr v-for=\"(phyloref, phylorefIndex) of phylorefs\">\n              <td>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm btn-danger\"\n                  @click=\"deletePhyloref(phyloref)\"\n                >&#x2715;</button>\n              </td>\n              <td>\n                <a\n                  href=\"javascript: void(0)\"\n                  @click=\"$store.commit('changeDisplay', { phyloref })\"\n                >\n                  {{ getPhylorefLabel(phyloref) }}\n                </a>\n              </td>\n              <td>{{ $store.getters.getPhylorefType(phyloref) }}</td>\n              <td>{{ (phyloref.internalSpecifiers || []).length }}</td>\n              <td>{{ (phyloref.externalSpecifiers || []).length }}</td>\n              <td v-for=\"(phylogeny, phylogenyIndex) of phylogenies\">\n                <template v-if=\"!getPhylorefExpectedNodeLabel(phyloref, phylogeny)\">\n                  <strong>No expected node</strong>\n                  <template v-if=\"hasReasoningResults(phyloref)\">\n                    <template v-if=\"getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length === 0\">\n                      but <strong>did not resolve to any node</strong>\n                    </template>\n                    <template v-else-if=\"getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length > 1\">\n                      but <strong>resolved to multiple nodes: {{ getNodeLabelsResolvedByPhyloref(phyloref, phylogeny) }}</strong>\n                    </template>\n                    <template v-else>\n                      and resolved to {{ getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0]||\"an unlabeled node\" }}\n                    </template>\n                  </template>\n                </template>\n                <template v-else>\n                  Expected to resolve to node {{getPhylorefExpectedNodeLabel(phyloref, phylogeny)}}\n                  <template v-if=\"hasReasoningResults(phyloref)\">\n                    <template v-if=\"getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length === 0\">\n                      but <strong>did not resolve to any node</strong>\n                    </template>\n                    <template v-else-if=\"getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length > 1\">\n                      but <strong>resolved to multiple nodes: {{ getNodeLabelsResolvedByPhyloref(phyloref, phylogeny) }}</strong>\n                    </template>\n                    <template v-else>\n                      and resolved\n                      <template v-if=\"getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0] === getPhylorefExpectedNodeLabel(phyloref, phylogeny)\">\n                        correctly\n                      </template>\n                      <template v-else>\n                        <strong>incorrectly</strong>\n                      </template>\n                      to {{ getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0]||\"an unlabeled node\" }}\n                    </template>\n                  </template>\n                </template>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"card-footer\">\n        <div\n          class=\"btn-group\"\n          role=\"group\"\n          area-label=\"Phyx file management\"\n        >\n          <button\n            class=\"btn btn-primary\"\n            href=\"javascript:;\"\n            @click=\"$store.commit('createEmptyPhyloref')\"\n          >\n            Add phyloreference\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card border-dark mt-2\">\n      <h5 class=\"card-header border-dark\">\n        Phylogenies in this file\n      </h5>\n      <div class=\"card-body p-0\">\n        <table class=\"table table-hover table-flush\">\n          <thead>\n            <th>&nbsp;</th>\n            <th>Phylogeny</th>\n            <th>Description</th>\n          </thead>\n          <tbody>\n            <tr\n              v-if=\"phylogenies.length === 0\"\n              class=\"bg-white\"\n            >\n              <td :colspan=\"3\">\n                <Center><em>No phylogenies in this file</em></Center>\n              </td>\n            </tr>\n            <tr v-for=\"(phylogeny, phylogenyIndex) of phylogenies\">\n              <td>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm btn-danger\"\n                  @click=\"deletePhylogeny(phylogeny)\"\n                >&#x2715;</button>\n              </td>\n              <td>\n                <a\n                  href=\"javascript: void(0)\"\n                  @click=\"$store.commit('changeDisplay', { phylogeny })\"\n                >\n                  {{ getPhylogenyLabel(phylogeny) }}\n                </a>\n              </td>\n              <td>\n                {{ phylogeny.description }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"card-footer\">\n        <div\n          class=\"btn-group\"\n          role=\"group\"\n          area-label=\"Phylogeny management\"\n        >\n          <button\n            class=\"btn btn-primary\"\n            href=\"javascript:;\"\n            @click=\"$store.commit('createEmptyPhylogeny')\"\n          >\n            Add phylogeny\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * Display a summary of the entire Phyx file.\n */\nimport { mapState } from 'vuex';\nimport { has } from 'lodash';\nimport { PhylorefWrapper, PhylogenyWrapper, TaxonNameWrapper } from '@phyloref/phyx';\n\nexport default {\n  name: 'PhyxView',\n  computed: {\n    nomenCodes: () => TaxonNameWrapper.getNomenclaturalCodes(),\n    phyxCurator: {\n      get() { return this.phyx.curator; },\n      set(name) { this.$store.commit('setCurator', { name }); },\n    },\n    phyxCuratorEmail: {\n      get() { return this.phyx.curatorEmail; },\n      set(email) { this.$store.commit('setCurator', { email }); },\n    },\n    phyxCuratorORCID: {\n      get() { return this.phyx.curatorORCID; },\n      set(orcid) { this.$store.commit('setCurator', { orcid }); },\n    },\n    ...mapState({\n      phyx: state => state.phyx.currentPhyx,\n      phylorefs: state => state.phyx.currentPhyx.phylorefs,\n      phylogenies: state => state.phyx.currentPhyx.phylogenies,\n    })\n  },\n  methods: {\n    getPhylogenyLabel(phylogeny) {\n      return new PhylogenyWrapper(phylogeny).label ||\n        `Phylogeny ${this.phylogenies.indexOf(phylogeny) + 1}`;\n    },\n    getPhylorefLabel(phyloref) {\n      return new PhylorefWrapper(phyloref).label ||\n        `Phyloref ${this.phylorefs.indexOf(phyloref) + 1}`;\n    },\n    hasReasoningResults(phyloref) {\n      if (!has(this.$store.state.resolution.reasoningResults, 'phylorefs')) return false;\n\n      const phylorefURI = this.$store.getters.getPhylorefId(phyloref);\n      return has(this.$store.state.resolution.reasoningResults.phylorefs, phylorefURI);\n    },\n    getPhylorefExpectedNodeLabel(phyloref, phylogeny) {\n      // Return a list of nodes that a phyloreference is expected to resolve to.\n      return this.$store.getters.getExpectedNodeLabel(\n        phyloref,\n        phylogeny\n      );\n    },\n    getNodesById(phylogeny, nodeId) {\n      // Return all node labels with this nodeId in this phylogeny.\n      const parsed = new PhylogenyWrapper(phylogeny).getParsedNewickWithIRIs(\n        this.$store.getters.getPhylogenyId(phylogeny),\n        d3.layout.newick_parser,\n      );\n\n      function searchNode(node, results = []) {\n        if (has(node, '@id') && node['@id'] === nodeId) {\n          results.push(node);\n        }\n        if (has(node, 'children')) {\n          node.children.forEach(child => searchNode(child, results));\n        }\n        return results;\n      }\n\n      if (!has(parsed, 'json')) return [];\n      return searchNode(parsed.json);\n    },\n    getNodeLabelsResolvedByPhyloref(phyloref, phylogeny) {\n      // Converts node IDs to node labels, if present.\n      const resolvedNodes = this.$store.getters.getResolvedNodesForPhylogeny(\n        phylogeny, phyloref, false,\n      );\n\n      return resolvedNodes\n        .map(nodeId => this.getNodesById(phylogeny, nodeId))\n        .reduce((a, b) => a.concat(b), [])\n        .map(node => node.name || '(unlabelled)');\n    },\n    deletePhyloref(phyloref) {\n      const warningString = `Are you sure you wish to delete phyloreference '${\n        this.getPhylorefLabel(phyloref)\n      }'?`;\n      if(confirm(warningString)) {\n        this.$store.commit('deletePhyloref', { phyloref });\n      }\n    },\n    deletePhylogeny(phylogeny) {\n      const warningString = `Are you sure you wish to delete phylogeny '${\n        this.getPhylogenyLabel(phylogeny)\n      }'?`;\n      if(confirm(warningString)) {\n        this.$store.commit('deletePhylogeny', { phylogeny });\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Phylotree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Phylotree.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Phylotree.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Phylotree.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhyxView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhyxView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Citation.vue?vue&type=template&id=65e39354&\"\nimport script from \"./Citation.vue?vue&type=script&lang=js&\"\nexport * from \"./Citation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Citation.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- Sidebar showing phyloreferences and phylogenies -->\n  <div id=\"sidebar-wrapper\">\n    <!-- Sidebar section: information about this particular PHYX file -->\n    <div class=\"card bg-dark\">\n      <div class=\"list-group list-group-flush\">\n        <a\n          class=\"list-group-item list-group-item-action bg-dark text-light disabled\"\n          href=\"javascript: void(0)\"\n        >\n          Actions\n        </a>\n\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          onclick=\"$('#file-input').trigger('click')\"\n        >\n          Read from local JSON file\n        </a>\n        <input\n          id=\"file-input\"\n          type=\"file\"\n          class=\"d-none\"\n          @change=\"loadPhyxFromFileInputById('#file-input')\"\n        >\n\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          onclick=\"$('.phyx-examples').toggleClass('d-none')\"\n        >\n          Read an example file\n        </a>\n\n        <a\n          v-for=\"example of examplePHYXURLs\"\n          href=\"javascript: void(0)\"\n          class=\"list-group-item list-group-item-action phyx-examples d-none small\"\n          @click=\"loadPhyxFromURL(example.url)\"\n        >\n          &#9679; {{ example.title }}\n        </a>\n        <a\n          class=\"list-group-item list-group-item-action phyx-examples d-none small\"\n          href=\"javascript: void(0)\"\n          onclick=\"$('.phyx-examples').toggleClass('d-none')\"\n        >\n          <em>Close list of examples</em>\n        </a>\n\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          @click=\"downloadAsJSON()\"\n        >\n          Save\n          <ModifiedIcon\n            message=\"This Phyx file has been modified after it was loaded! Use 'Save' to save your changes.\"\n            :compare=\"currentPhyx\"\n            :compare-to=\"loadedPhyx\"\n          />\n        </a>\n\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          @click=\"downloadAsJSONLD()\"\n        >\n          Export as ontology\n        </a>\n\n        <a\n          class=\"list-group-item list-group-item-action start-reasoning\"\n          href=\"javascript: void(0)\"\n          @click=\"reasonOverPhyloreferences()\"\n        >\n          <span v-if=\"reasoningInProgress\">\n            (Reasoning in progress)\n          </span>\n          <span v-else>\n            Resolve against phylogenies\n          </span>\n        </a>\n\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          onclick=\"$('#advanced-options').modal()\"\n        >\n          Advanced\n        </a>\n      </div>\n    </div>\n\n    <!-- Sidebar section: list of phyloreferences in PHYX file -->\n    <div class=\"card mt-2 bg-dark\">\n      <!-- List of phyloreferences -->\n      <div class=\"list-group list-group-flush\">\n        <a\n          href=\"javascript: void(0)\"\n          class=\"list-group-item list-group-item-action bg-dark text-light disabled\"\n        >\n          Phyloreferences\n        </a>\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          :class=\"{active: !selectedPhyloref && !selectedPhylogeny}\"\n          @click=\"$store.commit('changeDisplay', {})\"\n        >\n          <em>Summary</em>\n        </a>\n        <template v-for=\"(phyloref, phylorefIndex) of phylorefs\">\n          <a\n            href=\"javascript: void(0)\"\n            class=\"h6 list-group-item list-group-item-action border-dark\"\n            :class=\"{active: selectedPhyloref === phyloref}\"\n            @click=\"$store.commit('changeDisplay', {phyloref})\"\n          >\n            <span v-if=\"phyloref.label\">\n              {{ phyloref.label }}\n            </span>\n            <span v-else>\n              {{ 'Phyloreference ' + (phylorefIndex + 1) }}\n            </span>\n\n            <!-- Add a warning if this phyloreference has changed -->\n            <ModifiedIcon\n              message=\"This phyloreference has been modified after it was loaded! Use 'Save' to save your changes.\"\n              :compare=\"phyloref\"\n              :compare-to=\"loadedPhyx.phylorefs[phylorefIndex]\"\n            />\n          </a>\n\n          <!-- Add the following information if this phyloreference is selected -->\n          <template v-if=\"selectedPhyloref === phyloref\">\n            <a\n              v-for=\"(specifier, specifierIndex) of phyloref.internalSpecifiers\"\n              href=\"javascript: void(0)\"\n              class=\"list-group-item list-group-item-action\"\n              :class=\"{'active border-dark': selectedSpecifier === specifier}\"\n              @click=\"$store.commit('changeDisplay', { phyloref, specifier })\"\n            >\n              &#9679; <strong>Internal:</strong> {{ getSpecifierLabel(specifier) }}\n            </a>\n\n            <a\n              v-for=\"(specifier, specifierIndex) of phyloref.externalSpecifiers\"\n              href=\"javascript: void(0)\"\n              class=\"list-group-item list-group-item-action\"\n              :class=\"{'active border-dark': selectedSpecifier === specifier}\"\n              @click=\"$store.commit('changeDisplay', { phyloref, specifier })\"\n            >\n              &#9679; <strong>External:</strong> {{ getSpecifierLabel(specifier) }}\n            </a>\n            <a\n              href=\"javascript: void(0)\"\n              class=\"list-group-item list-group-item-action\"\n              @click=\"$store.commit('addSpecifier', { phyloref })\"\n            >\n              &#9679; <em>Add specifier</em>\n            </a>\n          </template>\n        </template>\n\n        <!-- Let users add phyloreferences directly from the sidebar -->\n        <a\n          class=\"list-group-item list-group-item-action border-dark\"\n          href=\"javascript: void(0)\"\n          @click=\"$store.commit('createEmptyPhyloref')\"\n        >\n          <em>Add phyloreference</em>\n        </a>\n      </div>\n    </div>\n\n    <!-- Sidebar section: list of phylogenies in PHYX file -->\n    <div class=\"card mt-2 bg-dark\">\n      <div class=\"list-group list-group-flush\">\n        <a\n          href=\"javascript: void(0)\"\n          class=\"list-group-item list-group-item-action bg-dark text-light disabled\"\n        >\n          Phylogenies\n        </a>\n        <a\n          v-for=\"(phylogeny, phylogenyIndex) of phylogenies\"\n          href=\"javascript: void(0)\"\n          class=\"h6 list-group-item list-group-item-action border-dark\"\n          :class=\"{active: selectedPhylogeny === phylogeny}\"\n          @click=\"$store.commit('changeDisplay', {phylogeny})\"\n        >\n          {{ phylogeny.label || `Phylogeny ${phylogenyIndex + 1}` }}\n\n          <!-- Add a warning if this phylogeny has changed -->\n          <ModifiedIcon\n            message=\"This phylogeny has been modified after it was loaded! Use 'Save' to save your changes.\"\n            :compare=\"phylogeny\"\n            :compare-to=\"loadedPhyx.phylogenies[phylogenyIndex]\"\n          />\n        </a>\n        <a\n          class=\"list-group-item list-group-item-action border-dark\"\n          href=\"javascript: void(0)\"\n          @click=\"$store.commit('createEmptyPhylogeny')\"\n        >\n          <em>Add phylogeny</em>\n        </a>\n      </div>\n    </div>\n  </div><!-- End of sidebar -->\n</template>\n\n<script>\n/*\n * Creates the sidebar that displays:\n *  - Menu items (save, load, reason)\n *  - A list of all phyloreferences and a button to add more phylorefs.\n *  - A list of all phylogenies and a button to add more phylogenies.\n */\n\nimport Vue from 'vue';\nimport { has } from 'lodash';\nimport { mapState, mapGetters } from 'vuex';\nimport { saveAs } from 'filesaver.js-npm';\nimport { signer } from 'x-hub-signature';\nimport zlib from 'zlib';\n\nimport { PhyxWrapper, PhylorefWrapper, TaxonomicUnitWrapper } from '@phyloref/phyx';\n\nimport ModifiedIcon from '../icons/ModifiedIcon.vue';\n\nexport default {\n  name: 'Sidebar',\n  components: {\n    ModifiedIcon,\n  },\n  data() {\n    return {\n      reasoningInProgress: false, // Set when reasoning is in progress.\n    };\n  },\n  computed: {\n    examplePHYXURLs() {\n      // Returns a list of example files to display in the \"Examples\" menu.\n      return [\n        {\n          url: 'examples/fisher_et_al_2007.json',\n          title: 'Fisher et al, 2007',\n        },\n        {\n          url: 'examples/hillis_and_wilcox_2005.json',\n          title: 'Hillis and Wilcox, 2005',\n        },\n        {\n          url: 'examples/brochu_2003.json',\n          title: 'Brochu 2003',\n        },\n      ];\n    },\n    ...mapGetters([\n      'phyxTitle',\n    ]),\n    ...mapState({\n      phyx: state => state.phyx,\n      currentPhyx: state => state.phyx.currentPhyx,\n      loadedPhyx: state => state.phyx.loadedPhyx,\n      phylorefs: state => state.phyx.currentPhyx.phylorefs,\n      phylogenies: state => state.phyx.currentPhyx.phylogenies,\n      selectedPhyloref: state => state.ui.display.phyloref,\n      selectedPhylogeny: state => state.ui.display.phylogeny,\n      selectedSpecifier: state => state.ui.display.specifier,\n    }),\n  },\n  methods: {\n    getSpecifierLabel(specifier) {\n      // Get the label for a particular specifier.\n      // TODO: We need to include verbatimSpecifier first because of\n      // https://github.com/phyloref/phyx.js/issues/14\n      return specifier.verbatimSpecifier || new TaxonomicUnitWrapper(specifier).label || 'Undefined specifier';\n    },\n\n    promptAndSetDict(message, dict, key) {\n      // Given a dictionary and key, we prompt the user (using window.prompt)\n      // to provide a new value for that dictionary and key. If one is provided,\n      // we replace it.\n      const response = window.prompt(message, dict[key]);\n      if (response !== undefined && response !== null) Vue.set(dict, key, response);\n    },\n\n    loadPhyxFromURL(url) {\n      // Change the current PHYX to that in the provided URL.\n\n      // Is the user sure that they want to do this?\n      if(this.$store.getters.loadedPhyxChanged) {\n        if(!confirm('The current Phyx file has been modified! Are you sure you want to discard these changes by loading another file?')) {\n          return;\n        }\n      }\n\n      $.getJSON(url)\n        .done((data) => {\n          this.$store.commit('setCurrentPhyx', data);\n          this.$store.commit('setLoadedPhyx', data);\n          // Reset the display.\n          this.$store.commit('changeDisplay', {});\n        })\n        .fail((error) => {\n          if (error.status === 200) {\n            alert(`Could not load PHYX file '${url}': file malformed, see console for details.`);\n          } else {\n            alert(`Could not load PHYX file '${url}': server error ${error.status} ${error.statusText}`);\n          }\n          // throw new Error(`Could not load PHYX file ${url}: ${error}`);\n        });\n    },\n\n    loadPhyxFromFileInputById(fileInputId) {\n      //\n      // Load a JSON file from the local file system using FileReader. fileInput\n      // needs to be an HTML element representing an <input type=\"file\"> in which\n      // the user has selected the local file they wish to load.\n      //\n      // This code is based on https://stackoverflow.com/a/21446426/27310\n\n      if (typeof window.FileReader !== 'function') {\n        alert('The FileReader API is not supported on this browser.');\n        return;\n      }\n\n      const $fileInput = $(fileInputId);\n      if (!$fileInput) {\n        alert('Programmer error: No file input element specified.');\n        return;\n      }\n\n      if (!$fileInput.prop('files')) {\n        alert('File input element found, but files property missing: try another browser?');\n        return;\n      }\n\n      if (!$fileInput.prop('files')[0]) {\n        alert('Please select a file before attempting to load it.');\n        return;\n      }\n\n      // Is the user sure that they want to do this?\n      if(this.$store.getters.loadedPhyxChanged) {\n        if(!confirm('The current Phyx file has been modified! Are you sure you want to discard these changes by loading another file?')) {\n          return;\n        }\n      }\n\n      const [file] = $fileInput.prop('files');\n      const fr = new FileReader();\n      fr.onload = ((e) => {\n        const lines = e.target.result;\n        const phyx = JSON.parse(lines);\n\n        this.$store.commit('setCurrentPhyx', phyx);\n        this.$store.commit('setLoadedPhyx', phyx);\n\n        // Reset the display.\n        this.$store.commit('changeDisplay', {});\n      });\n      fr.readAsText(file);\n    },\n\n    downloadAsJSON() {\n      // Provide the JSON file as a download to the browser.\n      const content = [JSON.stringify(this.$store.state.phyx.currentPhyx, undefined, 4)];\n\n      // Save to local hard drive.\n      const jsonFile = new File(content, 'download.json', { type: 'application/json;charset=utf-8' });\n      saveAs(jsonFile);\n\n      // saveAs(jsonFile) doesn't report on whether the user acceped the download\n      // or not. We assume, possibly incorrectly, that they did and that the\n      // current JSON content has been saved. We therefore reset testcaseAsLoaded\n      // so we can watch for other changes.\n      //\n      // A more sophisticated API like https://github.com/jimmywarting/StreamSaver.js\n      // might be able to let us know if the file was saved correctly.\n      //\n      // Deep-copy the testcase into a 'testcaseAsLoaded' variable in our\n      // model. We deep-compare this.testcase with this.testcaseAsLoaded to\n      // determine if the loaded model has been modified.\n      this.$store.commit('setLoadedPhyx');\n    },\n\n    downloadAsJSONLD() {\n      // Exports the PHYX file as an OWL/JSON-LD file, which can be opened in\n      // Protege or converted into OWL/XML or other formats.\n      const wrapped = new PhyxWrapper(this.$store.state.phyx.currentPhyx);\n      const content = [JSON.stringify([wrapped.asJSONLD()], undefined, 4)];\n\n      // Save to local hard drive.\n      const jsonldFile = new File(content, 'download.jsonld', { type: 'application/json;charset=utf-8' });\n      saveAs(jsonldFile);\n    },\n\n    reasonOverPhyloreferences() {\n      // Reason over all the phyloreferences and store the results on\n      // the Vue model at vm.reasoningResults so we can access them.\n\n      // Are we already reasoning? If so, ignore.\n      if (this.reasoningInProgress) return;\n\n      // Reset the existing reasoning information.\n      this.$store.commit('setReasoningResults', undefined);\n\n      // Disable \"Reason\" buttons so they can't be reused.\n      this.reasoningInProgress = true;\n\n      // Make sure that the Reason button is updated before we convert the Phyx\n      // file into JSON-LD.\n      const outerThis = this;\n      Vue.nextTick(function () {\n        // Prepare JSON-LD file for submission.\n        const jsonld = JSON.stringify([new PhyxWrapper(\n          outerThis.$store.state.phyx.currentPhyx,\n          d3.layout.newick_parser,\n        ).asJSONLD()]);\n\n        // To improve upload speed, let's Gzip the file before upload.\n        const jsonldGzipped = zlib.gzipSync(jsonld);\n\n        // Prepare request for submission.\n        const query = $.param({\n          // Convert Gzipped data into a string in Base64.\n          jsonldGzipped: Buffer.from(jsonldGzipped).toString('base64')\n        }).replace(/%20/g, '+');  // $.post will do this automatically,\n                                  // but we need to do this here so our\n                                  // signature works.\n\n        // Sign it with an X-Hub-Signature.\n        const sign = signer({\n            algorithm: 'sha1',\n            secret: outerThis.$config.JPHYLOREF_X_HUB_SIGNATURE_SECRET,\n        });\n        const signature = sign(new Buffer(query));\n\n        console.log('Query: ', query);\n        console.log('Signature: ', signature);\n\n        $.post({\n          url: outerThis.$config.JPHYLOREF_SUBMISSION_URL,\n          data: query,\n          headers: {\n            'X-Hub-Signature': signature,\n          },\n        }).done((data) => {\n          outerThis.$store.commit('setReasoningResults', data);\n          // console.log('Data retrieved: ', data);\n        }).fail((jqXHR, textStatus, errorThrown) => {\n          // We can try using the third argument, but it appears to be the\n          // HTTP status (e.g. 'Internal Server Error'). So we default to that,\n          // but look for a better one in the JSON response from the server, if\n          // available.\n          let error = errorThrown;\n          if (has(jqXHR, 'responseJSON') && has(jqXHR.responseJSON, 'error')) {\n            error = jqXHR.responseJSON.error;\n          }\n\n          if (error === undefined || error === '') error = 'unknown error';\n          alert(`Error occurred on server while reasoning: ${error}`);\n        }).always(() => {\n          // Reset \"Reasoning\" buttons to their usual state.\n          outerThis.reasoningInProgress = false;\n        });\n      });\n    },\n  },\n};\n</script>\n","<template>\n  <div>\n    <!-- Add a warning if this phylogeny has changed -->\n    <ModifiedCard\n      message=\"This phylogeny has been modified since being loaded. Use 'Save' to save your changes.\"\n      :compare=\"selectedPhylogeny\"\n      :compare-to=\"loadedPhyx.phylogenies[currentPhyx.phylogenies.indexOf(selectedPhylogeny)]\"\n    />\n\n    <div class=\"card\">\n      <h5 class=\"card-header\">\n        Phylogeny information\n      </h5>\n      <div class=\"card-body\">\n        <form>\n          <div class=\"form-group row\">\n            <label\n              for=\"phylogenyId\"\n              class=\"col-md-2 col-form-label\"\n            >\n              Identifier\n            </label>\n            <div class=\"col-md-10\">\n              <input\n                id=\"phylogenyId\"\n                v-model=\"phylogenyId\"\n                type=\"text\"\n                class=\"form-control\"\n                :class=\"{'border-danger': phylogenyIdError}\"\n                placeholder=\"A global or local identifier for this phylogeny, e.g. 'http://doi.org/10.13/49#12' or '#phylogeny1'\"\n              >\n              <p v-if=\"phylogenyIdError\" class=\"form-text text-danger\">{{phylogenyIdError}}</p>\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              for=\"phylogenyLabel\"\n              class=\"col-md-2 col-form-label\"\n            >\n              Label\n            </label>\n            <div class=\"col-md-10\">\n              <input\n                id=\"phylogenyLabel\"\n                v-model.trim=\"phylogenyLabel\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Enter phylogeny name\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              for=\"phylogenyDescription\"\n              class=\"col-md-2 col-form-label\"\n            >\n              Description\n            </label>\n            <div class=\"col-md-10\">\n              <textarea\n                id=\"phylogenyDescription\"\n                v-model.trim=\"phylogenyDescription\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Enter phylogeny description\"\n              />\n            </div>\n          </div>\n\n          <!-- Primary reference phylogeny -->\n          <Citation\n            label=\"Primary reference phylogeny\"\n            :object=\"selectedPhylogeny\"\n            citation-key=\"primaryPhylogenyCitation\"\n          />\n\n          <!-- Other reference phylogeny -->\n          <Citation\n            label=\"Reference phylogeny\"\n            :object=\"selectedPhylogeny\"\n            citation-key=\"phylogenyCitation\"\n          />\n\n          <div class=\"form-group row\">\n            <label\n              for=\"newick\"\n              class=\"col-md-2 control-label\"\n            >\n              Newick\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <textarea\n                v-model.lazy=\"phylogenyNewick\"\n                rows=\"5\"\n                class=\"form-control\"\n                placeholder=\"Enter Newick string for phylogeny here\"\n              />\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <!-- Display the list of errors encountered when parsing this Newick string -->\n    <div\n      v-if=\"phylogenyNewickErrors.length !== 0\"\n      class=\"card border-dark mt-2\"\n    >\n      <h5 class=\"card-header bg-danger\">\n        Errors occurred while parsing Newick string\n      </h5>\n      <div class=\"card-body\">\n        <template v-for=\"(error, errorIndex) of phylogenyNewickErrors\">\n          <p><strong>{{ error.title }}.</strong> {{ error.message }}</p>\n        </template>\n      </div>\n    </div>\n\n    <!-- Display the phylogeny (unless there were Newick parsing errors) -->\n    <div\n      v-if=\"phylogenyNewickErrors.length === 0\"\n      class=\"card mt-2\"\n    >\n      <h5 class=\"card-header\">\n        Phylogeny visualization\n      </h5>\n      <div class=\"card-body\">\n        <Phylotree\n          :phylogeny=\"selectedPhylogeny\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * This view displays a phylogeny and changes its title or Newick string.\n */\n\nimport { has } from 'lodash';\nimport { mapState } from 'vuex';\nimport { parse as parseNewick } from 'newick-js';\n\nimport ModifiedCard from '../cards/ModifiedCard.vue';\nimport Phylotree from './Phylotree.vue';\nimport Citation from '../citations/Citation.vue';\n\nexport default {\n  name: 'PhylogenyView',\n  components: { ModifiedCard, Phylotree, Citation },\n  data() {\n    return {\n      // Errors in the phylogenyId field.\n      phylogenyIdError: undefined,\n    };\n  },\n  computed: {\n    /*\n     * The following properties allow you to get or set the phylogeny label,\n     * description or newick string.\n     */\n    phylogenyId: {\n      // The phylogeny identifier; either a global identifier like http://doi.org/10.3014/3\n      // or a local identifier like #phylogeny1.\n      get() { return this.$store.getters.getPhylogenyId(this.selectedPhylogeny); },\n      set(id) {\n        try {\n          this.$store.dispatch('changePhylogenyId', { phylogeny: this.selectedPhylogeny, 'phylogenyId': id })\n        } catch(err) {\n          // If there was an error in setting phylogeny id, report that to the user.\n          this.phylogenyIdError = err;\n          return false;\n        }\n        // Clear previous phylogeny id errors.\n        this.phylogenyIdError = undefined;\n        return true;\n      },\n    },\n    phylogenyLabel: {\n      get() { return this.selectedPhylogeny.label; },\n      set(label) { this.$store.commit('setPhylogenyProps', { phylogeny: this.selectedPhylogeny, label }); },\n    },\n    phylogenyDescription: {\n      get() { return this.selectedPhylogeny.description; },\n      set(description) { this.$store.commit('setPhylogenyProps', { phylogeny: this.selectedPhylogeny, description }); },\n    },\n    phylogenyNewick: {\n      get() { return this.selectedPhylogeny.newick || '()'; },\n      set(newick) { this.$store.commit('setPhylogenyProps', { phylogeny: this.selectedPhylogeny, newick }); },\n    },\n    phylogenyNewickErrors() {\n      // Given a Newick string, return a list of errors found in parsing this\n      // string. The errors are returned as a list of objects, each of which\n      // has two properties:\n      //  - title: A short title of the error, distinct for each type of error.\n      //  - message: A longer description of the error, which might include\n      //    information specific to a particular error.\n      //\n      // We try to order errors from most helpful ('Unbalanced parentheses in\n      // Newick string') to least helpful ('Error parsing phylogeny').\n      if (!has(this.selectedPhylogeny, 'newick')) return [];\n      const newickTrimmed = this.selectedPhylogeny.newick.trim();\n      const errors = [];\n\n      // Look for an empty Newick string.\n      if (newickTrimmed === '' || newickTrimmed === '()' || newickTrimmed === '();') {\n        // None of the later errors are relevant here, so bail out now.\n        return [{\n          title: 'No phylogeny entered',\n          message: 'Click on \"Edit as Newick\" to enter a phylogeny below.',\n        }];\n      }\n\n      // Look for an unbalanced Newick string.\n      let parenLevels = 0;\n      for (let x = 0; x < newickTrimmed.length; x += 1) {\n        if (newickTrimmed[x] === '(') parenLevels += 1;\n        if (newickTrimmed[x] === ')') parenLevels -= 1;\n      }\n\n      if (parenLevels !== 0) {\n        errors.push({\n          title: 'Unbalanced parentheses in Newick string',\n          message: (parenLevels > 0\n            ? `You have ${parenLevels} too many open parentheses`\n            : `You have ${-parenLevels} too few open parentheses`\n          ),\n        });\n      }\n\n      // Finally, try parsing it with parseNewick and see if we get an error.\n      try {\n        parseNewick(newickTrimmed);\n      } catch (ex) {\n        errors.push({\n          title: 'Error parsing phylogeny',\n          message: `An error occured while parsing this phylogeny: ${ex.message}`,\n        });\n      }\n\n      return errors;\n    },\n    ...mapState({\n      currentPhyx: state => state.phyx.currentPhyx,\n      loadedPhyx: state => state.phyx.loadedPhyx,\n      selectedPhylogeny: state => state.ui.display.phylogeny,\n    }),\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Specifier.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Specifier.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\"},[_vm._v(\"\\n    \"+_vm._s(_vm.label)+\"\\n  \")]),_c('div',{staticClass:\"col-md-10\"},[(_vm.citations.length === 0)?[_c('a',{staticClass:\"form-control-plaintext\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.citations.push({})}}},[_vm._v(\"\\n        Add citation\\n      \")])]:_vm._e(),_vm._l((_vm.citations),function(citation,citationIndex){return [_c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control hand-cursor\",attrs:{\"type\":\"text\",\"readonly\":\"\",\"placeholder\":\"Citation\"},domProps:{\"value\":_vm.wrappedCitation(citation).toString() || 'Empty citation, click to enter'},on:{\"click\":function($event){return _vm.toggleCitationExpanded(citationIndex)}}}),_c('div',{staticClass:\"input-group-append\"},[(_vm.wrappedCitation(citation).url)?_c('a',{staticClass:\"btn btn-primary\",attrs:{\"target\":\"_blank\",\"href\":_vm.wrappedCitation(citation).url}},[_vm._v(\"\\n            Open in new window\\n          \")]):_vm._e(),_c('a',{staticClass:\"btn btn-secondary\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.toggleCitationExpanded(citationIndex)}}},[_vm._v(\"\\n            Expand\\n          \")])])]),(_vm.citationsExpanded.includes(citationIndex))?_c('div',{staticClass:\"card mt-1\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\"\\n            Citation details\\n          \")]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"citation-type\"}},[_vm._v(\"\\n              Citation type\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.type),expression:\"citation.type\"}],staticClass:\"form-control\",attrs:{\"id\":\"citation-type\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(citation, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.updateCitations()}]}},[_c('option',{attrs:{\"value\":\"article\"}},[_vm._v(\"\\n                  Article\\n                \")]),_c('option',{attrs:{\"value\":\"book\"}},[_vm._v(\"\\n                  Book\\n                \")]),_c('option',{attrs:{\"value\":\"book_section\"}},[_vm._v(\"\\n                  Book section\\n                \")])])])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"authors\"}},[_vm._v(\"\\n              Authors (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"authors\",\"rows\":\"3\",\"placeholder\":\"Enter authors here\"},domProps:{\"value\":_vm.wrappedCitation(citation).authorsAsStrings.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(citation).authorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations();}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"editors\"}},[_vm._v(\"\\n              Editors (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"editors\",\"rows\":\"2\",\"placeholder\":\"Enter editors here\"},domProps:{\"value\":_vm.wrappedCitation(citation).editorsAsStrings.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(citation).editorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations();}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"series-editors\"}},[_vm._v(\"\\n              Series editors (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"series-editors\",\"rows\":\"2\",\"placeholder\":\"Enter series editors here\"},domProps:{\"value\":_vm.wrappedCitation(citation).seriesEditorsAsStrings.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(citation).seriesEditorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations();}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"title\"}},[_vm._v(\"\\n              Title\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.title),expression:\"citation.title\"}],staticClass:\"form-control\",attrs:{\"id\":\"title\",\"type\":\"text\",\"placeholder\":\"Enter title here\"},domProps:{\"value\":(citation.title)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(citation, \"title\", $event.target.value)}}})])]),(citation.type === 'book_section')?_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"section-title\"}},[_vm._v(\"\\n              Section title\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.section_title),expression:\"citation.section_title\"}],staticClass:\"form-control\",attrs:{\"id\":\"section-title\",\"type\":\"text\",\"placeholder\":\"Enter section title here\"},domProps:{\"value\":(citation.section_title)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(citation, \"section_title\", $event.target.value)}}})])]):_vm._e(),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"year\"}},[_vm._v(\"\\n              Year\\n            \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.year),expression:\"citation.year\"}],staticClass:\"form-control\",attrs:{\"id\":\"year\",\"type\":\"text\",\"placeholder\":\"Enter year here\"},domProps:{\"value\":(citation.year)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(citation, \"year\", $event.target.value)}}})]),(citation.type !== 'article')?[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"edition\"}},[_vm._v(\"\\n                Edition\\n              \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.edition),expression:\"citation.edition\"}],staticClass:\"form-control\",attrs:{\"id\":\"edition\",\"type\":\"text\",\"placeholder\":\"Enter edition here\"},domProps:{\"value\":(citation.edition)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(citation, \"edition\", $event.target.value)}}})])]:_vm._e()],2),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"pages\"}},[_vm._v(\"\\n              Pages\\n            \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.pages),expression:\"citation.pages\"}],staticClass:\"form-control\",attrs:{\"id\":\"pages\",\"type\":\"text\",\"placeholder\":\"Enter pages here\"},domProps:{\"value\":(citation.pages)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(citation, \"pages\", $event.target.value)}}})]),_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"figure\"}},[_vm._v(\"\\n              Figure\\n            \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.figure),expression:\"citation.figure\"}],staticClass:\"form-control\",attrs:{\"id\":\"figure\",\"type\":\"text\",\"placeholder\":\"Enter figure number here\"},domProps:{\"value\":(citation.figure)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(citation, \"figure\", $event.target.value)}}})])]),(citation.type === 'article')?[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"journal-title\"}},[_vm._v(\"\\n                Journal title\\n              \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wrappedCitation(citation).journal.name),expression:\"wrappedCitation(citation).journal.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"journal-title\",\"type\":\"text\",\"placeholder\":\"Enter journal title here\"},domProps:{\"value\":(_vm.wrappedCitation(citation).journal.name)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.wrappedCitation(citation).journal, \"name\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"journal-volume\"}},[_vm._v(\"\\n                Volume\\n              \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wrappedCitation(citation).journal.volume),expression:\"wrappedCitation(citation).journal.volume\"}],staticClass:\"form-control\",attrs:{\"id\":\"journal-volume\",\"type\":\"text\",\"placeholder\":\"Enter journal volume number here\"},domProps:{\"value\":(_vm.wrappedCitation(citation).journal.volume)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.wrappedCitation(citation).journal, \"volume\", $event.target.value)}}})]),_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"journal-issue\"}},[_vm._v(\"\\n                Issue number\\n              \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wrappedCitation(citation).journal.number),expression:\"wrappedCitation(citation).journal.number\"}],staticClass:\"form-control\",attrs:{\"id\":\"journal-issue\",\"type\":\"text\",\"placeholder\":\"Enter journal issue number here\"},domProps:{\"value\":(_vm.wrappedCitation(citation).journal.number)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.wrappedCitation(citation).journal, \"number\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"issns\"}},[_vm._v(\"\\n                ISSNs (one per line)\\n              \")]),_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"input-group\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"issns\",\"rows\":\"1\",\"placeholder\":\"Enter ISSNs here\"},domProps:{\"value\":_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).issns.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).issns = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary align-middle\",class:{disabled: (_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).issns || []).length === 0},staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"target\":\"_blank\",\"href\":'https://www.worldcat.org/search?q=n2%3A' + _vm.wrappedCitation(_vm.wrappedCitation(citation).journal).issns[0]}},[_vm._v(\"\\n                      Open in new window\\n                    \")])])])])])]:_vm._e(),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"isbns\"}},[_vm._v(\"\\n              ISBNs (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"input-group\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"isbns\",\"rows\":\"1\",\"placeholder\":\"Enter ISBNs here\"},domProps:{\"value\":_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).isbns.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).isbns = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary align-middle\",class:{disabled: (_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).isbns || []).length === 0},staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"target\":\"_blank\",\"href\":'https://www.worldcat.org/search?q=bn%3A' + _vm.wrappedCitation(_vm.wrappedCitation(citation).journal).isbns[0]}},[_vm._v(\"\\n                    Open in new window\\n                  \")])])])])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"publisher\"}},[_vm._v(\"\\n              Publisher\\n            \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.publisher),expression:\"citation.publisher\"}],staticClass:\"form-control\",attrs:{\"id\":\"publisher\",\"type\":\"text\",\"placeholder\":\"Enter publisher here\"},domProps:{\"value\":(citation.publisher)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(citation, \"publisher\", $event.target.value)}}})]),_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"city\"}},[_vm._v(\"\\n              City\\n            \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.city),expression:\"citation.city\"}],staticClass:\"form-control\",attrs:{\"id\":\"city\",\"type\":\"text\",\"placeholder\":\"Enter publication city here\"},domProps:{\"value\":(citation.city)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(citation, \"city\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"doi\"}},[_vm._v(\"\\n              DOIs (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"input-group\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"doi\",\"rows\":\"1\",\"placeholder\":\"Enter DOIs here\"},domProps:{\"value\":_vm.wrappedCitation(citation).doisAsStrings.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(citation).doisAsStrings = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary align-middle\",class:{disabled: !_vm.wrappedCitation(citation).firstDOI},staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"target\":\"_blank\",\"href\":_vm.wrappedCitation(citation).firstDOI ? 'http://doi.org/' + _vm.wrappedCitation(citation).firstDOI : undefined}},[_vm._v(\"\\n                    Open in new window\\n                  \")])])])])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"urls\"}},[_vm._v(\"\\n              URLs (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"input-group\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"urls\",\"rows\":\"1\",\"placeholder\":\"Enter URLs here\"},domProps:{\"value\":_vm.wrappedCitation(citation).urlsAsStrings.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(citation).urlsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary align-middle\",class:{disabled: !_vm.wrappedCitation(citation).firstURL},staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"target\":\"_blank\",\"href\":_vm.wrappedCitation(citation).firstURL}},[_vm._v(\"\\n                    Open in new window\\n                  \")])])])])])],2)]):_vm._e()]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Citation.vue?vue&type=template&id=65e39354&\"","/*\n * Store module for modifying phylogenies.\n */\n\nimport Vue from 'vue';\nimport { has, keys, cloneDeep } from 'lodash';\n\nexport default {\n  mutations: {\n    setPhylogenyProps(state, payload) {\n      if (!has(payload, 'phylogeny')) {\n        throw new Error('setPhylogenyProps needs a phylogeny to modify using the \"phylogeny\" argument');\n      }\n      if (has(payload, 'label')) {\n        Vue.set(payload.phylogeny, 'label', payload.label);\n      }\n      if (has(payload, 'description')) {\n        Vue.set(payload.phylogeny, 'description', payload.description);\n      }\n      if (has(payload, 'newick')) {\n        Vue.set(payload.phylogeny, 'newick', payload.newick);\n      }\n      if (has(payload, '@id')) {\n        Vue.set(payload.phylogeny, '@id', payload['@id']);\n      }\n    },\n  },\n  actions: {\n    changePhylogenyId(context, payload) {\n      // When changing a phylogeny ID, care needs to be taken to ensure that:\n      //  (1) duplicate phylogeny IDs are not created within the same file, and\n      //  (2) all current references to this phylogeny continue to make sense.\n\n      // Check arguments.\n      if (!has(payload, 'phylogeny')) {\n        throw new Error('changePhylogenyId needs a phylogeny to modify using the \"phylogeny\" argument');\n      }\n\n      if (!has(payload, 'phylogenyId')) {\n        throw new Error('changePhylogenyId needs a new phylogeny ID using the \"phylogenyId\" argument');\n      }\n\n      // What was the previous phylogeny ID?\n      const oldPhylogenyId = context.rootGetters.getPhylogenyId(payload.phylogeny);\n\n      // No need to do anything if they haven't changed.\n      if (oldPhylogenyId === payload.phylogenyId) return;\n\n      // Do any of our current phylogenies have this ID?\n      const phylogenyWithDuplicateID = context.rootState.phyx.currentPhyx.phylogenies.find(phylogeny => has(phylogeny, '@id') && phylogeny['@id'] === payload.phylogenyId);\n      if (phylogenyWithDuplicateID) {\n        throw new Error(`Attempt to change ${oldPhylogenyId} to ${payload.phylogenyId} failed: duplicate phylogeny ID detected.`);\n      }\n\n      // If any phyloreferences refer to oldPhylogenyId, replace it with\n      // references to the new phylogenyId.\n      context.rootState.phyx.currentPhyx.phylorefs.forEach((phyloref) => {\n        if (has(phyloref.expectedResolution || {}, oldPhylogenyId)) {\n          // Copy the expected resolution of oldPhylogenyId into the new phylogenyId.\n          context.commit('setPhylorefProps', {\n            phyloref,\n            phylogenyId: payload.phylogenyId,\n            expectedResolution: phyloref.expectedResolution[oldPhylogenyId],\n          });\n          // Delete the expected resolution of oldPhylogenyId.\n          context.commit('setPhylorefProps', {\n            phyloref,\n            phylogenyId: oldPhylogenyId,\n            expectedResolution: undefined,\n          });\n        }\n      });\n\n      // Change the phylogeny.\n      context.commit('setPhylogenyProps', {\n        phylogeny: payload.phylogeny,\n        '@id': payload.phylogenyId,\n      });\n    },\n  },\n};\n","<template>\n  <!-- About-us modal dialog box: acknowledges funding and links to libraries used -->\n  <div\n    id=\"about-curation-tool\"\n    class=\"modal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n  >\n    <div\n      class=\"modal-dialog\"\n      role=\"document\"\n    >\n      <div class=\"modal-content\">\n        <!-- Header of tunit editor modal dialog box -->\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">\n            About this tool\n          </h5>\n          <button\n            type=\"button\"\n            class=\"close\"\n            data-dismiss=\"modal\"\n            aria-label=\"Close\"\n          >\n            <span aria-hidden=\"true\">\n              &times;\n            </span>\n          </button>\n        </div>\n\n        <!-- Body of the about-us modal dialog -->\n        <div class=\"modal-body col-md-12\">\n          <p>\n            Klados was built as part of the\n            <a href=\"https://www.phyloref.org\">\n              Phyloreferencing project\n            </a>,\n            funded by the US National Science Foundation through collaborative\n            grants <a href=\"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458484\">\n              DBI-1458484\n            </a>\n            and <a href=\"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458604\">\n              DBI-1458604\n            </a>.\n            See <a href=\"http://www.phyloref.org/about/#funding\">\n              Funding\n            </a> for details.\n          </p>\n\n          <p>Klados uses a number of open-source libraries, including:</p>\n\n          <ul>\n            <li>\n              <a href=\"https://cli.vuejs.org/\">\n                Vue CLI 3\n              </a>\n            </li>\n            <li>\n              <a href=\"https://getbootstrap.com/\">\n                Bootstrap\n              </a>\n            </li>\n            <li>\n              <a href=\"https://jquery.com/\">\n                jQuery\n              </a>\n            </li>\n            <li>\n              <a href=\"https://github.com/veg/phylotree.js\">\n                phylotree.js\n              </a>,\n              published as <a href=\"https://doi.org/10.1186/s12859-018-2283-2\">\n                Shank <em>et al</em>, 2018\n              </a>\n            </li>\n            <li>\n              <a href=\"https://d3js.org/\">\n                D3.js\n              </a>\n            </li>\n            <li>\n              <a href=\"https://momentjs.com/\">\n                Moment.js\n              </a>\n            </li>\n            <li>\n              <a href=\"https://github.com/eligrey/FileSaver.js\">\n                FileSaver.js\n              </a>\n            </li>\n            <li>\n              <a href=\"https://fontawesome.com/\">\n                Font Awesome\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <!-- Footer of the about-us modal dialog -->\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-dismiss=\"modal\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * A modal for displaying information about Klados\n */\n\nexport default {\n  name: 'AboutCurationToolModal',\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ModifiedCard',{attrs:{\"message\":\"This phyloreference has been modified since being loaded! Use 'Save' to save your changes.\",\"compare\":_vm.selectedPhyloref,\"compare-to\":_vm.loadedPhyx.phylorefs[_vm.currentPhyx.phylorefs.indexOf(_vm.selectedPhyloref)]}}),(!_vm.display.phylogeny)?_c('div',{staticClass:\"card\"},[_c('h5',{staticClass:\"card-header\"},[_vm._v(\"\\n      Phyloreference information\\n    \")]),_c('div',{staticClass:\"card-body\"},[_c('form',[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"label\"}},[_vm._v(\"\\n            Label\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedPhylorefLabel),expression:\"selectedPhylorefLabel\"}],staticClass:\"form-control\",attrs:{\"id\":\"label\",\"type\":\"text\",\"placeholder\":\"Phyloreference label\"},domProps:{\"value\":(_vm.selectedPhylorefLabel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.selectedPhylorefLabel=$event.target.value}}})])]),_c('Citation',{attrs:{\"label\":\"Name published in\",\"object\":_vm.selectedPhyloref,\"citation-key\":\"dwc:namePublishedIn\"}}),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"definition\"}},[_vm._v(\"\\n            Definition in free-form text\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.selectedCladeDefinition),expression:\"selectedCladeDefinition\",modifiers:{\"lazy\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"definition\",\"rows\":\"6\",\"placeholder\":\"Phylogenetic clade definition\"},domProps:{\"value\":(_vm.selectedCladeDefinition)},on:{\"change\":function($event){_vm.selectedCladeDefinition=$event.target.value}}})])]),_c('Citation',{attrs:{\"label\":\"Definition published in\",\"object\":_vm.selectedPhyloref,\"citation-key\":\"obo:IAO_0000119\"}}),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"curator-comments\"}},[_vm._v(\"\\n            Curator comments\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.selectedCuratorComments),expression:\"selectedCuratorComments\",modifiers:{\"lazy\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"curator-comments\",\"rows\":\"2\",\"placeholder\":\"e.g. 'Specifier X not included in reference phylogeny'\"},domProps:{\"value\":(_vm.selectedCuratorComments)},on:{\"change\":function($event){_vm.selectedCuratorComments=$event.target.value}}})])])],1)]),_c('div',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\",\"area-label\":\"Phyloreference management\"}},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.$store.commit('duplicatePhyloref', { phyloref: _vm.selectedPhyloref })}}},[_vm._v(\"Duplicate phyloreference\")])])])]):_vm._e(),_c('div',{staticClass:\"card mt-2\"},[_c('h5',{staticClass:\"card-header\"},[_vm._v(\"\\n      Specifiers\\n    \")]),_c('div',{staticClass:\"card-body\"},[_c('form',[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"phyloref-type\"}},[_vm._v(\"\\n            Phyloreference type\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.computedPhylorefType),expression:\"computedPhylorefType\"}],staticClass:\"form-control\",attrs:{\"id\":\"phyloref-type\",\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":(_vm.computedPhylorefType)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.computedPhylorefType=$event.target.value}}})])])]),_c('h5',[_vm._v(\"Internal specifiers\")]),(!_vm.selectedPhyloref.internalSpecifiers || _vm.selectedPhyloref.internalSpecifiers.length === 0)?[_vm._m(0)]:_vm._e(),_vm._l((_vm.selectedPhyloref.internalSpecifiers),function(specifier,index){return _c('div',{staticClass:\"form-row input-group\"},[_c('Specifier',{key:'internal' + index,attrs:{\"phyloref\":_vm.selectedPhyloref,\"remote-specifier\":specifier,\"remote-specifier-id\":'internal' + index}})],1)}),_c('h5',{staticClass:\"mt-2\"},[_vm._v(\"External specifiers\")]),(!_vm.selectedPhyloref.externalSpecifiers  || _vm.selectedPhyloref.externalSpecifiers.length === 0)?[_vm._m(1)]:_vm._e(),_vm._l((_vm.selectedPhyloref.externalSpecifiers),function(specifier,index){return _c('div',{staticClass:\"form-row input-group\"},[_c('Specifier',{key:'external' + index,attrs:{\"phyloref\":_vm.selectedPhyloref,\"remote-specifier\":specifier,\"remote-specifier-id\":'external' + index}})],1)})],2),_c('div',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\",\"area-label\":\"Internal specifier management\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.$store.commit('addInternalSpecifier', { phyloref: _vm.selectedPhyloref })}}},[_vm._v(\"\\n          Add internal specifier\\n        \")])]),_c('div',{staticClass:\"btn-group ml-2\",attrs:{\"role\":\"group\",\"area-label\":\"External specifier management\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.$store.commit('addExternalSpecifier', { phyloref: _vm.selectedPhyloref })}}},[_vm._v(\"\\n          Add external specifier\\n        \")])])])]),_vm._l((_vm.currentPhyx.phylogenies),function(phylogeny,phylogenyIndex){return [(_vm.selectedPhylogeny === undefined || _vm.selectedPhylogeny === phylogeny)?[_c('div',{staticClass:\"card mt-2\"},[_c('h5',{staticClass:\"card-header\"},[_vm._v(\"\\n          Expected and actual resolution \"),(_vm.display.phylogeny)?_c('span',[_vm._v(\"\\n            of \"+_vm._s(_vm.phyloref.label || 'unlabeled phyloreference')+\"\\n          \")]):_vm._e(),_vm._v(\" on \"+_vm._s(phylogeny.label || (\"Phylogeny \" + (phylogenyIndex + 1)))+\"\\n        \")]),_c('div',{staticClass:\"card-body\"},[_c('Citation',{attrs:{\"label\":\"Reference phylogeny\",\"object\":phylogeny,\"citation-key\":\"primaryPhylogenyCitation\"}}),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":'expected-resolution-' + phylogenyIndex}},[_vm._v(\"\\n              Expected resolution in free-form text\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":'expected-resolution-' + phylogenyIndex,\"rows\":\"3\",\"placeholder\":\"e.g. 'Should resolve to clade X in fig 3 of Smith 2003'\"},domProps:{\"value\":_vm.getExpectedResolution(phylogeny).description},on:{\"change\":function($event){return _vm.setExpectedResolution(phylogeny, {'description': $event.target.value})}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"expected-nodes\"}},[_vm._v(\"\\n              Expected nodes\\n            \")]),_c('div',{staticClass:\"input-group col-md-10 pb-2\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",attrs:{\"href\":'#current_expected_label_phylogeny_' + phylogenyIndex,\"title\":\"Click here to jump to the expected label\",\"role\":\"button\"}},[_vm._v(\"Go to node\")])]),(!_vm.getExpectedNodeLabel(phylogeny))?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\"},domProps:{\"value\":'No node labeled \\'' + _vm.selectedPhylorefLabel + '\\' found in phylogeny'}})]:_vm._e(),(_vm.getExpectedNodeLabel(phylogeny))?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\"},domProps:{\"value\":_vm.getExpectedNodeLabel(phylogeny)}})]:_vm._e(),_c('div',{staticClass:\"input-group-append\"},[_vm._m(2,true),_c('div',{staticClass:\"dropdown-menu dropright\",staticStyle:{\"height\":\"30em\",\"overflow\":\"visible scroll\"},attrs:{\"aria-labelledby\":\"expected-nodes-dropdown\"}},[_c('a',{staticClass:\"dropdown-header\"},[_vm._v(\"\\n                    Labeled internal nodes in this phylogeny\\n                  \")]),_vm._l((_vm.getNodeLabels(phylogeny, 'internal')),function(nodeLabel){return _c('a',{staticClass:\"dropdown-item\",class:{active: _vm.getExpectedNodeLabel(phylogeny) === nodeLabel},attrs:{\"href\":\"#selected-phyloref\"},on:{\"click\":function($event){return _vm.setExpectedResolution(phylogeny, {nodeLabel: nodeLabel})}}},[_vm._v(\"\\n                    \"+_vm._s(nodeLabel)+\"\\n                  \")])}),_c('div',{staticClass:\"dropdown-divider\"}),_c('a',{staticClass:\"dropdown-header\"},[_vm._v(\"\\n                    Labeled terminal nodes in this phylogeny\\n                  \")]),_vm._l((_vm.getNodeLabels(phylogeny, 'terminal')),function(nodeLabel){return _c('a',{staticClass:\"dropdown-item\",class:{active: _vm.getExpectedNodeLabel(phylogeny) === nodeLabel},attrs:{\"href\":\"#selected-phyloref\"},on:{\"click\":function($event){return _vm.setExpectedResolution(phylogeny, {nodeLabel: nodeLabel})}}},[_vm._v(\"\\n                    \"+_vm._s(nodeLabel)+\"\\n                  \")])})],2)])],2),_c('label',{staticClass:\"col-form-label col-md-2 pb-2\",attrs:{\"for\":\"actual-nodes\"}},[_vm._v(\"\\n              Actual resolved nodes\\n            \")]),_c('div',{staticClass:\"input-group col-md-10 pb-2\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",attrs:{\"href\":'#current_pinning_node_phylogeny_' + phylogenyIndex,\"title\":\"Click here to jump to this node\",\"role\":\"button\"}},[_vm._v(\"Go to node\")])]),(!_vm.$store.state.resolution.reasoningResults)?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\",\"value\":\"Click 'Reason' to reason over all phyloreferences.\"}})]:[(_vm.getResolvedNodes(phylogeny).length === 0)?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\"},domProps:{\"value\":'No nodes could be resolved'}})]:_vm._e(),(_vm.getResolvedNodes(phylogeny).length === 1)?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\"},domProps:{\"value\":_vm.getResolvedNodes(phylogeny)[0]}})]:_vm._e(),(_vm.getResolvedNodes(phylogeny).length > 1)?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\"},domProps:{\"value\":_vm.getResolvedNodes(phylogeny).length + ' nodes matched: ' + _vm.getResolvedNodes(phylogeny).join(', ')}})]:_vm._e()]],2)]),_c('div',{staticClass:\"card mt-4 p-2\"},[_c('Phylotree',{attrs:{\"phylogeny-index\":String(phylogenyIndex),\"phylogeny\":phylogeny,\"phyloref\":_vm.selectedPhyloref,\"newick\":phylogeny.newick,\"selectedNodeLabel\":_vm.getExpectedNodeLabel(phylogeny)}})],1)],1)])]:_vm._e()]})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('em',[_vm._v(\"No internal specifiers in this phyloreference.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_c('em',[_vm._v(\"No external specifiers in this phyloreference.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"btn btn-outline-secondary dropdown-toggle\",attrs:{\"id\":\"expected-nodes-dropdown\",\"type\":\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_vm._v(\"\\n                  Change \"),_c('span',{staticClass:\"caret\"})])}]\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylorefView.vue?vue&type=template&id=4b46eed4&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedCard.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Specifier.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Specifier.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"input-group mb-1\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-secondary dropdown-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.specifierClass)+\"\\n      \")]),_c('div',{staticClass:\"dropdown-menu\"},[_c('a',{staticClass:\"dropdown-item\",class:{active: _vm.specifierClass === 'Taxon'},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.specifierClass = 'Taxon'}}},[_vm._v(\"Taxon\")]),_c('a',{staticClass:\"dropdown-item\",class:{active: _vm.specifierClass === 'Specimen'},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.specifierClass = 'Specimen'}}},[_vm._v(\"Specimen\")]),_c('a',{staticClass:\"dropdown-item\",class:{active: _vm.specifierClass === 'External reference'},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.specifierClass = 'External reference'}}},[_vm._v(\"External reference\")]),_c('a',{staticClass:\"dropdown-item\",class:{active: _vm.specifierClass === 'Apomorphy'},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.specifierClass = 'Apomorphy'}}},[_vm._v(\"Apomorphy\")])])]),(_vm.specifierClass === 'Taxon')?_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-secondary dropdown-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.nomenclaturalCodeObj.shortName)+\"\\n      \")]),_c('div',{staticClass:\"dropdown-menu\"},_vm._l((_vm.nomenCodes),function(nomenCode,nomenCodeIndex){return _c('a',{staticClass:\"dropdown-item\",class:{active: _vm.enteredNomenclaturalCode === nomenCode.uri },attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.enteredNomenclaturalCode = nomenCode.uri}}},[_vm._v(\"\\n          \"+_vm._s(nomenCode.label)+\"\\n        \")])}),0)]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.specifierLabel),expression:\"specifierLabel\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.specifierLabel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.specifierLabel=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",class:{active: _vm.expand},on:{\"click\":function($event){_vm.expand = !_vm.expand}}},[_vm._v(\"\\n        \"+_vm._s((_vm.expand) ? 'Collapse' : 'Expand')+\"\\n      \")])]),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.deleteSpecifier()}}},[_vm._v(\"\\n        ×\\n      \")])])]),(_vm.expand)?_c('div',{staticClass:\"card mt-1 mb-3\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\"\\n        Specifier details\\n      \")]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"specifier-type\"}},[_vm._v(\"\\n          Specifier type\\n        \")]),_c('div',{staticClass:\"col-md-10\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.specifierType),expression:\"specifierType\"}],staticClass:\"form-control\",attrs:{\"id\":\"specifier-type\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.specifierType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"Internal\"}},[_vm._v(\"\\n              Internal specifier\\n            \")]),_c('option',{attrs:{\"value\":\"External\"}},[_vm._v(\"\\n              External specifier\\n            \")])])])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"verbatim-specifier\"}},[_vm._v(\"\\n          Verbatim specifier\\n        \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enteredVerbatimLabel),expression:\"enteredVerbatimLabel\"}],staticClass:\"form-control\",attrs:{\"id\":\"verbatim-specifier\"},domProps:{\"value\":(_vm.enteredVerbatimLabel)},on:{\"change\":function($event){return _vm.updateSpecifier()},\"input\":function($event){if($event.target.composing){ return; }_vm.enteredVerbatimLabel=$event.target.value}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"specifier-class\"}},[_vm._v(\"\\n          Specifier class\\n        \")]),_c('div',{staticClass:\"col-md-10\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.specifierClass),expression:\"specifierClass\"}],staticClass:\"form-control\",attrs:{\"id\":\"specifier-class\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.specifierClass=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.updateSpecifier()}]}},[_c('option',{attrs:{\"value\":\"Taxon\"}},[_vm._v(\"\\n              Taxon\\n            \")]),_c('option',{attrs:{\"value\":\"Specimen\"}},[_vm._v(\"\\n              Specimen\\n            \")]),_c('option',{attrs:{\"value\":\"External reference\"}},[_vm._v(\"\\n              External reference\\n            \")]),_c('option',{attrs:{\"value\":\"Apomorphy\"}},[_vm._v(\"\\n              Apomorphy\\n            \")])])])]),(_vm.specifierClass === 'Taxon')?[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"nomen-code\"}},[_vm._v(\"\\n            Nomenclatural code\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enteredNomenclaturalCode),expression:\"enteredNomenclaturalCode\"}],staticClass:\"form-control\",attrs:{\"id\":\"nomen-code\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.enteredNomenclaturalCode=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.nomenCodes),function(nomenCode,nomenCodeIndex){return _c('option',{domProps:{\"value\":nomenCode.uri}},[_vm._v(\"\\n                \"+_vm._s(nomenCode.label)+\"\\n              \")])}),0)])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"name-complete\"}},[_vm._v(\"\\n            Binomial/trinomial name\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.taxonNameWrapped.nameComplete),expression:\"taxonNameWrapped.nameComplete\",modifiers:{\"lazy\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"name-complete\"},domProps:{\"value\":(_vm.taxonNameWrapped.nameComplete)},on:{\"change\":function($event){return _vm.$set(_vm.taxonNameWrapped, \"nameComplete\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"genus\"}},[_vm._v(\"\\n            Genus\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.taxonNameWrapped.genusPart),expression:\"taxonNameWrapped.genusPart\"}],staticClass:\"form-control\",attrs:{\"id\":\"genus\"},domProps:{\"value\":(_vm.taxonNameWrapped.genusPart)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.taxonNameWrapped, \"genusPart\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"specific-epithet\"}},[_vm._v(\"\\n            Specific epithet\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.taxonNameWrapped.specificEpithet),expression:\"taxonNameWrapped.specificEpithet\"}],staticClass:\"form-control\",attrs:{\"id\":\"specific-epithet\"},domProps:{\"value\":(_vm.taxonNameWrapped.specificEpithet)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.taxonNameWrapped, \"specificEpithet\", $event.target.value)}}})])]),(_vm.taxonNameWrapped.infraspecificEpithet)?_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"infraspecific-epithet\"}},[_vm._v(\"\\n            Infraspecific epithet\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.taxonNameWrapped.infraspecificEpithet),expression:\"taxonNameWrapped.infraspecificEpithet\"}],staticClass:\"form-control\",attrs:{\"id\":\"infraspecific-epithet\"},domProps:{\"value\":(_vm.taxonNameWrapped.infraspecificEpithet)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.taxonNameWrapped, \"infraspecificEpithet\", $event.target.value)}}})])]):_vm._e()]:_vm._e(),(_vm.specifierClass === 'Specimen')?[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"occurrence-id\"}},[_vm._v(\"\\n            Occurrence ID\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enteredOccurrenceID),expression:\"enteredOccurrenceID\"}],staticClass:\"form-control\",attrs:{\"id\":\"occurrence-id\",\"placeholder\":\"Enter the occurrence ID of the specimen here\"},domProps:{\"value\":(_vm.enteredOccurrenceID)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.enteredOccurrenceID=$event.target.value}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"collection-code\"}},[_vm._v(\"\\n            Institution code\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":\"collection-code\",\"readonly\":\"\"},domProps:{\"value\":_vm.specimenWrapped.institutionCode}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"collection-code\"}},[_vm._v(\"\\n            Collection code\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":\"collection-code\",\"readonly\":\"\"},domProps:{\"value\":_vm.specimenWrapped.collectionCode}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"catalog-number\"}},[_vm._v(\"\\n            Catalog number\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":\"catalog-number\",\"readonly\":\"\"},domProps:{\"value\":_vm.specimenWrapped.catalogNumber}})])])]:_vm._e(),(_vm.specifierClass === 'External reference')?[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"external-reference\"}},[_vm._v(\"\\n            External reference\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.externalReference),expression:\"externalReference\"}],staticClass:\"form-control\",attrs:{\"id\":\"external-reference\",\"placeholder\":\"Enter URI of external reference here\"},domProps:{\"value\":(_vm.externalReference)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.externalReference=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",attrs:{\"target\":\"_blank\",\"href\":_vm.externalReference}},[_vm._v(\"\\n                Open in new window\\n              \")])])])])]:_vm._e(),(_vm.specifierClass === 'Apomorphy')?[_c('p',[_vm._v(\"\\n          Apomorphy-based specifiers are not currently supported. Please enter\\n          them into the verbatim label field for now.\\n        \")])]:_vm._e()],2)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Specifier.vue?vue&type=template&id=7da9c22e&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylorefView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylorefView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Phylotree.vue?vue&type=template&id=06c519e2&\"\nimport script from \"./Phylotree.vue?vue&type=script&lang=js&\"\nexport * from \"./Phylotree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Phylotree.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./Specifier.vue?vue&type=template&id=7da9c22e&\"\nimport script from \"./Specifier.vue?vue&type=script&lang=js&\"\nexport * from \"./Specifier.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Specifier.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"card border-dark\"},[_c('h5',{staticClass:\"card-header border-dark\"},[_vm._v(\"\\n      Phyloreference collection\\n    \")]),_c('div',{staticClass:\"card-body\"},[_c('form',[(_vm.phylorefs.length > 1 || _vm.phyx.title)?_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"phyx-label\"}},[_vm._v(\"\\n            Collection name\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phyx.title),expression:\"phyx.title\"}],staticClass:\"form-control\",attrs:{\"id\":\"phyx-label\",\"type\":\"text\",\"placeholder\":\"Enter title here\"},domProps:{\"value\":(_vm.phyx.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.phyx, \"title\", $event.target.value)}}})])]):_vm._e(),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"curator-name\"}},[_vm._v(\"\\n            Curated by\\n          \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phyxCurator),expression:\"phyxCurator\"}],staticClass:\"form-control\",attrs:{\"id\":\"curator-name\",\"type\":\"text\",\"placeholder\":\"Curator name\"},domProps:{\"value\":(_vm.phyxCurator)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phyxCurator=$event.target.value}}})]),_c('div',{staticClass:\"col-md-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phyxCuratorEmail),expression:\"phyxCuratorEmail\"}],staticClass:\"form-control\",attrs:{\"id\":\"curator-email\",\"type\":\"email\",\"placeholder\":\"Curator e-mail address\"},domProps:{\"value\":(_vm.phyxCuratorEmail)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phyxCuratorEmail=$event.target.value}}})]),_c('div',{staticClass:\"col-md-3 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phyxCuratorORCID),expression:\"phyxCuratorORCID\"}],staticClass:\"form-control\",attrs:{\"id\":\"external-reference\",\"placeholder\":\"Curator ORCID\"},domProps:{\"value\":(_vm.phyxCuratorORCID)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.phyxCuratorORCID=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",attrs:{\"target\":\"_blank\",\"href\":'https://orcid.org/' + _vm.phyxCuratorORCID}},[_vm._v(\"\\n                Open in new window\\n              \")])])])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"default-nomen-code\"}},[_vm._v(\"\\n            Default nomenclatural code\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('select',{staticClass:\"form-control\",attrs:{\"id\":\"nomen-code\"},domProps:{\"value\":_vm.$store.getters.getDefaultNomenCodeURI},on:{\"change\":function($event){return _vm.$store.commit('setDefaultNomenCodeURI', { defaultNomenclaturalCodeURI: $event.target.value })}}},_vm._l((_vm.nomenCodes),function(nomenCode,nomenCodeIndex){return _c('option',{domProps:{\"value\":nomenCode.uri}},[_vm._v(\"\\n                \"+_vm._s(nomenCode.label)+\"\\n              \")])}),0)])])])])]),_c('div',{staticClass:\"card border-dark mt-2\"},[_c('h5',{staticClass:\"card-header border-dark\"},[_vm._v(\"\\n      Phyloreferences in this file\\n    \")]),_c('div',{staticClass:\"card-body p-0\"},[_c('table',{staticClass:\"table table-hover table-flush\"},[_c('thead',[_c('th',[_vm._v(\" \")]),_c('th',[_vm._v(\"Phyloreference\")]),_c('th',[_vm._v(\"Type\")]),_c('th',[_vm._v(\"Internal specifiers\")]),_c('th',[_vm._v(\"External specifiers\")]),_vm._l((_vm.phylogenies),function(phylogeny,phylogenyIndex){return _c('th',[_vm._v(\"\\n            \"+_vm._s(_vm.getPhylogenyLabel(phylogeny))+\"\\n          \")])})],2),_c('tbody',[(_vm.phylorefs.length === 0)?_c('tr',{staticClass:\"bg-white\"},[_c('td',{attrs:{\"colspan\":4 + _vm.phylogenies.length}},[_c('Center',[_c('em',[_vm._v(\"No phyloreferences in this file\")])])],1)]):_vm._e(),_vm._l((_vm.phylorefs),function(phyloref,phylorefIndex){return _c('tr',[_c('td',[_c('button',{staticClass:\"btn btn-sm btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deletePhyloref(phyloref)}}},[_vm._v(\"✕\")])]),_c('td',[_c('a',{attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', { phyloref: phyloref })}}},[_vm._v(\"\\n                \"+_vm._s(_vm.getPhylorefLabel(phyloref))+\"\\n              \")])]),_c('td',[_vm._v(_vm._s(_vm.$store.getters.getPhylorefType(phyloref)))]),_c('td',[_vm._v(_vm._s((phyloref.internalSpecifiers || []).length))]),_c('td',[_vm._v(_vm._s((phyloref.externalSpecifiers || []).length))]),_vm._l((_vm.phylogenies),function(phylogeny,phylogenyIndex){return _c('td',[(!_vm.getPhylorefExpectedNodeLabel(phyloref, phylogeny))?[_c('strong',[_vm._v(\"No expected node\")]),(_vm.hasReasoningResults(phyloref))?[(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length === 0)?[_vm._v(\"\\n                    but \"),_c('strong',[_vm._v(\"did not resolve to any node\")])]:(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length > 1)?[_vm._v(\"\\n                    but \"),_c('strong',[_vm._v(\"resolved to multiple nodes: \"+_vm._s(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)))])]:[_vm._v(\"\\n                    and resolved to \"+_vm._s(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0]||\"an unlabeled node\")+\"\\n                  \")]]:_vm._e()]:[_vm._v(\"\\n                Expected to resolve to node \"+_vm._s(_vm.getPhylorefExpectedNodeLabel(phyloref, phylogeny))+\"\\n                \"),(_vm.hasReasoningResults(phyloref))?[(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length === 0)?[_vm._v(\"\\n                    but \"),_c('strong',[_vm._v(\"did not resolve to any node\")])]:(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length > 1)?[_vm._v(\"\\n                    but \"),_c('strong',[_vm._v(\"resolved to multiple nodes: \"+_vm._s(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)))])]:[_vm._v(\"\\n                    and resolved\\n                    \"),(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0] === _vm.getPhylorefExpectedNodeLabel(phyloref, phylogeny))?[_vm._v(\"\\n                      correctly\\n                    \")]:[_c('strong',[_vm._v(\"incorrectly\")])],_vm._v(\"\\n                    to \"+_vm._s(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0]||\"an unlabeled node\")+\"\\n                  \")]]:_vm._e()]],2)})],2)})],2)])]),_c('div',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\",\"area-label\":\"Phyx file management\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.$store.commit('createEmptyPhyloref')}}},[_vm._v(\"\\n          Add phyloreference\\n        \")])])])]),_c('div',{staticClass:\"card border-dark mt-2\"},[_c('h5',{staticClass:\"card-header border-dark\"},[_vm._v(\"\\n      Phylogenies in this file\\n    \")]),_c('div',{staticClass:\"card-body p-0\"},[_c('table',{staticClass:\"table table-hover table-flush\"},[_vm._m(0),_c('tbody',[(_vm.phylogenies.length === 0)?_c('tr',{staticClass:\"bg-white\"},[_c('td',{attrs:{\"colspan\":3}},[_c('Center',[_c('em',[_vm._v(\"No phylogenies in this file\")])])],1)]):_vm._e(),_vm._l((_vm.phylogenies),function(phylogeny,phylogenyIndex){return _c('tr',[_c('td',[_c('button',{staticClass:\"btn btn-sm btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deletePhylogeny(phylogeny)}}},[_vm._v(\"✕\")])]),_c('td',[_c('a',{attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', { phylogeny: phylogeny })}}},[_vm._v(\"\\n                \"+_vm._s(_vm.getPhylogenyLabel(phylogeny))+\"\\n              \")])]),_c('td',[_vm._v(\"\\n              \"+_vm._s(phylogeny.description)+\"\\n            \")])])})],2)])]),_c('div',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\",\"area-label\":\"Phylogeny management\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.$store.commit('createEmptyPhylogeny')}}},[_vm._v(\"\\n          Add phylogeny\\n        \")])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\" \")]),_c('th',[_vm._v(\"Phylogeny\")]),_c('th',[_vm._v(\"Description\")])])}]\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhyxView.vue?vue&type=template&id=ec68fac6&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedIcon.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    v-if=\"dataChanged\"\n    class=\"card mb-2 border-dark\"\n  >\n    <div class=\"card-body bg-warning\">\n      {{ message }}\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * Creates a card with a warning if a variable has changed in value as compared\n * to a comparison object.\n *\n * If/when we need to create more kinds of warning cards, we'll probably spin\n * that off as its own component.\n */\n\nimport { isEqual } from 'lodash';\n\nexport default {\n  name: 'ModifiedCard',\n  props: {\n    message: {\n      type: String,\n      default: 'This element has changed! Please remember to save it.',\n    },\n    compare: Object, /* Object to check for changes. */\n    compareTo: Object, /* Changes will be determined by comparing this to this.compare */\n  },\n  computed: {\n    dataChanged() { return !isEqual(this.compare, this.compareTo); },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylogenyView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylogenyView.vue?vue&type=script&lang=js&\"","module.exports = {\n  // URL for submitting jobs to JPhyloRef for processing.\n  JPHYLOREF_SUBMISSION_URL: 'https://reasoner.phyloref.org/reason',\n\n  // X-Hub-Signature secret used to communicate with JPhyloRef.\n  JPHYLOREF_X_HUB_SIGNATURE_SECRET: 'undefined',\n};\n","<template>\n  <div\n    id=\"advanced-options\"\n    class=\"modal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n  >\n    <div\n      class=\"modal-dialog\"\n      role=\"document\"\n    >\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">\n            Advanced options\n          </h5>\n          <button\n            type=\"button\"\n            class=\"close\"\n            data-dismiss=\"modal\"\n            aria-label=\"Close\"\n          >\n            <span aria-hidden=\"true\">\n              &times;\n            </span>\n          </button>\n        </div>\n\n        <!-- Body of the about-us modal dialog -->\n        <div class=\"modal-body\">\n          <p>\n            The following is a representation of this PHYX in JSON. You\n            can edit the JSON directly if you like.\n          </p>\n\n          <div\n            v-if=\"JSONParsingError\"\n            class=\"card text-white bg-danger mb-2\"\n          >\n            <div class=\"card-body\">\n              <p class=\"card-text\">\n                This JSON could not be parsed: {{ JSONParsingError }}\n              </p>\n            </div>\n          </div>\n\n          <textarea\n            id=\"test-content\"\n            v-model.lazy=\"phyxAsJSON\"\n            style=\"width: 100%; margin: auto;\"\n            rows=\"10\"\n          />\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-info\"\n            @click=\"downloadAsJSONLD()\"\n          >\n            Download as JSON-LD\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-dismiss=\"modal\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * A modal for displaying advanced options, including:\n *  - An interactive display of the Phyx file as a JSON, allowing it to be edited\n *    directly.\n *  - A download button that allows the JSON-LD file to be downloaded for debugging.\n */\n\nimport { PhyxWrapper } from '@phyloref/phyx';\nimport { saveAs } from 'filesaver.js-npm';\n\nexport default {\n  name: 'AdvancedOptionsPanel',\n  data() {\n    return {\n      JSONParsingError: undefined,\n    };\n  },\n  computed: {\n    phyxAsJSON: {\n      get() {\n        // Return the value of the Phyx file as a JSON string.\n        return JSON.stringify(this.$store.state.phyx.currentPhyx, undefined, 4);\n      },\n      set(value) {\n        // Attempt to parse the JSON string and replace the current test file\n        // with that. Note that this won't reset the loaded Phyx, so will appear\n        // as a change to the file.\n        try {\n          const phyx = JSON.parse(value);\n          this.$store.commit('setCurrentPhyx', phyx);\n          this.JSONParsingError = undefined;\n        } catch (ex) {\n          this.JSONParsingError = ex.message;\n        }\n      },\n    },\n  },\n  methods: {\n    downloadAsJSONLD() {\n      // Exports the PHYX file as an OWL/JSON-LD file, which can be opened in\n      // Protege or converted into OWL/XML or other formats.\n      const wrapped = new PhyxWrapper(this.$store.state.phyx.currentPhyx);\n      const content = [JSON.stringify([wrapped.asJSONLD()], undefined, 4)];\n\n      // Save to local hard drive.\n      const jsonldFile = new File(content, 'download.jsonld', { type: 'application/json;charset=utf-8' });\n      saveAs(jsonldFile);\n    },\n  },\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.dataChanged)?_c('div',{staticClass:\"card mb-2 border-dark\"},[_c('div',{staticClass:\"card-body bg-warning\"},[_vm._v(\"\\n    \"+_vm._s(_vm.message)+\"\\n  \")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedCard.vue?vue&type=template&id=3d1fb5ea&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.newickErrors)?[_c('p',[_c('strong',[_vm._v(\"Error parsing phylogeny.\")]),_vm._v(\"\\n      Please\\n      \"),_c('a',{attrs:{\"href\":\"javascript: void\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', {phylogeny: _vm.phylogeny})}}},[_vm._v(\"\\n        edit the phylogeny\\n      \")]),_vm._v(\"\\n      to fix this error.\\n    \")])]:_c('div',{staticClass:\"phylotreeContainer\"},[_c('svg',{staticClass:\"col-md-12 phylogeny\",attrs:{\"id\":'phylogeny' + _vm.phylogenyIndex}}),_c('ResizeObserver',{on:{\"notify\":_vm.redrawTree}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"e2b8d56e-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Phylotree.vue?vue&type=template&id=06c519e2&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=3e5bcf01&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./PhylogenyView.vue?vue&type=template&id=e4e73c26&\"\nimport script from \"./PhylogenyView.vue?vue&type=script&lang=js&\"\nexport * from \"./PhylogenyView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n * The UI Store module handles UI elements, such as which view is currently\n * displayed.\n */\nimport Vue from 'vue';\n\nexport default {\n  state: {\n    // What should be displayed?\n    display: {\n      phyloref: undefined,\n      phylogeny: undefined,\n      specifier: undefined,\n    },\n  },\n  mutations: {\n    changeDisplay(state, newDisplay) {\n      // Change the main view of the UI to select a particular element.\n      // The new view object should contain some combination of the following keys:\n      //  'phyloref': A phyloreference to display.\n      //  'phylogeny': A phylogeny to display.\n      //  'specifier': A specifier to display.\n      Vue.set(state, 'display', newDisplay);\n    },\n  },\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Citation.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Citation.vue?vue&type=style&index=0&lang=css&\"","import { render, staticRenderFns } from \"./TopNavigationBar.vue?vue&type=template&id=80a3d178&\"\nimport script from \"./TopNavigationBar.vue?vue&type=script&lang=js&\"\nexport * from \"./TopNavigationBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n * Primary store module for the currently loaded Phyx file. We also keep a copy\n * of the Phyx file as it was loaded, allowing modifications to be noted. This\n * module also stores and resets the reasoning results provided by the JPhyloRef\n * server.\n */\n\nimport Vue from 'vue';\nimport { TaxonNameWrapper } from '@phyloref/phyx';\nimport { has, cloneDeep, isEqual } from 'lodash';\n\nexport default {\n  state: {\n    // The currently loaded Phyx file. All methods modify and change this variable.\n    currentPhyx: {\n      phylorefs: [],\n      phylogenies: [],\n    },\n\n    // A backup copy of the previously loaded Phyx file. Where this differs from\n    // currentPhyx, we know that the user has modified something.\n    loadedPhyx: {\n      phylorefs: [],\n      phylogenies: [],\n    },\n  },\n  getters: {\n    loadedPhyxChanged(state) {\n      return !isEqual(state.currentPhyx, state.loadedPhyx);\n    },\n    getDefaultNomenCodeURI(state) {\n      return state.currentPhyx.defaultNomenclaturalCodeURI\n        || TaxonNameWrapper.NAME_IN_UNKNOWN_CODE;\n    },\n  },\n  mutations: {\n    setCurrentPhyx(state, phyx) {\n      // Replace the current Phyx file using an object. This method does NOT\n      // update the loaded Phyx file, so these changes are treated as changes\n      // made since the file was last loaded.\n      Vue.set(state, 'currentPhyx', phyx);\n    },\n    setLoadedPhyx(state, phyx) {\n      // Replace the current loaded Phyx file using an object. This also updates\n      // the loaded Phyx, so we can check for changes from the loaded file.\n      //\n      // This can be called without an argument to reset the loaded phyx to be\n      // identical to the current Phyx.\n      if (phyx === undefined || phyx === state.currentPhyx) {\n        // A common error is using the same object as the current Phyx and the\n        // loaded Phyx. In that case, we deep-copy loaded Phyx so that modifying\n        // one won't automatically modify the other.\n        Vue.set(state, 'loadedPhyx', JSON.parse(JSON.stringify(state.currentPhyx)));\n      } else {\n        Vue.set(state, 'loadedPhyx', phyx);\n      }\n    },\n    createEmptyPhyloref(state) {\n      // Create a new, empty phyloreference.\n      state.currentPhyx.phylorefs.push({});\n    },\n    createEmptyPhylogeny(state) {\n      // Create a new, empty phylogeny.\n      state.currentPhyx.phylogenies.push({});\n    },\n    deletePhyloref(state, payload) {\n      // Delete a phyloreference.\n      if (!has(payload, 'phyloref')) {\n        throw new Error('deletePhyloref needs a phyloref to modify using the \"phyloref\" argument');\n      }\n\n      const indexOf = (state.currentPhyx.phylorefs || []).indexOf(payload.phyloref);\n      if (indexOf < 0) throw new Error(`Could not delete unknown phyloref: ${JSON.stringify(payload.phyloref)}`);\n\n      state.currentPhyx.phylorefs.splice(indexOf, 1);\n    },\n    deletePhylogeny(state, payload) {\n      // Delete a phylogeny.\n      if (!has(payload, 'phylogeny')) {\n        throw new Error('deletePhylogeny needs a phylogeny to modify using the \"phylogeny\" argument');\n      }\n\n      const indexOf = (state.currentPhyx.phylogenies || []).indexOf(payload.phylogeny);\n      if (indexOf < 0) throw new Error(`Could not delete unknown phylogeny: ${JSON.stringify(payload.phylogeny)}`);\n\n      state.currentPhyx.phylogenies.splice(indexOf, 1);\n    },\n    setDefaultNomenCodeURI(state, payload) {\n      if (!has(payload, 'defaultNomenclaturalCodeURI')) {\n        throw new Error('No default nomenclatural code URI provided to setDefaultNomenCodeURI');\n      }\n\n      Vue.set(state.currentPhyx, 'defaultNomenclaturalCodeURI', payload.defaultNomenclaturalCodeURI);\n    },\n    duplicatePhyloref(state, payload) {\n      if (!has(payload, 'phyloref')) {\n        throw new Error('duplicatePhyloref needs a phyloref to duplicate using the \"phyloref\" argument');\n      }\n\n      let indexOf = (state.currentPhyx.phylorefs || []).indexOf(payload.phyloref);\n      if (indexOf < 0) indexOf = state.currentPhyx.phylorefs.length;\n      state.currentPhyx.phylorefs.splice(indexOf, 0, cloneDeep(payload.phyloref));\n    },\n    setCurator(state, payload) {\n      // Set the curator name, e-mail address or (eventually) ORCID.\n      if (has(payload, 'name')) Vue.set(state.currentPhyx, 'curator', payload.name);\n      if (has(payload, 'email')) Vue.set(state.currentPhyx, 'curatorEmail', payload.email);\n      if (has(payload, 'orcid')) Vue.set(state.currentPhyx, 'curatorORCID', payload.orcid);\n    },\n  },\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Citation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Citation.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"col-md-12\">\n    <div class=\"input-group mb-1\">\n      <div class=\"input-group-prepend\">\n        <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n          {{ specifierClass }}\n        </button>\n        <div class=\"dropdown-menu\">\n          <!-- TODO: remove external reference as a type and add it in as a separate property. -->\n          <a class=\"dropdown-item\" :class=\"{active: specifierClass === 'Taxon'}\" href=\"javascript:;\" @click=\"specifierClass = 'Taxon'\">Taxon</a>\n          <a class=\"dropdown-item\" :class=\"{active: specifierClass === 'Specimen'}\"  href=\"javascript:;\" @click=\"specifierClass = 'Specimen'\">Specimen</a>\n          <a class=\"dropdown-item\" :class=\"{active: specifierClass === 'External reference'}\"  href=\"javascript:;\" @click=\"specifierClass = 'External reference'\">External reference</a>\n          <a class=\"dropdown-item\" :class=\"{active: specifierClass === 'Apomorphy'}\"  href=\"javascript:;\" @click=\"specifierClass = 'Apomorphy'\">Apomorphy</a>\n        </div>\n      </div>\n      <div class=\"input-group-prepend\" v-if=\"specifierClass === 'Taxon'\">\n        <button\n          class=\"btn btn-outline-secondary dropdown-toggle\"\n          type=\"button\"\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n        >\n          {{ nomenclaturalCodeObj.shortName }}\n        </button>\n        <div class=\"dropdown-menu\">\n          <a\n            class=\"dropdown-item\"\n            v-for=\"(nomenCode, nomenCodeIndex) of nomenCodes\"\n            :class=\"{active: enteredNomenclaturalCode === nomenCode.uri }\"\n            href=\"javascript:;\"\n            @click=\"enteredNomenclaturalCode = nomenCode.uri\"\n          >\n            {{ nomenCode.label }}\n          </a>\n        </div>\n      </div>\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"specifierLabel\"\n      >\n      <div class=\"input-group-append\">\n        <button\n          class=\"btn btn-outline-secondary\"\n          :class=\"{active: expand}\"\n          @click=\"expand = !expand\"\n        >\n          {{ (expand) ? 'Collapse' : 'Expand' }}\n        </button>\n      </div>\n      <div class=\"input-group-append\">\n        <button\n          class=\"btn btn-danger\"\n          @click=\"deleteSpecifier()\"\n        >\n          &times;\n        </button>\n      </div>\n    </div>\n    <div\n      v-if=\"expand\"\n      class=\"card mt-1 mb-3\"\n    >\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">\n          Specifier details\n        </h5>\n\n        <!-- Specifier type: internal or external -->\n        <div class=\"form-group row\">\n          <label\n            class=\"col-form-label col-md-2\"\n            for=\"specifier-type\"\n          >\n            Specifier type\n          </label>\n          <div class=\"col-md-10\">\n            <select\n              id=\"specifier-type\"\n              v-model=\"specifierType\"\n              class=\"form-control\"\n            >\n              <option value=\"Internal\">\n                Internal specifier\n              </option>\n              <option value=\"External\">\n                External specifier\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <!-- Verbatim specifier -->\n        <div class=\"form-group row\">\n          <label\n            class=\"col-form-label col-md-2\"\n            for=\"verbatim-specifier\"\n          >\n            Verbatim specifier\n          </label>\n          <div class=\"col-md-10\">\n            <input\n              id=\"verbatim-specifier\"\n              v-model=\"enteredVerbatimLabel\"\n              class=\"form-control\"\n              @change=\"updateSpecifier()\"\n            />\n          </div>\n        </div>\n\n        <!-- Specifier class -->\n        <div class=\"form-group row\">\n          <label\n            class=\"col-form-label col-md-2\"\n            for=\"specifier-class\"\n          >\n            Specifier class\n          </label>\n          <div class=\"col-md-10\">\n            <select\n              id=\"specifier-class\"\n              v-model=\"specifierClass\"\n              class=\"form-control\"\n              @change=\"updateSpecifier()\"\n            >\n              <option value=\"Taxon\">\n                Taxon\n              </option>\n              <option value=\"Specimen\">\n                Specimen\n              </option>\n              <option value=\"External reference\">\n                External reference\n              </option>\n              <option value=\"Apomorphy\">\n                Apomorphy\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <!--\n          We provide three different possible displays for the three different\n          types here\n        -->\n        <template v-if=\"specifierClass === 'Taxon'\">\n          <!-- Specifier class -->\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"nomen-code\"\n            >\n              Nomenclatural code\n            </label>\n            <div class=\"col-md-10\">\n              <select\n                id=\"nomen-code\"\n                v-model=\"enteredNomenclaturalCode\"\n                class=\"form-control\"\n              >\n                <option\n                  v-for=\"(nomenCode, nomenCodeIndex) of nomenCodes\"\n                  :value=\"nomenCode.uri\"\n                >\n                  {{ nomenCode.label }}\n                </option>\n              </select>\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"name-complete\"\n            >\n              Binomial/trinomial name\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"name-complete\"\n                class=\"form-control\"\n                v-model.lazy=\"taxonNameWrapped.nameComplete\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"genus\"\n            >\n              Genus\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"genus\"\n                class=\"form-control\"\n                v-model=\"taxonNameWrapped.genusPart\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"specific-epithet\"\n            >\n              Specific epithet\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"specific-epithet\"\n                class=\"form-control\"\n                v-model=\"taxonNameWrapped.specificEpithet\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\" v-if=\"taxonNameWrapped.infraspecificEpithet\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"infraspecific-epithet\"\n            >\n              Infraspecific epithet\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"infraspecific-epithet\"\n                class=\"form-control\"\n                v-model=\"taxonNameWrapped.infraspecificEpithet\"\n              >\n            </div>\n          </div>\n        </template>\n\n        <template v-if=\"specifierClass === 'Specimen'\">\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"occurrence-id\"\n            >\n              Occurrence ID\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"occurrence-id\"\n                v-model=\"enteredOccurrenceID\"\n                class=\"form-control\"\n                placeholder=\"Enter the occurrence ID of the specimen here\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"collection-code\"\n            >\n              Institution code\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"collection-code\"\n                readonly\n                class=\"form-control\"\n                :value=\"specimenWrapped.institutionCode\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"collection-code\"\n            >\n              Collection code\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"collection-code\"\n                readonly\n                class=\"form-control\"\n                :value=\"specimenWrapped.collectionCode\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"catalog-number\"\n            >\n              Catalog number\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"catalog-number\"\n                readonly\n                class=\"form-control\"\n                :value=\"specimenWrapped.catalogNumber\"\n              >\n            </div>\n          </div>\n        </template>\n\n        <template v-if=\"specifierClass === 'External reference'\">\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"external-reference\"\n            >\n              External reference\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"external-reference\"\n                v-model=\"externalReference\"\n                class=\"form-control\"\n                placeholder=\"Enter URI of external reference here\"\n              >\n              <div class=\"input-group-append\">\n                <a\n                  class=\"btn btn-outline-secondary\"\n                  target=\"_blank\"\n                  :href=\"externalReference\"\n                >\n                  Open in new window\n                </a>\n              </div>\n            </div>\n          </div>\n        </template>\n\n        <template v-if=\"specifierClass === 'Apomorphy'\">\n          <p>\n            Apomorphy-based specifiers are not currently supported. Please enter\n            them into the verbatim label field for now.\n          </p>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * Displays a specifier as a textfield/expanded field.\n *\n * Here is a quick guide to how this is wired together:\n *  - Individual text fields will update their synthesized field (i.e. editing genus\n *    will update specifierText).\n *  - Editing or otherwise updating the synthesized field will overwrite\n *    locally stored specifier (specifier).\n *  - If our local specifier falls out of sync with the remoteSpecifier, we\n *    overwrite it using the specifier.\n */\n\nimport Vue from 'vue';\nimport {\n  PhylorefWrapper,\n  TaxonomicUnitWrapper,\n  TaxonConceptWrapper,\n  TaxonNameWrapper,\n  SpecimenWrapper,\n} from '@phyloref/phyx';\nimport {\n  has, isEmpty, isEqual, cloneDeep, pickBy, uniqueId,\n} from 'lodash';\n\n// TaxonomicUnitWrapper doesn't yet set a type for apomophies, so\n// we'll set one up ourselves.\nTaxonomicUnitWrapper.TYPE_APOMORPHY = 'http://purl.obolibrary.org/obo/CDAO_0000071';\n\nexport default {\n  name: 'Specifier',\n  props: {\n    specifierIndex: {\n      default: () => uniqueId(),\n    },\n    remoteSpecifier: { /* The specifier to display and edit */\n      type: Object,\n      required: true,\n    },\n    remoteSpecifierId: { /* An ID for this specifier. We recalculate if this ID changes. */\n      type: String,\n      required: false,\n      default: () => uniqueId('remoteSpecifierId'),\n    },\n    phyloref: { /* The phyloreference containing this specifier */\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    // All of this will be filled in by mounted().\n    return {\n      expand: false,\n      specifierClass: undefined,\n      specimenWrapped: undefined,\n      taxonNameWrapped: undefined,\n      enteredNomenclaturalCode: this.$store.getters.getDefaultNomenCodeURI,\n      enteredVerbatimLabel: undefined,\n      externalReference: undefined,\n    };\n  },\n  computed: {\n    nomenCodes: () => TaxonNameWrapper.getNomenclaturalCodes(),\n    nomenclaturalCodeObj() {\n      return TaxonNameWrapper.getNomenCodeAsObject(this.enteredNomenclaturalCode);\n    },\n    specifier() {\n      // Check the specifierClass before we figure out how to construct the\n      // specifier we might want to overwrite.\n      let result;\n      switch (this.specifierClass) {\n        case 'Taxon':\n          result = TaxonConceptWrapper.fromLabel(\n            this.enteredScientificName,\n            this.enteredNomenclaturalCode\n          );\n          break;\n\n        case 'Specimen':\n          result = SpecimenWrapper.fromOccurrenceID(this.enteredOccurrenceID);\n          break;\n\n        case 'Apomorphy':\n          result = {\n            '@type': TaxonomicUnitWrapper.TYPE_APOMORPHY,\n          };\n          break;\n\n        case 'External reference':\n          result = {\n            // We store the external reference in the '@id' field.\n            '@id': this.externalReference || this.enteredVerbatimLabel || \"\",\n          };\n          break;\n\n        default:\n          // Make sure we have a result, even if it's just a blank object.\n          result = {};\n      }\n\n      // Add the entered verbatim label.\n      if (this.enteredVerbatimLabel) {\n        result.label = this.enteredVerbatimLabel;\n      }\n\n      return result;\n    },\n    specifierType: {\n      get() {\n        return new PhylorefWrapper(this.phyloref).getSpecifierType(this.remoteSpecifier);\n      },\n      set(type) {\n        this.$store.commit(\n          'setSpecifierType',\n          {\n            phyloref: this.phyloref,\n            specifier: this.remoteSpecifier,\n            specifierType: type,\n          },\n        );\n      },\n    },\n    specifierLabel: {\n      get() {\n        if (this.enteredVerbatimLabel) return this.enteredVerbatimLabel;\n        if (this.externalReference) return this.externalReference;\n        if (this.specimenWrapped) return this.specimenWrapped.label;\n        if (this.taxonNameWrapped) return this.taxonNameWrapped.label;\n        return \"\";\n      },\n      set(label) {\n        // 1. Set the verbatim label to this.\n        this.enteredVerbatimLabel = label;\n\n        // 2. Attempt to extract the specifier information from there.\n        switch (this.specifierClass) {\n          case 'Taxon':\n            // Try to extract a taxon name from this.\n            this.taxonNameWrapped = TaxonNameWrapper.fromVerbatimName(\n              label,\n              this.enteredNomenclaturalCode\n            );\n            break;\n\n          case 'Specimen':\n            this.specimenWrapped = SpecimenWrapper.fromOccurrenceID(\n              label\n            );\n            break;\n\n          case 'Apomorphy':\n            // For now, we just write apomorphies into the verbatim label.\n            break;\n\n          case 'External reference':\n            this.externalReference = label;\n            break;\n        }\n\n        this.updateSpecifier();\n      },\n    },\n    enteredScientificName: {\n      // TODO: We should want the user if we couldn't parse this; at the moment,\n      // we silently ignore this and no specifier gets written.\n      get() {\n        if(this.taxonNameWrapped) return this.taxonNameWrapped.nameComplete;\n        return \"\";\n      },\n      set(scname) {\n        // Don't do anything if a scname is not actually set.\n        if (!scname) return;\n\n        this.taxonNameWrapped = new TaxonNameWrapper(TaxonNameWrapper.fromVerbatimName(scname, this.enteredNomenclaturalCode) || {});\n        this.updateSpecifier();\n        this.enteredScientificName = scname;\n      }\n    },\n    enteredOccurrenceID: {\n      get() {\n        if(this.specimenWrapped) return this.specimenWrapped.occurrenceID;\n        return \"\";\n      },\n      set(occurID) {\n        this.specimenWrapped = new SpecimenWrapper(SpecimenWrapper.fromOccurrenceID(occurID));\n        this.updateSpecifier();\n      },\n    }\n  },\n  watch: {\n    phyloref() {\n      this.recalculateEntered();\n    },\n    remoteSpecifier() {\n      this.recalculateEntered();\n    },\n    remoteSpecifierId() {\n      this.recalculateEntered();\n    },\n    specifierClass() {\n      // If this changes we need to update the specifier!\n      this.updateSpecifier();\n    }\n  },\n  mounted() {\n    this.recalculateEntered();\n  },\n  methods: {\n    getSpecifierClass(tunit) {\n      // Return the specifier class for a tunit.\n      if (tunit.types.length > 0) {\n        switch (tunit.types[0]) {\n          case TaxonomicUnitWrapper.TYPE_TAXON_CONCEPT:\n            return 'Taxon';\n\n          case TaxonomicUnitWrapper.TYPE_SPECIMEN:\n            return 'Specimen';\n\n          case TaxonomicUnitWrapper.TYPE_APOMORPHY:\n            return 'Apomorphy';\n        }\n\n        // If it has an '@id', it is an external reference to that '@id'.\n        if (has(tunit, '@id')) {\n          return 'External reference';\n        }\n      }\n\n      return undefined;\n    },\n    recalculateEntered() {\n      console.log(\"Recalculating entered values from: \", this.remoteSpecifier);\n\n      // Recalculate the entered values.\n      const tunit = new TaxonomicUnitWrapper(cloneDeep(this.remoteSpecifier || {}));\n\n      // If it has an '@id', it is an external reference to that '@id'.\n      if (has(this.remoteSpecifier, '@id')) {\n        this.specifierClass = 'External reference';\n        this.externalReference = this.remoteSpecifier['@id'];\n        // tunit.label adds '<>s' around the @id. We work around that by trying\n        // to read the label directly.\n        this.enteredVerbatimLabel = this.remoteSpecifier['label'] || tunit.label;\n      } else {\n        this.enteredVerbatimLabel = tunit.label;\n        this.specifierClass = this.getSpecifierClass(tunit) || 'Taxon';\n      }\n\n      const taxonConceptWrapped = new TaxonConceptWrapper(tunit.taxonConcept)\n      if (taxonConceptWrapped && taxonConceptWrapped.taxonName) {\n        this.taxonNameWrapped = new TaxonNameWrapper(taxonConceptWrapped.taxonName);\n        this.enteredNomenclaturalCode = this.taxonNameWrapped.nomenclaturalCode ||\n          this.enteredNomenclaturalCode;\n      }\n\n      if (tunit.specimen) {\n        this.specimenWrapped = new SpecimenWrapper(tunit.specimen);\n      }\n\n      // TODO: what if all fail?\n    },\n    deleteSpecifier() {\n      // Update remoteSpecifier to what we've got currently entered.\n      const confirmed = confirm('Are you sure you want to delete this specifier?');\n      if (confirmed) {\n        console.log(\"Deleting specifier: \", this.phyloref, this.remoteSpecifier);\n        this.$store.commit('deleteSpecifier', {\n          phyloref: this.phyloref,\n          specifier: this.remoteSpecifier,\n        });\n      }\n    },\n    updateSpecifier() {\n      const result = this.specifier;\n\n      // If our local specifier differs from the remoteSpecifier, update it.\n      if (isEqual(result, this.remoteSpecifier)) return;\n\n      console.log('Updating specifier as ', result, ' differs from ', this.remoteSpecifier);\n      this.$store.commit('setSpecifierProps', {\n        specifier: this.remoteSpecifier,\n        props: result,\n      });\n    },\n  },\n};\n</script>\n\n<style>\n.hand-cursor {\n  cursor: pointer;\n}\n</style>\n"],"sourceRoot":""}